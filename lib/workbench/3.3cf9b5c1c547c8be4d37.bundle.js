(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{226:function(t,e,n){var r,o;r=[n(213)],void 0===(o=function(){var t,e,n,r;return(r=window.nv||{}).version="1.1.10b",r.dev=!0,window.nv=r,r.tooltip={},r.utils={},r.models={},r.charts={},r.graphs=[],r.logs={},r.dispatch=d3.dispatch("render_start","render_end"),r.dev&&(r.dispatch.on("render_start",(function(t){r.logs.startTime=+new Date})),r.dispatch.on("render_end",(function(t){r.logs.endTime=+new Date,r.logs.totalTime=r.logs.endTime-r.logs.startTime}))),r.log=function(){if(r.dev&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(r.dev&&"function"==typeof console.log&&Function.prototype.bind){var t=Function.prototype.bind.call(console.log,console);t.apply(console,arguments)}return arguments[arguments.length-1]},r.render=function(t){t=t||1,r.render.active=!0,r.dispatch.render_start(),setTimeout((function(){for(var e,n,o=0;o<t&&(n=r.render.queue[o]);o++)e=n.generate(),typeof n.callback==typeof Function&&n.callback(e),r.graphs.push(e);r.render.queue.splice(0,o),r.render.queue.length?setTimeout(arguments.callee,0):(r.render.active=!1,r.dispatch.render_end())}),0)},r.render.active=!1,r.render.queue=[],r.addGraph=function(t){typeof arguments[0]==typeof Function&&(t={generate:arguments[0],callback:arguments[1]}),r.render.queue.push(t),r.render.active||r.render()},r.identity=function(t){return t},r.strip=function(t){return t.replace(/(\s|&)/g,"")},d3.time.monthEnd=function(t){return new Date(t.getFullYear(),t.getMonth(),0)},d3.time.monthEnds=(t=d3.time.monthEnd,e=function(t){var e,n;t.setUTCDate(t.getUTCDate()+1),t.setDate((e=t.getMonth()+1,n=t.getFullYear(),new Date(n,e+1,0).getDate()))},n=function(t){return t.getMonth()},function(r,o,a){var i=t(r),l=[];if(i<r&&e(i),a>1)for(;i<o;){var s=new Date(+i);n(s)%a==0&&l.push(s),e(i)}else for(;i<o;)l.push(new Date(+i)),e(i);return l}),r.interactiveGuideline=function(){"use strict";var t=r.models.tooltip(),e=null,n=null,o={left:0,top:0},a=d3.scale.linear(),i=(d3.scale.linear(),d3.dispatch("elementMousemove","elementMouseout")),l=!0,s=null,c=-1!==navigator.userAgent.indexOf("MSIE");function u(d){d.each((function(d){var p=d3.select(this),f=e||960,h=n||400,g=p.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([d]);function v(){var e=d3.mouse(this),n=e[0],r=e[1],l=!0,s=!1;if(c&&(n=d3.event.offsetX,r=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(l=!1),d3.event.target.className.baseVal.match("nv-legend")&&(s=!0)),l&&(n-=o.left,r-=o.top),n<0||r<0||n>f||r>h||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||s){if(c&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&d3.event.relatedTarget.className.match(t.nvPointerEventsClass))return;return i.elementMouseout({mouseX:n,mouseY:r}),void u.renderGuideLine(null)}var d=a.invert(n);i.elementMousemove({mouseX:n,mouseY:r,pointXValue:d})}g.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),s&&(s.on("mousemove",v,!0).on("mouseout",v,!0),u.renderGuideLine=function(t){if(l){var e=g.select(".nv-interactiveGuideLine").selectAll("line").data(null!=t?[r.utils.NaNtoZero(t)]:[],String);e.enter().append("line").attr("class","nv-guideline").attr("x1",(function(t){return t})).attr("x2",(function(t){return t})).attr("y1",h).attr("y2",0),e.exit().remove()}})}))}return u.dispatch=i,u.tooltip=t,u.margin=function(t){return arguments.length?(o.top=void 0!==t.top?t.top:o.top,o.left=void 0!==t.left?t.left:o.left,u):o},u.width=function(t){return arguments.length?(e=t,u):e},u.height=function(t){return arguments.length?(n=t,u):n},u.xScale=function(t){return arguments.length?(a=t,u):a},u.showGuideLine=function(t){return arguments.length?(l=t,u):l},u.svgContainer=function(t){return arguments.length?(s=t,u):s},u},r.interactiveBisect=function(t,e,n){"use strict";if(!t instanceof Array)return null;"function"!=typeof n&&(n=function(t,e){return t.x});var r=d3.bisector(n).left,o=d3.max([0,r(t,e)-1]),a=n(t[o],o);if(void 0===a&&(a=o),a===e)return o;var i=d3.min([o+1,t.length-1]),l=n(t[i],i);return void 0===l&&(l=i),Math.abs(l-e)>=Math.abs(a-e)?o:i},function(){"use strict";window.nv.tooltip={},window.nv.models.tooltip=function(){var t=null,e=null,n="w",o=50,a=25,i=null,l=null,s=null,c={left:null,top:null},u=!0,d="nvtooltip-"+Math.floor(1e5*Math.random()),p="nv-pointer-events-none",f=function(t,e){return t},h=function(t){return t},g=function(e){if(null!=t)return t;if(null==e)return"";var n="<table><thead><tr><td colspan='3'><strong class='x-value'>"+h(e.value)+"</strong></td></tr></thead><tbody>";return e.series instanceof Array&&e.series.forEach((function(t,e){n+="<tr>",n+="<td class='legend-color-guide'><div style='background-color: "+t.color+";'></div></td>",n+="<td class='key'>"+t.key+":</td>",n+="<td class='value'>"+f(t.value,e)+"</td></tr>"})),n+="</tbody></table>"},v=function(t){return!!(t&&t.series&&t.series.length>0)};function m(){if(u&&v(e)){!function(){if(s){var t=d3.select(s);"svg"!==t.node().tagName&&(t=t.select("svg"));var e=t.node()?t.attr("viewBox"):null;if(e){e=e.split(" ");var n=parseInt(t.style("width"))/e[2];c.left=c.left*n,c.top=c.top*n}}}();var t=c.left,f=null!=i?i:c.top,h=function(t){var e,n=(e=s?d3.select(s):d3.select("body")).select(".nvtooltip");return null===n.node()&&(n=e.append("div").attr("class","nvtooltip "+(l||"xy-tooltip")).attr("id",d)),n.node().innerHTML=t,n.style("top",0).style("left",0).style("opacity",0),n.selectAll("div, table, td, tr").classed(p,!0),n.classed(p,!0),n.node()}(g(e));if(s){var x=s.getElementsByTagName("svg")[0],y=(x?x.getBoundingClientRect():s.getBoundingClientRect(),{left:0,top:0});if(x){var b=x.getBoundingClientRect(),k=s.getBoundingClientRect();y.top=Math.abs(b.top-k.top),y.left=Math.abs(b.left-k.left)}t+=s.offsetLeft+y.left-2*s.scrollLeft,f+=s.offsetTop+y.top-2*s.scrollTop}return a&&a>0&&(f=Math.floor(f/a)*a),r.tooltip.calcTooltipPosition([t,f],n,o,h),m}}return m.nvPointerEventsClass=p,m.content=function(e){return arguments.length?(t=e,m):t},m.contentGenerator=function(t){return arguments.length?("function"==typeof t&&(g=t),m):g},m.data=function(t){return arguments.length?(e=t,m):e},m.gravity=function(t){return arguments.length?(n=t,m):n},m.distance=function(t){return arguments.length?(o=t,m):o},m.snapDistance=function(t){return arguments.length?(a=t,m):a},m.classes=function(t){return arguments.length?(l=t,m):l},m.chartContainer=function(t){return arguments.length?(s=t,m):s},m.position=function(t){return arguments.length?(c.left=void 0!==t.left?t.left:c.left,c.top=void 0!==t.top?t.top:c.top,m):c},m.fixedTop=function(t){return arguments.length?(i=t,m):i},m.enabled=function(t){return arguments.length?(u=t,m):u},m.valueFormatter=function(t){return arguments.length?("function"==typeof t&&(f=t),m):f},m.headerFormatter=function(t){return arguments.length?("function"==typeof t&&(h=t),m):h},m.id=function(){return d},m},r.tooltip.show=function(t,e,n,o,a,i){var l=document.createElement("div");l.className="nvtooltip "+(i||"xy-tooltip");var s=a;a&&!a.tagName.match(/g|svg/i)||(s=document.getElementsByTagName("body")[0]),l.style.left=0,l.style.top=0,l.style.opacity=0,l.innerHTML=e,s.appendChild(l),a&&(t[0]=t[0]-a.scrollLeft,t[1]=t[1]-a.scrollTop),r.tooltip.calcTooltipPosition(t,n,o,l)},r.tooltip.findFirstNonSVGParent=function(t){for(;null!==t.tagName.match(/^g|svg$/i);)t=t.parentNode;return t},r.tooltip.findTotalOffsetTop=function(t,e){var n=e;do{isNaN(t.offsetTop)||(n+=t.offsetTop)}while(t=t.offsetParent);return n},r.tooltip.findTotalOffsetLeft=function(t,e){var n=e;do{isNaN(t.offsetLeft)||(n+=t.offsetLeft)}while(t=t.offsetParent);return n},r.tooltip.calcTooltipPosition=function(t,e,n,o){var a,i,l=parseInt(o.offsetHeight),s=parseInt(o.offsetWidth),c=r.utils.windowSize().width,u=r.utils.windowSize().height,d=window.pageYOffset,p=window.pageXOffset;u=window.innerWidth>=document.body.scrollWidth?u:u-16,c=window.innerHeight>=document.body.scrollHeight?c:c-16,n=n||20;var f=function(t){return r.tooltip.findTotalOffsetTop(t,i)},h=function(t){return r.tooltip.findTotalOffsetLeft(t,a)};switch(e=e||"s"){case"e":a=t[0]-s-n,i=t[1]-l/2;var g=h(o),v=f(o);g<p&&(a=t[0]+n>p?t[0]+n:p-g+a),v<d&&(i=d-v+i),v+l>d+u&&(i=d+u-v+i-l);break;case"w":a=t[0]+n,i=t[1]-l/2,g=h(o),v=f(o),g+s>c&&(a=t[0]-s-n),v<d&&(i=d+5),v+l>d+u&&(i=d+u-v+i-l);break;case"n":a=t[0]-s/2-5,i=t[1]+n,g=h(o),v=f(o),g<p&&(a=p+5),g+s>c&&(a=a-s/2+5),v+l>d+u&&(i=d+u-v+i-l);break;case"s":a=t[0]-s/2,i=t[1]-l-n,g=h(o),v=f(o),g<p&&(a=p+5),g+s>c&&(a=a-s/2+5),d>v&&(i=d);break;case"none":a=t[0],i=t[1]-n,g=h(o),v=f(o)}return o.style.left=a+"px",o.style.top=i+"px",o.style.opacity=1,o.style.position="absolute",o},r.tooltip.cleanup=function(){for(var t=document.getElementsByClassName("nvtooltip"),e=[];t.length;)e.push(t[0]),t[0].style.transitionDelay="0 !important",t[0].style.opacity=0,t[0].className="nvtooltip-pending-removal";setTimeout((function(){for(;e.length;){var t=e.pop();t.parentNode.removeChild(t)}}),500)}}(),r.utils.windowSize=function(){var t={width:640,height:480};return document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(t.width=window.innerWidth,t.height=window.innerHeight),t},r.utils.windowResize=function(t){if(void 0!==t){var e=window.onresize;window.onresize=function(n){"function"==typeof e&&e(n),t(n)}}},r.utils.getColor=function(t){return arguments.length?"[object Array]"===Object.prototype.toString.call(t)?function(e,n){return e.color||t[n%t.length]}:t:r.utils.defaultColor()},r.utils.defaultColor=function(){var t=d3.scale.category20().range();return function(e,n){return e.color||t[n%t.length]}},r.utils.customTheme=function(t,e,n){e=e||function(t){return t.key};var r=(n=n||d3.scale.category20().range()).length;return function(o,a){var i=e(o);return r||(r=n.length),void 0!==t[i]?"function"==typeof t[i]?t[i]():t[i]:n[--r]}},r.utils.pjax=function(t,e){function n(n){d3.html(n,(function(n){var o=d3.select(e).node();o.parentNode.replaceChild(d3.select(n).select(e).node(),o),r.utils.pjax(t,e)}))}d3.selectAll(t).on("click",(function(){history.pushState(this.href,this.textContent,this.href),n(this.href),d3.event.preventDefault()})),d3.select(window).on("popstate",(function(){d3.event.state&&n(d3.event.state)}))},r.utils.calcApproxTextWidth=function(t){if(t instanceof d3.selection){var e=parseInt(t.style("font-size").replace("px",""));return t.text().length*e*.5}return 0},r.utils.NaNtoZero=function(t){return"number"!=typeof t||isNaN(t)||null===t||t===1/0?0:t},r.utils.optionsFunc=function(t){return t&&d3.map(t).forEach(function(t,e){"function"==typeof this[t]&&this[t](e)}.bind(this)),this},r.models.axis=function(){"use strict";var t,e=d3.svg.axis(),n={top:0,right:0,bottom:0,left:0},o=75,a=60,i=d3.scale.linear(),l=null,s=!0,c=!0,u=0,d=!0,p=!1,f=!1,h=null;function g(r){return r.each((function(r){var a=d3.select(this).selectAll("g.nv-wrap.nv-axis").data([r]),g=(a.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),a.select("g"));null!==h?e.ticks(h):"top"!=e.orient()&&"bottom"!=e.orient()||e.ticks(Math.abs(i.range()[1]-i.range()[0])/100),g.transition().call(e),t=t||e.scale();var v=e.tickFormat();null==v&&(v=t.tickFormat());var m=g.selectAll("text.nv-axislabel").data([l||null]);switch(m.exit().remove(),e.orient()){case"top":m.enter().append("text").attr("class","nv-axislabel");var x=2==i.range().length?i.range()[1]:i.range()[i.range().length-1]+(i.range()[1]-i.range()[0]);m.attr("text-anchor","middle").attr("y",0).attr("x",x/2),s&&((A=a.selectAll("g.nv-axisMaxMin").data(i.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text"),A.exit().remove(),A.attr("transform",(function(t,e){return"translate("+i(t)+",0)"})).select("text").attr("dy","0em").attr("y",-e.tickPadding()).attr("text-anchor","middle").text((function(t,e){var n=v(t);return(""+n).match("NaN")?"":n})),A.transition().attr("transform",(function(t,e){return"translate("+i.range()[e]+",0)"})));break;case"bottom":var y=36,b=30,k=g.selectAll("g").select("text");if(u%360){k.each((function(t,e){var n=this.getBBox().width;n>b&&(b=n)}));var w=Math.abs(Math.sin(u*Math.PI/180));y=(w?w*b:b)+30,k.attr("transform",(function(t,e,n){return"rotate("+u+" 0,0)"})).style("text-anchor",u%360>0?"start":"end")}m.enter().append("text").attr("class","nv-axislabel"),x=2==i.range().length?i.range()[1]:i.range()[i.range().length-1]+(i.range()[1]-i.range()[0]),m.attr("text-anchor","middle").attr("y",y).attr("x",x/2),s&&((A=a.selectAll("g.nv-axisMaxMin").data([i.domain()[0],i.domain()[i.domain().length-1]])).enter().append("g").attr("class","nv-axisMaxMin").append("text"),A.exit().remove(),A.attr("transform",(function(t,e){return"translate("+(i(t)+(f?i.rangeBand()/2:0))+",0)"})).select("text").attr("dy",".71em").attr("y",e.tickPadding()).attr("transform",(function(t,e,n){return"rotate("+u+" 0,0)"})).style("text-anchor",u?u%360>0?"start":"end":"middle").text((function(t,e){var n=v(t);return(""+n).match("NaN")?"":n})),A.transition().attr("transform",(function(t,e){return"translate("+(i(t)+(f?i.rangeBand()/2:0))+",0)"}))),p&&k.attr("transform",(function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"}));break;case"right":m.enter().append("text").attr("class","nv-axislabel"),m.style("text-anchor",d?"middle":"begin").attr("transform",d?"rotate(90)":"").attr("y",d?12-Math.max(n.right,o):-10).attr("x",d?i.range()[0]/2:e.tickPadding()),s&&((A=a.selectAll("g.nv-axisMaxMin").data(i.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),A.exit().remove(),A.attr("transform",(function(t,e){return"translate(0,"+i(t)+")"})).select("text").attr("dy",".32em").attr("y",0).attr("x",e.tickPadding()).style("text-anchor","start").text((function(t,e){var n=v(t);return(""+n).match("NaN")?"":n})),A.transition().attr("transform",(function(t,e){return"translate(0,"+i.range()[e]+")"})).select("text").style("opacity",1));break;case"left":var A;m.enter().append("text").attr("class","nv-axislabel"),m.style("text-anchor",d?"middle":"end").attr("transform",d?"rotate(-90)":"").attr("y",d?12-Math.max(n.left,o):-10).attr("x",d?-i.range()[0]/2:-e.tickPadding()),s&&((A=a.selectAll("g.nv-axisMaxMin").data(i.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),A.exit().remove(),A.attr("transform",(function(e,n){return"translate(0,"+t(e)+")"})).select("text").attr("dy",".32em").attr("y",0).attr("x",-e.tickPadding()).attr("text-anchor","end").text((function(t,e){var n=v(t);return(""+n).match("NaN")?"":n})),A.transition().attr("transform",(function(t,e){return"translate(0,"+i.range()[e]+")"})).select("text").style("opacity",1))}if(m.text((function(t){return t})),!s||"left"!==e.orient()&&"right"!==e.orient()||(g.selectAll("g").each((function(t,e){d3.select(this).select("text").attr("opacity",1),(i(t)<i.range()[1]+10||i(t)>i.range()[0]-10)&&((t>1e-10||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))})),i.domain()[0]==i.domain()[1]&&0==i.domain()[0]&&a.selectAll("g.nv-axisMaxMin").style("opacity",(function(t,e){return e?0:1}))),s&&("top"===e.orient()||"bottom"===e.orient())){var C=[];a.selectAll("g.nv-axisMaxMin").each((function(t,e){try{e?C.push(i(t)-this.getBBox().width-4):C.push(i(t)+this.getBBox().width+4)}catch(n){e?C.push(i(t)-4):C.push(i(t)+4)}})),g.selectAll("g").each((function(t,e){(i(t)<C[0]||i(t)>C[1])&&(t>1e-10||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())}))}c&&g.selectAll(".tick").filter((function(t){return!parseFloat(Math.round(1e5*t.__data__)/1e6)&&void 0!==t.__data__})).classed("zero",!0),t=i.copy()})),g}return e.scale(i).orient("bottom").tickFormat((function(t){return t})),g.axis=e,d3.rebind(g,e,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"),d3.rebind(g,i,"domain","range","rangeBand","rangeBands"),g.options=r.utils.optionsFunc.bind(g),g.margin=function(t){return arguments.length?(n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left,g):n},g.width=function(t){return arguments.length?(o=t,g):o},g.ticks=function(t){return arguments.length?(h=t,g):h},g.height=function(t){return arguments.length?(a=t,g):a},g.axisLabel=function(t){return arguments.length?(l=t,g):l},g.showMaxMin=function(t){return arguments.length?(s=t,g):s},g.highlightZero=function(t){return arguments.length?(c=t,g):c},g.scale=function(t){return arguments.length?(i=t,e.scale(i),f="function"==typeof i.rangeBands,d3.rebind(g,i,"domain","range","rangeBand","rangeBands"),g):i},g.rotateYLabel=function(t){return arguments.length?(d=t,g):d},g.rotateLabels=function(t){return arguments.length?(u=t,g):u},g.staggerLabels=function(t){return arguments.length?(p=t,g):p},g},r.models.bullet=function(){"use strict";var t={top:0,right:0,bottom:0,left:0},e="left",n=!1,o=function(t){return t.ranges},a=function(t){return t.markers},i=function(t){return t.measures},l=function(t){return t.rangeLabels?t.rangeLabels:[]},s=function(t){return t.markerLabels?t.markerLabels:[]},c=function(t){return t.measureLabels?t.measureLabels:[]},u=[0],d=380,p=30,f=null,h=r.utils.getColor(["#1f77b4"]),g=d3.dispatch("elementMouseover","elementMouseout");function v(e){return e.each((function(e,r){var f=d-t.left-t.right,v=p-t.top-t.bottom,m=d3.select(this),x=o.call(this,e,r).slice().sort(d3.descending),y=a.call(this,e,r).slice().sort(d3.descending),b=i.call(this,e,r).slice().sort(d3.descending),k=l.call(this,e,r).slice(),w=s.call(this,e,r).slice(),A=c.call(this,e,r).slice(),C=d3.scale.linear().domain(d3.extent(d3.merge([u,x]))).range(n?[f,0]:[0,f]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(C.range()),this.__chart__=C;var S=d3.min(x),M=d3.max(x),D=x[1],I=m.selectAll("g.nv-wrap.nv-bullet").data([e]),W=I.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),F=I.select("g");W.append("rect").attr("class","nv-range nv-rangeMax"),W.append("rect").attr("class","nv-range nv-rangeAvg"),W.append("rect").attr("class","nv-range nv-rangeMin"),W.append("rect").attr("class","nv-measure"),W.append("path").attr("class","nv-markerTriangle"),I.attr("transform","translate("+t.left+","+t.top+")");var L=function(t){return Math.abs(C(t)-C(0))},z=function(t){return C(t<0?t:0)};F.select("rect.nv-rangeMax").attr("height",v).attr("width",L(M>0?M:S)).attr("x",z(M>0?M:S)).datum(M>0?M:S),F.select("rect.nv-rangeAvg").attr("height",v).attr("width",L(D)).attr("x",z(D)).datum(D),F.select("rect.nv-rangeMin").attr("height",v).attr("width",L(M)).attr("x",z(M)).attr("width",L(M>0?S:M)).attr("x",z(M>0?S:M)).datum(M>0?S:M),F.select("rect.nv-measure").style("fill",h).attr("height",v/3).attr("y",v/3).attr("width",b<0?C(0)-C(b[0]):C(b[0])-C(0)).attr("x",z(b)).on("mouseover",(function(){g.elementMouseover({value:b[0],label:A[0]||"Current",pos:[C(b[0]),v/2]})})).on("mouseout",(function(){g.elementMouseout({value:b[0],label:A[0]||"Current"})}));var N=v/6;y[0]?F.selectAll("path.nv-markerTriangle").attr("transform",(function(t){return"translate("+C(y[0])+","+v/2+")"})).attr("d","M0,"+N+"L"+N+","+-N+" "+-N+","+-N+"Z").on("mouseover",(function(){g.elementMouseover({value:y[0],label:w[0]||"Previous",pos:[C(y[0]),v/2]})})).on("mouseout",(function(){g.elementMouseout({value:y[0],label:w[0]||"Previous"})})):F.selectAll("path.nv-markerTriangle").remove(),I.selectAll(".nv-range").on("mouseover",(function(t,e){var n=k[e]||(e?1==e?"Mean":"Minimum":"Maximum");g.elementMouseover({value:t,label:n,pos:[C(t),v/2]})})).on("mouseout",(function(t,e){var n=k[e]||(e?1==e?"Mean":"Minimum":"Maximum");g.elementMouseout({value:t,label:n})}))})),v}return v.dispatch=g,v.options=r.utils.optionsFunc.bind(v),v.orient=function(t){return arguments.length?(n="right"==(e=t)||"bottom"==e,v):e},v.ranges=function(t){return arguments.length?(o=t,v):o},v.markers=function(t){return arguments.length?(a=t,v):a},v.measures=function(t){return arguments.length?(i=t,v):i},v.forceX=function(t){return arguments.length?(u=t,v):u},v.width=function(t){return arguments.length?(d=t,v):d},v.height=function(t){return arguments.length?(p=t,v):p},v.margin=function(e){return arguments.length?(t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left,v):t},v.tickFormat=function(t){return arguments.length?(f=t,v):f},v.color=function(t){return arguments.length?(h=r.utils.getColor(t),v):h},v},r.models.bulletChart=function(){"use strict";var t=r.models.bullet(),e="left",n=!1,o={top:5,right:40,bottom:20,left:120},a=function(t){return t.ranges},i=function(t){return t.markers},l=function(t){return t.measures},s=null,c=55,u=null,d=!0,p=function(t,e,n,r,o){return"<h3>"+e+"</h3><p>"+n+"</p>"},f="No Data Available.",h=d3.dispatch("tooltipShow","tooltipHide"),g=function(t,e){var n=t.pos[0]+(e.offsetLeft||0)+o.left,a=t.pos[1]+(e.offsetTop||0)+o.top,i=p(t.key,t.label,t.value,t,v);r.tooltip.show([n,a],i,t.value<0?"e":"w",null,e)};function v(e){return e.each((function(r,p){var m=d3.select(this),x=(s||parseInt(m.style("width"))||960)-o.left-o.right,y=c-o.top-o.bottom,b=this;if(v.update=function(){v(e)},v.container=this,!r||!a.call(this,r,p)){var k=m.selectAll(".nv-noData").data([f]);return k.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),k.attr("x",o.left+x/2).attr("y",18+o.top+y/2).text((function(t){return t})),v}m.selectAll(".nv-noData").remove();var w=a.call(this,r,p).slice().sort(d3.descending),A=i.call(this,r,p).slice().sort(d3.descending),C=l.call(this,r,p).slice().sort(d3.descending),S=m.selectAll("g.nv-wrap.nv-bulletChart").data([r]),M=S.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),D=S.select("g");M.append("g").attr("class","nv-bulletWrap"),M.append("g").attr("class","nv-titles"),S.attr("transform","translate("+o.left+","+o.top+")");var I=d3.scale.linear().domain([0,Math.max(w[0],A[0],C[0])]).range(n?[x,0]:[0,x]),W=this.__chart__||d3.scale.linear().domain([0,1/0]).range(I.range());this.__chart__=I;var F=M.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(c-o.top-o.bottom)/2+")");F.append("text").attr("class","nv-title").text((function(t){return t.title})),F.append("text").attr("class","nv-subtitle").attr("dy","1em").text((function(t){return t.subtitle})),t.width(x).height(y);var L=D.select(".nv-bulletWrap");d3.transition(L).call(t);var z=u||I.tickFormat(x/100),N=D.selectAll("g.nv-tick").data(I.ticks(x/50),(function(t){return this.textContent||z(t)})),B=N.enter().append("g").attr("class","nv-tick").attr("transform",(function(t){return"translate("+W(t)+",0)"})).style("opacity",1e-6);B.append("line").attr("y1",y).attr("y2",7*y/6),B.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*y/6).text(z);var P=d3.transition(N).attr("transform",(function(t){return"translate("+I(t)+",0)"})).style("opacity",1);P.select("line").attr("y1",y).attr("y2",7*y/6),P.select("text").attr("y",7*y/6),d3.transition(N.exit()).attr("transform",(function(t){return"translate("+I(t)+",0)"})).style("opacity",1e-6).remove(),h.on("tooltipShow",(function(t){t.key=r.title,d&&g(t,b.parentNode)}))})),d3.timer.flush(),v}return t.dispatch.on("elementMouseover.tooltip",(function(t){h.tooltipShow(t)})),t.dispatch.on("elementMouseout.tooltip",(function(t){h.tooltipHide(t)})),h.on("tooltipHide",(function(){d&&r.tooltip.cleanup()})),v.dispatch=h,v.bullet=t,d3.rebind(v,t,"color"),v.options=r.utils.optionsFunc.bind(v),v.orient=function(t){return arguments.length?(n="right"==(e=t)||"bottom"==e,v):e},v.ranges=function(t){return arguments.length?(a=t,v):a},v.markers=function(t){return arguments.length?(i=t,v):i},v.measures=function(t){return arguments.length?(l=t,v):l},v.width=function(t){return arguments.length?(s=t,v):s},v.height=function(t){return arguments.length?(c=t,v):c},v.margin=function(t){return arguments.length?(o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left,v):o},v.tickFormat=function(t){return arguments.length?(u=t,v):u},v.tooltips=function(t){return arguments.length?(d=t,v):d},v.tooltipContent=function(t){return arguments.length?(p=t,v):p},v.noData=function(t){return arguments.length?(f=t,v):f},v},r.models.cumulativeLineChart=function(){"use strict";var t,e,n=r.models.line(),o=r.models.axis(),a=r.models.axis(),i=r.models.legend(),l=r.models.legend(),s=r.interactiveGuideline(),c={top:30,right:30,bottom:50,left:60},u=r.utils.defaultColor(),d=null,p=null,f=!0,h=!0,g=!0,v=!1,m=!0,x=!0,y=!1,b=!0,k=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},w=n.id(),A={index:0,rescaleY:b},C=null,S="No Data Available.",M=function(t){return t.average},D=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),I=250;o.orient("bottom").tickPadding(7),a.orient(v?"right":"left"),l.updateState(!1);var W=d3.scale.linear(),F={i:0,x:0},L=function(t,e){var i=t.pos[0]+(e.offsetLeft||0),l=t.pos[1]+(e.offsetTop||0),s=o.tickFormat()(n.x()(t.point,t.pointIndex)),c=a.tickFormat()(n.y()(t.point,t.pointIndex)),u=k(t.series.key,s,c,t,z);r.tooltip.show([i,l],u,null,null,e)};function z(k){return k.each((function(k){var N,B=d3.select(this).classed("nv-chart-"+w,!0),P=this,H=(d||parseInt(B.style("width"))||960)-c.left-c.right,T=(p||parseInt(B.style("height"))||400)-c.top-c.bottom;if(z.update=function(){B.transition().duration(I).call(z)},z.container=this,A.disabled=k.map((function(t){return!!t.disabled})),!C)for(N in C={},A)A[N]instanceof Array?C[N]=A[N].slice(0):C[N]=A[N];var R=d3.behavior.drag().on("dragstart",(function(t,e){d3.select(z.container).style("cursor","ew-resize")})).on("drag",(function(t,e){F.x=d3.event.x,F.i=Math.round(W.invert(F.x)),Q()})).on("dragend",(function(t,e){d3.select(z.container).style("cursor","auto"),A.index=F.i,D.stateChange(A)}));if(!(k&&k.length&&k.filter((function(t){return t.values.length})).length)){var Y=B.selectAll(".nv-noData").data([S]);return Y.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),Y.attr("x",c.left+H/2).attr("y",c.top+T/2).text((function(t){return t})),z}if(B.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale(),b)n.yDomain(null);else{var E=k.filter((function(t){return!t.disabled})).map((function(t,e){var r=d3.extent(t.values,n.y());return r[0]<-.95&&(r[0]=-.95),[(r[0]-r[1])/(1+r[1]),(r[1]-r[0])/(1+r[0])]})),V=[d3.min(E,(function(t){return t[0]})),d3.max(E,(function(t){return t[1]}))];n.yDomain(V)}W.domain([0,k[0].values.length-1]).range([0,H]).clamp(!0),k=function(t,e){return e.map((function(e,r){if(!e.values)return e;var o=n.y()(e.values[t],t);return o<-.95?(e.tempDisabled=!0,e):(e.tempDisabled=!1,e.values=e.values.map((function(t,e){return t.display={y:(n.y()(t,e)-o)/(1+o)},t})),e)}))}(F.i,k);var X=y?"none":"all",_=B.selectAll("g.nv-wrap.nv-cumulativeLine").data([k]),Z=_.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),G=_.select("g");if(Z.append("g").attr("class","nv-interactive"),Z.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),Z.append("g").attr("class","nv-y nv-axis"),Z.append("g").attr("class","nv-background"),Z.append("g").attr("class","nv-linesWrap").style("pointer-events",X),Z.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),Z.append("g").attr("class","nv-legendWrap"),Z.append("g").attr("class","nv-controlsWrap"),f&&(i.width(H),G.select(".nv-legendWrap").datum(k).call(i),c.top!=i.height()&&(c.top=i.height(),T=(p||parseInt(B.style("height"))||400)-c.top-c.bottom),G.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")),x){var O=[{key:"Re-scale y-axis",disabled:!b}];l.width(140).color(["#444","#444","#444"]),G.select(".nv-controlsWrap").datum(O).attr("transform","translate(0,"+-c.top+")").call(l)}_.attr("transform","translate("+c.left+","+c.top+")"),v&&G.select(".nv-y.nv-axis").attr("transform","translate("+H+",0)");var U=k.filter((function(t){return t.tempDisabled}));_.select(".tempDisabled").remove(),U.length&&_.append("text").attr("class","tempDisabled").attr("x",H/2).attr("y","-.71em").style("text-anchor","end").text(U.map((function(t){return t.key})).join(", ")+" values cannot be calculated for this time period."),y&&(s.width(H).height(T).margin({left:c.left,top:c.top}).svgContainer(B).xScale(t),_.select(".nv-interactive").call(s)),Z.select(".nv-background").append("rect"),G.select(".nv-background rect").attr("width",H).attr("height",T),n.y((function(t){return t.display.y})).width(H).height(T).color(k.map((function(t,e){return t.color||u(t,e)})).filter((function(t,e){return!k[e].disabled&&!k[e].tempDisabled})));var K=G.select(".nv-linesWrap").datum(k.filter((function(t){return!t.disabled&&!t.tempDisabled})));K.call(n),k.forEach((function(t,e){t.seriesIndex=e}));var j=k.filter((function(t){return!t.disabled&&!!M(t)})),$=G.select(".nv-avgLinesWrap").selectAll("line").data(j,(function(t){return t.key})),q=function(t){var n=e(M(t));return n<0?0:n>T?T:n};$.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",(function(t,e){return n.color()(t,t.seriesIndex)})).attr("x1",0).attr("x2",H).attr("y1",q).attr("y2",q),$.style("stroke-opacity",(function(t){var n=e(M(t));return n<0||n>T?0:1})).attr("x1",0).attr("x2",H).attr("y1",q).attr("y2",q),$.exit().remove();var J=K.selectAll(".nv-indexLine").data([F]);function Q(){J.data([F]);var t=z.transitionDuration();z.transitionDuration(0),z.update(),z.transitionDuration(t)}J.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(R),J.attr("transform",(function(t){return"translate("+W(t.i)+",0)"})).attr("height",T),h&&(o.scale(t).ticks(Math.min(k[0].values.length,H/70)).tickSize(-T,0),G.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),d3.transition(G.select(".nv-x.nv-axis")).call(o)),g&&(a.scale(e).ticks(T/36).tickSize(-H,0),d3.transition(G.select(".nv-y.nv-axis")).call(a)),G.select(".nv-background rect").on("click",(function(){F.x=d3.mouse(this)[0],F.i=Math.round(W.invert(F.x)),A.index=F.i,D.stateChange(A),Q()})),n.dispatch.on("elementClick",(function(t){F.i=t.pointIndex,F.x=W(F.i),A.index=F.i,D.stateChange(A),Q()})),l.dispatch.on("legendClick",(function(t,e){t.disabled=!t.disabled,b=!t.disabled,A.rescaleY=b,D.stateChange(A),z.update()})),i.dispatch.on("stateChange",(function(t){A.disabled=t.disabled,D.stateChange(A),z.update()})),s.dispatch.on("elementMousemove",(function(t){n.clearHighlights();var e,i,l,d=[];k.filter((function(t,e){return t.seriesIndex=e,!t.disabled})).forEach((function(o,a){i=r.interactiveBisect(o.values,t.pointXValue,z.x()),n.highlightPoint(a,i,!0);var s=o.values[i];void 0!==s&&(void 0===e&&(e=s),void 0===l&&(l=z.xScale()(z.x()(s,i))),d.push({key:o.key,value:z.y()(s,i),color:u(o,o.seriesIndex)}))}));var p=o.tickFormat()(z.x()(e,i));s.tooltip.position({left:l+c.left,top:t.mouseY+c.top}).chartContainer(P.parentNode).enabled(m).valueFormatter((function(t,e){return a.tickFormat()(t)})).data({value:p,series:d})(),s.renderGuideLine(l)})),s.dispatch.on("elementMouseout",(function(t){D.tooltipHide(),n.clearHighlights()})),D.on("tooltipShow",(function(t){m&&L(t,P.parentNode)})),D.on("changeState",(function(t){void 0!==t.disabled&&(k.forEach((function(e,n){e.disabled=t.disabled[n]})),A.disabled=t.disabled),void 0!==t.index&&(F.i=t.index,F.x=W(F.i),A.index=t.index,J.data([F])),void 0!==t.rescaleY&&(b=t.rescaleY),z.update()}))})),z}return n.dispatch.on("elementMouseover.tooltip",(function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],D.tooltipShow(t)})),n.dispatch.on("elementMouseout.tooltip",(function(t){D.tooltipHide(t)})),D.on("tooltipHide",(function(){m&&r.tooltip.cleanup()})),z.dispatch=D,z.lines=n,z.legend=i,z.xAxis=o,z.yAxis=a,z.interactiveLayer=s,d3.rebind(z,n,"defined","isArea","x","y","xScale","yScale","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id"),z.options=r.utils.optionsFunc.bind(z),z.margin=function(t){return arguments.length?(c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left,z):c},z.width=function(t){return arguments.length?(d=t,z):d},z.height=function(t){return arguments.length?(p=t,z):p},z.color=function(t){return arguments.length?(u=r.utils.getColor(t),i.color(u),z):u},z.rescaleY=function(t){return arguments.length?b=t:b},z.showControls=function(t){return arguments.length?(x=t,z):x},z.useInteractiveGuideline=function(t){return arguments.length?(y=t,!0===t&&(z.interactive(!1),z.useVoronoi(!1)),z):y},z.showLegend=function(t){return arguments.length?(f=t,z):f},z.showXAxis=function(t){return arguments.length?(h=t,z):h},z.showYAxis=function(t){return arguments.length?(g=t,z):g},z.rightAlignYAxis=function(t){return arguments.length?(v=t,a.orient(t?"right":"left"),z):v},z.tooltips=function(t){return arguments.length?(m=t,z):m},z.tooltipContent=function(t){return arguments.length?(k=t,z):k},z.state=function(t){return arguments.length?(A=t,z):A},z.defaultState=function(t){return arguments.length?(C=t,z):C},z.noData=function(t){return arguments.length?(S=t,z):S},z.average=function(t){return arguments.length?(M=t,z):M},z.transitionDuration=function(t){return arguments.length?(I=t,z):I},z},r.models.discreteBar=function(){"use strict";var t,e,n,o,a,i,l={top:0,right:0,bottom:0,left:0},s=960,c=500,u=Math.floor(1e4*Math.random()),d=d3.scale.ordinal(),p=d3.scale.linear(),f=function(t){return t.x},h=function(t){return t.y},g=[0],v=r.utils.defaultColor(),m=!1,x=d3.format(",.2f"),y=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),b="discreteBar";function k(r){return r.each((function(r){var u=s-l.left-l.right,k=c-l.top-l.bottom,w=d3.select(this);r=r.map((function(t,e){return t.values=t.values.map((function(t){return t.series=e,t})),t}));var A=t&&e?[]:r.map((function(t){return t.values.map((function(t,e){return{x:f(t,e),y:h(t,e),y0:t.y0}}))}));d.domain(t||d3.merge(A).map((function(t){return t.x}))).rangeBands(n||[0,u],.1),p.domain(e||d3.extent(d3.merge(A).map((function(t){return t.y})).concat(g))),m?p.range(o||[k-(p.domain()[0]<0?12:0),p.domain()[1]>0?12:0]):p.range(o||[k,0]),a=a||d,i=i||p.copy().range([p(0),p(0)]);var C=w.selectAll("g.nv-wrap.nv-discretebar").data([r]),S=C.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");C.select("g"),S.append("g").attr("class","nv-groups"),C.attr("transform","translate("+l.left+","+l.top+")");var M=C.select(".nv-groups").selectAll(".nv-group").data((function(t){return t}),(function(t){return t.key}));M.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),M.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),M.attr("class",(function(t,e){return"nv-group nv-series-"+e})).classed("hover",(function(t){return t.hover})),M.transition().style("stroke-opacity",1).style("fill-opacity",.75);var D=M.selectAll("g.nv-bar").data((function(t){return t.values}));D.exit().remove();var I=D.enter().append("g").attr("transform",(function(t,e,n){return"translate("+(d(f(t,e))+.05*d.rangeBand())+", "+p(0)+")"})).on("mouseover",(function(t,e){d3.select(this).classed("hover",!0),y.elementMouseover({value:h(t,e),point:t,series:r[t.series],pos:[d(f(t,e))+d.rangeBand()*(t.series+.5)/r.length,p(h(t,e))],pointIndex:e,seriesIndex:t.series,e:d3.event})})).on("mouseout",(function(t,e){d3.select(this).classed("hover",!1),y.elementMouseout({value:h(t,e),point:t,series:r[t.series],pointIndex:e,seriesIndex:t.series,e:d3.event})})).on("click",(function(t,e){y.elementClick({value:h(t,e),point:t,series:r[t.series],pos:[d(f(t,e))+d.rangeBand()*(t.series+.5)/r.length,p(h(t,e))],pointIndex:e,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()})).on("dblclick",(function(t,e){y.elementDblClick({value:h(t,e),point:t,series:r[t.series],pos:[d(f(t,e))+d.rangeBand()*(t.series+.5)/r.length,p(h(t,e))],pointIndex:e,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}));I.append("rect").attr("height",0).attr("width",.9*d.rangeBand()/r.length),m?(I.append("text").attr("text-anchor","middle"),D.select("text").text((function(t,e){return x(h(t,e))})).transition().attr("x",.9*d.rangeBand()/2).attr("y",(function(t,e){return h(t,e)<0?p(h(t,e))-p(0)+12:-4}))):D.selectAll("text").remove(),D.attr("class",(function(t,e){return h(t,e)<0?"nv-bar negative":"nv-bar positive"})).style("fill",(function(t,e){return t.color||v(t,e)})).style("stroke",(function(t,e){return t.color||v(t,e)})).select("rect").attr("class",b).transition().attr("width",.9*d.rangeBand()/r.length),D.transition().attr("transform",(function(t,e){return"translate("+(d(f(t,e))+.05*d.rangeBand())+", "+(h(t,e)<0?p(0):p(0)-p(h(t,e))<1?p(0)-1:p(h(t,e)))+")"})).select("rect").attr("height",(function(t,n){return Math.max(Math.abs(p(h(t,n))-p(e&&e[0]||0))||1)})),a=d.copy(),i=p.copy()})),k}return k.dispatch=y,k.options=r.utils.optionsFunc.bind(k),k.x=function(t){return arguments.length?(f=t,k):f},k.y=function(t){return arguments.length?(h=t,k):h},k.margin=function(t){return arguments.length?(l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left,k):l},k.width=function(t){return arguments.length?(s=t,k):s},k.height=function(t){return arguments.length?(c=t,k):c},k.xScale=function(t){return arguments.length?(d=t,k):d},k.yScale=function(t){return arguments.length?(p=t,k):p},k.xDomain=function(e){return arguments.length?(t=e,k):t},k.yDomain=function(t){return arguments.length?(e=t,k):e},k.xRange=function(t){return arguments.length?(n=t,k):n},k.yRange=function(t){return arguments.length?(o=t,k):o},k.forceY=function(t){return arguments.length?(g=t,k):g},k.color=function(t){return arguments.length?(v=r.utils.getColor(t),k):v},k.id=function(t){return arguments.length?(u=t,k):u},k.showValues=function(t){return arguments.length?(m=t,k):m},k.valueFormat=function(t){return arguments.length?(x=t,k):x},k.rectClass=function(t){return arguments.length?(b=t,k):b},k},r.models.discreteBarChart=function(){"use strict";var t,e,n=r.models.discreteBar(),o=r.models.axis(),a=r.models.axis(),i={top:15,right:10,bottom:50,left:60},l=null,s=null,c=r.utils.getColor(),u=!0,d=!0,p=!1,f=!1,h=!0,g=function(t,e,n,r,o){return"<h3>"+e+"</h3><p>"+n+"</p>"},v="No Data Available.",m=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate"),x=250;o.orient("bottom").highlightZero(!1).showMaxMin(!1).tickFormat((function(t){return t})),a.orient(p?"right":"left").tickFormat(d3.format(",.1f"));var y=function(t,e){var i=t.pos[0]+(e.offsetLeft||0),l=t.pos[1]+(e.offsetTop||0),s=o.tickFormat()(n.x()(t.point,t.pointIndex)),c=a.tickFormat()(n.y()(t.point,t.pointIndex)),u=g(t.series.key,s,c,t,b);r.tooltip.show([i,l],u,t.value<0?"n":"s",null,e)};function b(r){return r.each((function(r){var c=d3.select(this),g=this,k=(l||parseInt(c.style("width"))||960)-i.left-i.right,w=(s||parseInt(c.style("height"))||400)-i.top-i.bottom;if(b.update=function(){m.beforeUpdate(),c.transition().duration(x).call(b)},b.container=this,!(r&&r.length&&r.filter((function(t){return t.values.length})).length)){var A=c.selectAll(".nv-noData").data([v]);return A.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),A.attr("x",i.left+k/2).attr("y",i.top+w/2).text((function(t){return t})),b}c.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale().clamp(!0);var C=c.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([r]),S=C.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),M=S.append("defs"),D=C.select("g");if(S.append("g").attr("class","nv-x nv-axis"),S.append("g").attr("class","nv-y nv-axis"),S.append("g").attr("class","nv-barsWrap"),D.attr("transform","translate("+i.left+","+i.top+")"),p&&D.select(".nv-y.nv-axis").attr("transform","translate("+k+",0)"),n.width(k).height(w),D.select(".nv-barsWrap").datum(r.filter((function(t){return!t.disabled}))).transition().call(n),M.append("clipPath").attr("id","nv-x-label-clip-"+n.id()).append("rect"),D.select("#nv-x-label-clip-"+n.id()+" rect").attr("width",t.rangeBand()*(f?2:1)).attr("height",16).attr("x",-t.rangeBand()/(f?1:2)),u){o.scale(t).ticks(k/100).tickSize(-w,0),D.select(".nv-x.nv-axis").attr("transform","translate(0,"+(e.range()[0]+(n.showValues()&&e.domain()[0]<0?16:0))+")"),D.select(".nv-x.nv-axis").transition().call(o);var I=D.select(".nv-x.nv-axis").selectAll("g");f&&I.selectAll("text").attr("transform",(function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"}))}d&&(a.scale(e).ticks(w/36).tickSize(-k,0),D.select(".nv-y.nv-axis").transition().call(a)),m.on("tooltipShow",(function(t){h&&y(t,g.parentNode)}))})),b}return n.dispatch.on("elementMouseover.tooltip",(function(t){t.pos=[t.pos[0]+i.left,t.pos[1]+i.top],m.tooltipShow(t)})),n.dispatch.on("elementMouseout.tooltip",(function(t){m.tooltipHide(t)})),m.on("tooltipHide",(function(){h&&r.tooltip.cleanup()})),b.dispatch=m,b.discretebar=n,b.xAxis=o,b.yAxis=a,d3.rebind(b,n,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","id","showValues","valueFormat"),b.options=r.utils.optionsFunc.bind(b),b.margin=function(t){return arguments.length?(i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left,b):i},b.width=function(t){return arguments.length?(l=t,b):l},b.height=function(t){return arguments.length?(s=t,b):s},b.color=function(t){return arguments.length?(c=r.utils.getColor(t),n.color(c),b):c},b.showXAxis=function(t){return arguments.length?(u=t,b):u},b.showYAxis=function(t){return arguments.length?(d=t,b):d},b.rightAlignYAxis=function(t){return arguments.length?(p=t,a.orient(t?"right":"left"),b):p},b.staggerLabels=function(t){return arguments.length?(f=t,b):f},b.tooltips=function(t){return arguments.length?(h=t,b):h},b.tooltipContent=function(t){return arguments.length?(g=t,b):g},b.noData=function(t){return arguments.length?(v=t,b):v},b.transitionDuration=function(t){return arguments.length?(x=t,b):x},b},r.models.distribution=function(){"use strict";var t,e={top:0,right:0,bottom:0,left:0},n=400,o=8,a="x",i=function(t){return t[a]},l=r.utils.defaultColor(),s=d3.scale.linear();function c(n){return n.each((function(n){"x"===a?(e.left,e.right):(e.top,e.bottom);var r="x"==a?"y":"x",c=d3.select(this);t=t||s;var u=c.selectAll("g.nv-distribution").data([n]),d=(u.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),u.select("g"));u.attr("transform","translate("+e.left+","+e.top+")");var p=d.selectAll("g.nv-dist").data((function(t){return t}),(function(t){return t.key}));p.enter().append("g"),p.attr("class",(function(t,e){return"nv-dist nv-series-"+e})).style("stroke",(function(t,e){return l(t,e)}));var f=p.selectAll("line.nv-dist"+a).data((function(t){return t.values}));f.enter().append("line").attr(a+"1",(function(e,n){return t(i(e,n))})).attr(a+"2",(function(e,n){return t(i(e,n))})),p.exit().selectAll("line.nv-dist"+a).transition().attr(a+"1",(function(t,e){return s(i(t,e))})).attr(a+"2",(function(t,e){return s(i(t,e))})).style("stroke-opacity",0).remove(),f.attr("class",(function(t,e){return"nv-dist"+a+" nv-dist"+a+"-"+e})).attr(r+"1",0).attr(r+"2",o),f.transition().attr(a+"1",(function(t,e){return s(i(t,e))})).attr(a+"2",(function(t,e){return s(i(t,e))})),t=s.copy()})),c}return c.options=r.utils.optionsFunc.bind(c),c.margin=function(t){return arguments.length?(e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left,c):e},c.width=function(t){return arguments.length?(n=t,c):n},c.axis=function(t){return arguments.length?(a=t,c):a},c.size=function(t){return arguments.length?(o=t,c):o},c.getData=function(t){return arguments.length?(i=d3.functor(t),c):i},c.scale=function(t){return arguments.length?(s=t,c):s},c.color=function(t){return arguments.length?(l=r.utils.getColor(t),c):l},c},r.models.historicalBar=function(){"use strict";var t,e,n,o,a={top:0,right:0,bottom:0,left:0},i=960,l=500,s=Math.floor(1e4*Math.random()),c=d3.scale.linear(),u=d3.scale.linear(),d=function(t){return t.x},p=function(t){return t.y},f=[],h=[0],g=!1,v=!0,m=r.utils.defaultColor(),x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),y=!0;function b(k){return k.each((function(b){var k=i-a.left-a.right,w=l-a.top-a.bottom,A=d3.select(this);c.domain(t||d3.extent(b[0].values.map(d).concat(f))),g?c.range(n||[.5*k/b[0].values.length,k*(b[0].values.length-.5)/b[0].values.length]):c.range(n||[0,k]),u.domain(e||d3.extent(b[0].values.map(p).concat(h))).range(o||[w,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]+.01*u.domain()[0],u.domain()[1]-.01*u.domain()[1]]):u.domain([-1,1]));var C=A.selectAll("g.nv-wrap.nv-historicalBar-"+s).data([b[0].values]),S=C.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+s),M=S.append("defs"),D=S.append("g"),I=C.select("g");D.append("g").attr("class","nv-bars"),C.attr("transform","translate("+a.left+","+a.top+")"),A.on("click",(function(t,e){x.chartClick({data:t,index:e,pos:d3.event,id:s})})),M.append("clipPath").attr("id","nv-chart-clip-path-"+s).append("rect"),C.select("#nv-chart-clip-path-"+s+" rect").attr("width",k).attr("height",w),I.attr("clip-path",v?"url(#nv-chart-clip-path-"+s+")":"");var W=C.select(".nv-bars").selectAll(".nv-bar").data((function(t){return t}),(function(t,e){return d(t,e)}));W.exit().remove(),W.enter().append("rect").attr("x",0).attr("y",(function(t,e){return r.utils.NaNtoZero(u(Math.max(0,p(t,e))))})).attr("height",(function(t,e){return r.utils.NaNtoZero(Math.abs(u(p(t,e))-u(0)))})).attr("transform",(function(t,e){return"translate("+(c(d(t,e))-k/b[0].values.length*.45)+",0)"})).on("mouseover",(function(t,e){y&&(d3.select(this).classed("hover",!0),x.elementMouseover({point:t,series:b[0],pos:[c(d(t,e)),u(p(t,e))],pointIndex:e,seriesIndex:0,e:d3.event}))})).on("mouseout",(function(t,e){y&&(d3.select(this).classed("hover",!1),x.elementMouseout({point:t,series:b[0],pointIndex:e,seriesIndex:0,e:d3.event}))})).on("click",(function(t,e){y&&(x.elementClick({value:p(t,e),data:t,index:e,pos:[c(d(t,e)),u(p(t,e))],e:d3.event,id:s}),d3.event.stopPropagation())})).on("dblclick",(function(t,e){y&&(x.elementDblClick({value:p(t,e),data:t,index:e,pos:[c(d(t,e)),u(p(t,e))],e:d3.event,id:s}),d3.event.stopPropagation())})),W.attr("fill",(function(t,e){return m(t,e)})).attr("class",(function(t,e,n){return(p(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e})).transition().attr("transform",(function(t,e){return"translate("+(c(d(t,e))-k/b[0].values.length*.45)+",0)"})).attr("width",k/b[0].values.length*.9),W.transition().attr("y",(function(t,e){var n=p(t,e)<0?u(0):u(0)-u(p(t,e))<1?u(0)-1:u(p(t,e));return r.utils.NaNtoZero(n)})).attr("height",(function(t,e){return r.utils.NaNtoZero(Math.max(Math.abs(u(p(t,e))-u(0)),1))}))})),b}return b.highlightPoint=function(t,e){d3.select(".nv-historicalBar-"+s).select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},b.clearHighlights=function(){d3.select(".nv-historicalBar-"+s).select(".nv-bars .nv-bar.hover").classed("hover",!1)},b.dispatch=x,b.options=r.utils.optionsFunc.bind(b),b.x=function(t){return arguments.length?(d=t,b):d},b.y=function(t){return arguments.length?(p=t,b):p},b.margin=function(t){return arguments.length?(a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left,b):a},b.width=function(t){return arguments.length?(i=t,b):i},b.height=function(t){return arguments.length?(l=t,b):l},b.xScale=function(t){return arguments.length?(c=t,b):c},b.yScale=function(t){return arguments.length?(u=t,b):u},b.xDomain=function(e){return arguments.length?(t=e,b):t},b.yDomain=function(t){return arguments.length?(e=t,b):e},b.xRange=function(t){return arguments.length?(n=t,b):n},b.yRange=function(t){return arguments.length?(o=t,b):o},b.forceX=function(t){return arguments.length?(f=t,b):f},b.forceY=function(t){return arguments.length?(h=t,b):h},b.padData=function(t){return arguments.length?(g=t,b):g},b.clipEdge=function(t){return arguments.length?(v=t,b):v},b.color=function(t){return arguments.length?(m=r.utils.getColor(t),b):m},b.id=function(t){return arguments.length?(s=t,b):s},b.interactive=function(t){return arguments.length?(y=!1,b):y},b},r.models.historicalBarChart=function(){"use strict";var t,e,n=r.models.historicalBar(),o=r.models.axis(),a=r.models.axis(),i=r.models.legend(),l={top:30,right:90,bottom:50,left:90},s=r.utils.defaultColor(),c=null,u=null,d=!1,p=!0,f=!0,h=!1,g=!0,v=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},m={},x=null,y="No Data Available.",b=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),k=250;o.orient("bottom").tickPadding(7),a.orient(h?"right":"left");var w=function(t,e){if(e){var i=d3.select(e).select("svg"),l=i.node()?i.attr("viewBox"):null;if(l){l=l.split(" ");var s=parseInt(i.style("width"))/l[2];t.pos[0]=t.pos[0]*s,t.pos[1]=t.pos[1]*s}}var c=t.pos[0]+(e.offsetLeft||0),u=t.pos[1]+(e.offsetTop||0),d=o.tickFormat()(n.x()(t.point,t.pointIndex)),p=a.tickFormat()(n.y()(t.point,t.pointIndex)),f=v(t.series.key,d,p,t,A);r.tooltip.show([c,u],f,null,null,e)};function A(r){return r.each((function(v){var C,S=d3.select(this),M=this,D=(c||parseInt(S.style("width"))||960)-l.left-l.right,I=(u||parseInt(S.style("height"))||400)-l.top-l.bottom;if(A.update=function(){S.transition().duration(k).call(A)},A.container=this,m.disabled=v.map((function(t){return!!t.disabled})),!x)for(C in x={},m)m[C]instanceof Array?x[C]=m[C].slice(0):x[C]=m[C];if(!(v&&v.length&&v.filter((function(t){return t.values.length})).length)){var W=S.selectAll(".nv-noData").data([y]);return W.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),W.attr("x",l.left+D/2).attr("y",l.top+I/2).text((function(t){return t})),A}S.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale();var F=S.selectAll("g.nv-wrap.nv-historicalBarChart").data([v]),L=F.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),z=F.select("g");L.append("g").attr("class","nv-x nv-axis"),L.append("g").attr("class","nv-y nv-axis"),L.append("g").attr("class","nv-barsWrap"),L.append("g").attr("class","nv-legendWrap"),d&&(i.width(D),z.select(".nv-legendWrap").datum(v).call(i),l.top!=i.height()&&(l.top=i.height(),I=(u||parseInt(S.style("height"))||400)-l.top-l.bottom),F.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")),F.attr("transform","translate("+l.left+","+l.top+")"),h&&z.select(".nv-y.nv-axis").attr("transform","translate("+D+",0)"),n.width(D).height(I).color(v.map((function(t,e){return t.color||s(t,e)})).filter((function(t,e){return!v[e].disabled}))),z.select(".nv-barsWrap").datum(v.filter((function(t){return!t.disabled}))).transition().call(n),p&&(o.scale(t).tickSize(-I,0),z.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),z.select(".nv-x.nv-axis").transition().call(o)),f&&(a.scale(e).ticks(I/36).tickSize(-D,0),z.select(".nv-y.nv-axis").transition().call(a)),i.dispatch.on("legendClick",(function(t,e){t.disabled=!t.disabled,v.filter((function(t){return!t.disabled})).length||v.map((function(t){return t.disabled=!1,F.selectAll(".nv-series").classed("disabled",!1),t})),m.disabled=v.map((function(t){return!!t.disabled})),b.stateChange(m),r.transition().call(A)})),i.dispatch.on("legendDblclick",(function(t){v.forEach((function(t){t.disabled=!0})),t.disabled=!1,m.disabled=v.map((function(t){return!!t.disabled})),b.stateChange(m),A.update()})),b.on("tooltipShow",(function(t){g&&w(t,M.parentNode)})),b.on("changeState",(function(t){void 0!==t.disabled&&(v.forEach((function(e,n){e.disabled=t.disabled[n]})),m.disabled=t.disabled),r.call(A)}))})),A}return n.dispatch.on("elementMouseover.tooltip",(function(t){t.pos=[t.pos[0]+l.left,t.pos[1]+l.top],b.tooltipShow(t)})),n.dispatch.on("elementMouseout.tooltip",(function(t){b.tooltipHide(t)})),b.on("tooltipHide",(function(){g&&r.tooltip.cleanup()})),A.dispatch=b,A.bars=n,A.legend=i,A.xAxis=o,A.yAxis=a,d3.rebind(A,n,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate","highlightPoint","clearHighlights","interactive"),A.options=r.utils.optionsFunc.bind(A),A.margin=function(t){return arguments.length?(l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left,A):l},A.width=function(t){return arguments.length?(c=t,A):c},A.height=function(t){return arguments.length?(u=t,A):u},A.color=function(t){return arguments.length?(s=r.utils.getColor(t),i.color(s),A):s},A.showLegend=function(t){return arguments.length?(d=t,A):d},A.showXAxis=function(t){return arguments.length?(p=t,A):p},A.showYAxis=function(t){return arguments.length?(f=t,A):f},A.rightAlignYAxis=function(t){return arguments.length?(h=t,a.orient(t?"right":"left"),A):h},A.tooltips=function(t){return arguments.length?(g=t,A):g},A.tooltipContent=function(t){return arguments.length?(v=t,A):v},A.state=function(t){return arguments.length?(m=t,A):m},A.defaultState=function(t){return arguments.length?(x=t,A):x},A.noData=function(t){return arguments.length?(y=t,A):y},A.transitionDuration=function(t){return arguments.length?(k=t,A):k},A},r.models.indentedTree=function(){"use strict";var t={top:0,right:0,bottom:0,left:0},e=960,n=500,o=r.utils.defaultColor(),a=Math.floor(1e4*Math.random()),i=!0,l=!1,s="No Data Available.",c=20,u=[{key:"key",label:"Name",type:"text"}],d=null,p="images/grey-plus.png",f="images/grey-minus.png",h=d3.dispatch("elementClick","elementDblclick","elementMouseover","elementMouseout"),g=function(t){return t.url},v=0;function m(t){return t.each((function(t){var e,r=d3.select(this),o=d3.layout.tree().children((function(t){return t.values})).size([n,c]);m.update=function(){r.transition().duration(600).call(m)},t[0]||(t[0]={key:s});var a=o.nodes(t[0]),x=d3.select(this).selectAll("div").data([[a]]),y=x.enter().append("div").attr("class","nvd3 nv-wrap nv-indentedtree").append("table"),b=x.select("table").attr("width","100%").attr("class",d);if(i){var k=y.append("thead").append("tr");u.forEach((function(t){k.append("th").attr("width",t.width?t.width:"10%").style("text-align","numeric"==t.type?"right":"left").append("span").text(t.label)}))}var w=b.selectAll("tbody").data((function(t){return t}));w.enter().append("tbody"),e=d3.max(a,(function(t){return t.depth})),o.size([n,e*c]);var A=w.selectAll("tr").data((function(t){return t.filter((function(t){return!(l&&!t.children)||l(t)}))}),(function(t,e){return t.id||t.id||++v}));A.exit().remove(),A.select("img.nv-treeicon").attr("src",M).classed("folded",D);var C=A.enter().append("tr");function S(t,e,n){return d3.event.stopPropagation(),d3.event.shiftKey&&!n?(d3.event.shiftKey=!1,t.values&&t.values.forEach((function(t){(t.values||t._values)&&S(t,0,!0)})),!0):!function(t){var e=t.values||t._values;return e&&e.length}(t)||(t.values?(t._values=t.values,t.values=null):(t.values=t._values,t._values=null),void m.update())}function M(t){return t._values&&t._values.length?p:t.values&&t.values.length?f:""}function D(t){return t._values&&t._values.length}u.forEach((function(t,e){var n=C.append("td").style("padding-left",(function(t){return(e?0:t.depth*c+12+(M(t)?0:16))+"px"}),"important").style("text-align","numeric"==t.type?"right":"left");0==e&&n.append("img").classed("nv-treeicon",!0).classed("nv-folded",D).attr("src",M).style("width","14px").style("height","14px").style("padding","0 1px").style("display",(function(t){return M(t)?"inline-block":"none"})).on("click",S),n.each((function(n){!e&&g(n)?d3.select(this).append("a").attr("href",g).attr("class",d3.functor(t.classes)).append("span"):d3.select(this).append("span"),d3.select(this).select("span").attr("class",d3.functor(t.classes)).text((function(e){return t.format?t.format(e):e[t.key]||"-"}))})),t.showCount&&(n.append("span").attr("class","nv-childrenCount"),A.selectAll("span.nv-childrenCount").text((function(t){return t.values&&t.values.length||t._values&&t._values.length?"("+(t.values&&t.values.filter((function(t){return!l||l(t)})).length||t._values&&t._values.filter((function(t){return!l||l(t)})).length||0)+")":""})))})),A.order().on("click",(function(t){h.elementClick({row:this,data:t,pos:[t.x,t.y]})})).on("dblclick",(function(t){h.elementDblclick({row:this,data:t,pos:[t.x,t.y]})})).on("mouseover",(function(t){h.elementMouseover({row:this,data:t,pos:[t.x,t.y]})})).on("mouseout",(function(t){h.elementMouseout({row:this,data:t,pos:[t.x,t.y]})}))})),m}return m.options=r.utils.optionsFunc.bind(m),m.margin=function(e){return arguments.length?(t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left,m):t},m.width=function(t){return arguments.length?(e=t,m):e},m.height=function(t){return arguments.length?(n=t,m):n},m.color=function(t){return arguments.length?(o=r.utils.getColor(t),scatter.color(o),m):o},m.id=function(t){return arguments.length?(a=t,m):a},m.header=function(t){return arguments.length?(i=t,m):i},m.noData=function(t){return arguments.length?(s=t,m):s},m.filterZero=function(t){return arguments.length?(l=t,m):l},m.columns=function(t){return arguments.length?(u=t,m):u},m.tableClass=function(t){return arguments.length?(d=t,m):d},m.iconOpen=function(t){return arguments.length?(p=t,m):p},m.iconClose=function(t){return arguments.length?(f=t,m):f},m.getUrl=function(t){return arguments.length?(g=t,m):g},m},r.models.legend=function(){"use strict";var t={top:5,right:0,bottom:5,left:0},e=400,n=20,o=function(t){return t.key},a=r.utils.defaultColor(),i=!0,l=!0,s=!0,c=!1,u=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");function d(p){return p.each((function(d){var p=e-t.left-t.right,f=d3.select(this).selectAll("g.nv-legend").data([d]),h=(f.enter().append("g").attr("class","nvd3 nv-legend").append("g"),f.select("g"));f.attr("transform","translate("+t.left+","+t.top+")");var g=h.selectAll(".nv-series").data((function(t){return t})),v=g.enter().append("g").attr("class","nv-series").on("mouseover",(function(t,e){u.legendMouseover(t,e)})).on("mouseout",(function(t,e){u.legendMouseout(t,e)})).on("click",(function(t,e){u.legendClick(t,e),s&&(c?(d.forEach((function(t){t.disabled=!0})),t.disabled=!1):(t.disabled=!t.disabled,d.every((function(t){return t.disabled}))&&d.forEach((function(t){t.disabled=!1}))),u.stateChange({disabled:d.map((function(t){return!!t.disabled}))}))})).on("dblclick",(function(t,e){u.legendDblclick(t,e),s&&(d.forEach((function(t){t.disabled=!0})),t.disabled=!1,u.stateChange({disabled:d.map((function(t){return!!t.disabled}))}))}));if(v.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),v.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8"),g.classed("disabled",(function(t){return t.disabled})),g.exit().remove(),g.select("circle").style("fill",(function(t,e){return t.color||a(t,e)})).style("stroke",(function(t,e){return t.color||a(t,e)})),g.select("text").text(o),i){var m=[];g.each((function(t,e){var n,o=d3.select(this).select("text");try{n=o.node().getComputedTextLength()}catch(t){n=r.utils.calcApproxTextWidth(o)}m.push(n+28)}));for(var x=0,y=0,b=[];y<p&&x<m.length;)b[x]=m[x],y+=m[x++];for(0===x&&(x=1);y>p&&x>1;){b=[],x--;for(var k=0;k<m.length;k++)m[k]>(b[k%x]||0)&&(b[k%x]=m[k]);y=b.reduce((function(t,e,n,r){return t+e}))}for(var w=[],A=0,C=0;A<x;A++)w[A]=C,C+=b[A];g.attr("transform",(function(t,e){return"translate("+w[e%x]+","+(5+20*Math.floor(e/x))+")"})),l?h.attr("transform","translate("+(e-t.right-y)+","+t.top+")"):h.attr("transform","translate(0,"+t.top+")"),n=t.top+t.bottom+20*Math.ceil(m.length/x)}else{var S,M=5,D=5,I=0;g.attr("transform",(function(n,r){var o=d3.select(this).select("text").node().getComputedTextLength()+28;return S=D,e<t.left+t.right+S+o&&(D=S=5,M+=20),(D+=o)>I&&(I=D),"translate("+S+","+M+")"})),h.attr("transform","translate("+(e-t.right-I)+","+t.top+")"),n=t.top+t.bottom+M+15}})),d}return d.dispatch=u,d.options=r.utils.optionsFunc.bind(d),d.margin=function(e){return arguments.length?(t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left,d):t},d.width=function(t){return arguments.length?(e=t,d):e},d.height=function(t){return arguments.length?(n=t,d):n},d.key=function(t){return arguments.length?(o=t,d):o},d.color=function(t){return arguments.length?(a=r.utils.getColor(t),d):a},d.align=function(t){return arguments.length?(i=t,d):i},d.rightAlign=function(t){return arguments.length?(l=t,d):l},d.updateState=function(t){return arguments.length?(s=t,d):s},d.radioButtonMode=function(t){return arguments.length?(c=t,d):c},d},r.models.line=function(){"use strict";var t,e,n,o,a=r.models.scatter(),i={top:0,right:0,bottom:0,left:0},l=960,s=500,c=r.utils.defaultColor(),u=function(t){return t.x},d=function(t){return t.y},p=function(t,e){return!isNaN(d(t,e))&&null!==d(t,e)},f=function(t){return t.area},h=!1,g="linear";function v(m){return m.each((function(v){var m=l-i.left-i.right,x=s-i.top-i.bottom,y=d3.select(this);t=a.xScale(),e=a.yScale(),n=n||t,o=o||e;var b=y.selectAll("g.nv-wrap.nv-line").data([v]),k=b.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),w=k.append("defs"),A=k.append("g"),C=b.select("g");A.append("g").attr("class","nv-groups"),A.append("g").attr("class","nv-scatterWrap"),b.attr("transform","translate("+i.left+","+i.top+")"),a.width(m).height(x);var S=b.select(".nv-scatterWrap");S.transition().call(a),w.append("clipPath").attr("id","nv-edge-clip-"+a.id()).append("rect"),b.select("#nv-edge-clip-"+a.id()+" rect").attr("width",m).attr("height",x),C.attr("clip-path",h?"url(#nv-edge-clip-"+a.id()+")":""),S.attr("clip-path",h?"url(#nv-edge-clip-"+a.id()+")":"");var M=b.select(".nv-groups").selectAll(".nv-group").data((function(t){return t}),(function(t){return t.key}));M.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),M.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),M.attr("class",(function(t,e){return"nv-group nv-series-"+e})).classed("hover",(function(t){return t.hover})).style("fill",(function(t,e){return c(t,e)})).style("stroke",(function(t,e){return c(t,e)})),M.transition().style("stroke-opacity",1).style("fill-opacity",.5);var D=M.selectAll("path.nv-area").data((function(t){return f(t)?[t]:[]}));D.enter().append("path").attr("class","nv-area").attr("d",(function(t){return d3.svg.area().interpolate(g).defined(p).x((function(t,e){return r.utils.NaNtoZero(n(u(t,e)))})).y0((function(t,e){return r.utils.NaNtoZero(o(d(t,e)))})).y1((function(t,n){return o(e.domain()[0]<=0?e.domain()[1]>=0?0:e.domain()[1]:e.domain()[0])})).apply(this,[t.values])})),M.exit().selectAll("path.nv-area").remove(),D.transition().attr("d",(function(n){return d3.svg.area().interpolate(g).defined(p).x((function(e,n){return r.utils.NaNtoZero(t(u(e,n)))})).y0((function(t,n){return r.utils.NaNtoZero(e(d(t,n)))})).y1((function(t,n){return e(e.domain()[0]<=0?e.domain()[1]>=0?0:e.domain()[1]:e.domain()[0])})).apply(this,[n.values])}));var I=M.selectAll("path.nv-line").data((function(t){return[t.values]}));I.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(g).defined(p).x((function(t,e){return r.utils.NaNtoZero(n(u(t,e)))})).y((function(t,e){return r.utils.NaNtoZero(o(d(t,e)))}))),M.exit().selectAll("path.nv-line").transition().attr("d",d3.svg.line().interpolate(g).defined(p).x((function(e,n){return r.utils.NaNtoZero(t(u(e,n)))})).y((function(t,n){return r.utils.NaNtoZero(e(d(t,n)))}))),I.transition().attr("d",d3.svg.line().interpolate(g).defined(p).x((function(e,n){return r.utils.NaNtoZero(t(u(e,n)))})).y((function(t,n){return r.utils.NaNtoZero(e(d(t,n)))}))),n=t.copy(),o=e.copy()})),v}return a.size(16).sizeDomain([16,256]),v.dispatch=a.dispatch,v.scatter=a,d3.rebind(v,a,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","padData","highlightPoint","clearHighlights"),v.options=r.utils.optionsFunc.bind(v),v.margin=function(t){return arguments.length?(i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left,v):i},v.width=function(t){return arguments.length?(l=t,v):l},v.height=function(t){return arguments.length?(s=t,v):s},v.x=function(t){return arguments.length?(u=t,a.x(t),v):u},v.y=function(t){return arguments.length?(d=t,a.y(t),v):d},v.clipEdge=function(t){return arguments.length?(h=t,v):h},v.color=function(t){return arguments.length?(c=r.utils.getColor(t),a.color(c),v):c},v.interpolate=function(t){return arguments.length?(g=t,v):g},v.defined=function(t){return arguments.length?(p=t,v):p},v.isArea=function(t){return arguments.length?(f=d3.functor(t),v):f},v},r.models.lineChart=function(){"use strict";var t,e,n=r.models.line(),o=r.models.axis(),a=r.models.axis(),i=r.models.legend(),l=r.interactiveGuideline(),s={top:30,right:20,bottom:50,left:60},c=r.utils.defaultColor(),u=null,d=null,p=!0,f=!0,h=!0,g=!1,v=!1,m=!0,x=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},y={},b=null,k="No Data Available.",w=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),A=250;o.orient("bottom").tickPadding(7),a.orient(g?"right":"left");var C=function(t,e){var i=t.pos[0]+(e.offsetLeft||0),l=t.pos[1]+(e.offsetTop||0),s=o.tickFormat()(n.x()(t.point,t.pointIndex)),c=a.tickFormat()(n.y()(t.point,t.pointIndex)),u=x(t.series.key,s,c,t,S);r.tooltip.show([i,l],u,null,null,e)};function S(x){return x.each((function(x){var M,D=d3.select(this),I=this,W=(u||parseInt(D.style("width"))||960)-s.left-s.right,F=(d||parseInt(D.style("height"))||400)-s.top-s.bottom;if(S.update=function(){D.transition().duration(A).call(S)},S.container=this,y.disabled=x.map((function(t){return!!t.disabled})),!b)for(M in b={},y)y[M]instanceof Array?b[M]=y[M].slice(0):b[M]=y[M];if(!(x&&x.length&&x.filter((function(t){return t.values.length})).length)){var L=D.selectAll(".nv-noData").data([k]);return L.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),L.attr("x",s.left+W/2).attr("y",s.top+F/2).text((function(t){return t})),S}D.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale();var z=D.selectAll("g.nv-wrap.nv-lineChart").data([x]),N=z.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),B=z.select("g");N.append("rect").style("opacity",0),N.append("g").attr("class","nv-x nv-axis"),N.append("g").attr("class","nv-y nv-axis"),N.append("g").attr("class","nv-linesWrap"),N.append("g").attr("class","nv-legendWrap"),N.append("g").attr("class","nv-interactive"),B.select("rect").attr("width",W).attr("height",F),p&&(i.width(W),B.select(".nv-legendWrap").datum(x).call(i),s.top!=i.height()&&(s.top=i.height(),F=(d||parseInt(D.style("height"))||400)-s.top-s.bottom),z.select(".nv-legendWrap").attr("transform","translate(0,"+-s.top+")")),z.attr("transform","translate("+s.left+","+s.top+")"),g&&B.select(".nv-y.nv-axis").attr("transform","translate("+W+",0)"),v&&(l.width(W).height(F).margin({left:s.left,top:s.top}).svgContainer(D).xScale(t),z.select(".nv-interactive").call(l)),n.width(W).height(F).color(x.map((function(t,e){return t.color||c(t,e)})).filter((function(t,e){return!x[e].disabled}))),B.select(".nv-linesWrap").datum(x.filter((function(t){return!t.disabled}))).transition().call(n),f&&(o.scale(t).ticks(W/100).tickSize(-F,0),B.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),B.select(".nv-x.nv-axis").transition().call(o)),h&&(a.scale(e).ticks(F/36).tickSize(-W,0),B.select(".nv-y.nv-axis").transition().call(a)),i.dispatch.on("stateChange",(function(t){y=t,w.stateChange(y),S.update()})),l.dispatch.on("elementMousemove",(function(t){n.clearHighlights();var e,i,u,d=[];x.filter((function(t,e){return t.seriesIndex=e,!t.disabled})).forEach((function(o,a){i=r.interactiveBisect(o.values,t.pointXValue,S.x()),n.highlightPoint(a,i,!0);var l=o.values[i];void 0!==l&&(void 0===e&&(e=l),void 0===u&&(u=S.xScale()(S.x()(l,i))),d.push({key:o.key,value:S.y()(l,i),color:c(o,o.seriesIndex)}))}));var p=o.tickFormat()(S.x()(e,i));l.tooltip.position({left:u+s.left,top:t.mouseY+s.top}).chartContainer(I.parentNode).enabled(m).valueFormatter((function(t,e){return a.tickFormat()(t)})).data({value:p,series:d})(),l.renderGuideLine(u)})),l.dispatch.on("elementMouseout",(function(t){w.tooltipHide(),n.clearHighlights()})),w.on("tooltipShow",(function(t){m&&C(t,I.parentNode)})),w.on("changeState",(function(t){void 0!==t.disabled&&(x.forEach((function(e,n){e.disabled=t.disabled[n]})),y.disabled=t.disabled),S.update()}))})),S}return n.dispatch.on("elementMouseover.tooltip",(function(t){t.pos=[t.pos[0]+s.left,t.pos[1]+s.top],w.tooltipShow(t)})),n.dispatch.on("elementMouseout.tooltip",(function(t){w.tooltipHide(t)})),w.on("tooltipHide",(function(){m&&r.tooltip.cleanup()})),S.dispatch=w,S.lines=n,S.legend=i,S.xAxis=o,S.yAxis=a,S.interactiveLayer=l,d3.rebind(S,n,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id","interpolate"),S.options=r.utils.optionsFunc.bind(S),S.margin=function(t){return arguments.length?(s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left,S):s},S.width=function(t){return arguments.length?(u=t,S):u},S.height=function(t){return arguments.length?(d=t,S):d},S.color=function(t){return arguments.length?(c=r.utils.getColor(t),i.color(c),S):c},S.showLegend=function(t){return arguments.length?(p=t,S):p},S.showXAxis=function(t){return arguments.length?(f=t,S):f},S.showYAxis=function(t){return arguments.length?(h=t,S):h},S.rightAlignYAxis=function(t){return arguments.length?(g=t,a.orient(t?"right":"left"),S):g},S.useInteractiveGuideline=function(t){return arguments.length?(v=t,!0===t&&(S.interactive(!1),S.useVoronoi(!1)),S):v},S.tooltips=function(t){return arguments.length?(m=t,S):m},S.tooltipContent=function(t){return arguments.length?(x=t,S):x},S.state=function(t){return arguments.length?(y=t,S):y},S.defaultState=function(t){return arguments.length?(b=t,S):b},S.noData=function(t){return arguments.length?(k=t,S):k},S.transitionDuration=function(t){return arguments.length?(A=t,S):A},S},r.models.linePlusBarChart=function(){"use strict";var t,e,n,o=r.models.line(),a=r.models.historicalBar(),i=r.models.axis(),l=r.models.axis(),s=r.models.axis(),c=r.models.legend(),u={top:30,right:60,bottom:50,left:60},d=null,p=null,f=function(t){return t.x},h=function(t){return t.y},g=r.utils.defaultColor(),v=!0,m=!0,x=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},y={},b=null,k="No Data Available.",w=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");a.padData(!0),o.clipEdge(!1).padData(!0),i.orient("bottom").tickPadding(7).highlightZero(!1),l.orient("left"),s.orient("right");var A=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),a=t.pos[1]+(e.offsetTop||0),c=i.tickFormat()(o.x()(t.point,t.pointIndex)),u=(t.series.bar?l:s).tickFormat()(o.y()(t.point,t.pointIndex)),d=x(t.series.key,c,u,t,C);r.tooltip.show([n,a],d,t.value<0?"n":"s",null,e)};function C(r){return r.each((function(r){var f,h=d3.select(this),x=this,S=(d||parseInt(h.style("width"))||960)-u.left-u.right,M=(p||parseInt(h.style("height"))||400)-u.top-u.bottom;if(C.update=function(){h.transition().call(C)},y.disabled=r.map((function(t){return!!t.disabled})),!b)for(f in b={},y)y[f]instanceof Array?b[f]=y[f].slice(0):b[f]=y[f];if(!(r&&r.length&&r.filter((function(t){return t.values.length})).length)){var D=h.selectAll(".nv-noData").data([k]);return D.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),D.attr("x",u.left+S/2).attr("y",u.top+M/2).text((function(t){return t})),C}h.selectAll(".nv-noData").remove();var I=r.filter((function(t){return!t.disabled&&t.bar})),W=r.filter((function(t){return!t.bar}));t=W.filter((function(t){return!t.disabled})).length&&W.filter((function(t){return!t.disabled}))[0].values.length?o.xScale():a.xScale(),e=a.yScale(),n=o.yScale();var F=d3.select(this).selectAll("g.nv-wrap.nv-linePlusBar").data([r]),L=F.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),z=F.select("g");L.append("g").attr("class","nv-x nv-axis"),L.append("g").attr("class","nv-y1 nv-axis"),L.append("g").attr("class","nv-y2 nv-axis"),L.append("g").attr("class","nv-barsWrap"),L.append("g").attr("class","nv-linesWrap"),L.append("g").attr("class","nv-legendWrap"),v&&(c.width(S/2),z.select(".nv-legendWrap").datum(r.map((function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?" (left axis)":" (right axis)"),t}))).call(c),u.top!=c.height()&&(u.top=c.height(),M=(p||parseInt(h.style("height"))||400)-u.top-u.bottom),z.select(".nv-legendWrap").attr("transform","translate("+S/2+","+-u.top+")")),F.attr("transform","translate("+u.left+","+u.top+")"),o.width(S).height(M).color(r.map((function(t,e){return t.color||g(t,e)})).filter((function(t,e){return!r[e].disabled&&!r[e].bar}))),a.width(S).height(M).color(r.map((function(t,e){return t.color||g(t,e)})).filter((function(t,e){return!r[e].disabled&&r[e].bar})));var N=z.select(".nv-barsWrap").datum(I.length?I:[{values:[]}]),B=z.select(".nv-linesWrap").datum(W[0]&&!W[0].disabled?W:[{values:[]}]);d3.transition(N).call(a),d3.transition(B).call(o),i.scale(t).ticks(S/100).tickSize(-M,0),z.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),d3.transition(z.select(".nv-x.nv-axis")).call(i),l.scale(e).ticks(M/36).tickSize(-S,0),d3.transition(z.select(".nv-y1.nv-axis")).style("opacity",I.length?1:0).call(l),s.scale(n).ticks(M/36).tickSize(I.length?0:-S,0),z.select(".nv-y2.nv-axis").style("opacity",W.length?1:0).attr("transform","translate("+S+",0)"),d3.transition(z.select(".nv-y2.nv-axis")).call(s),c.dispatch.on("stateChange",(function(t){y=t,w.stateChange(y),C.update()})),w.on("tooltipShow",(function(t){m&&A(t,x.parentNode)})),w.on("changeState",(function(t){void 0!==t.disabled&&(r.forEach((function(e,n){e.disabled=t.disabled[n]})),y.disabled=t.disabled),C.update()}))})),C}return o.dispatch.on("elementMouseover.tooltip",(function(t){t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],w.tooltipShow(t)})),o.dispatch.on("elementMouseout.tooltip",(function(t){w.tooltipHide(t)})),a.dispatch.on("elementMouseover.tooltip",(function(t){t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],w.tooltipShow(t)})),a.dispatch.on("elementMouseout.tooltip",(function(t){w.tooltipHide(t)})),w.on("tooltipHide",(function(){m&&r.tooltip.cleanup()})),C.dispatch=w,C.legend=c,C.lines=o,C.bars=a,C.xAxis=i,C.y1Axis=l,C.y2Axis=s,d3.rebind(C,o,"defined","size","clipVoronoi","interpolate"),C.options=r.utils.optionsFunc.bind(C),C.x=function(t){return arguments.length?(f=t,o.x(t),a.x(t),C):f},C.y=function(t){return arguments.length?(h=t,o.y(t),a.y(t),C):h},C.margin=function(t){return arguments.length?(u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left,C):u},C.width=function(t){return arguments.length?(d=t,C):d},C.height=function(t){return arguments.length?(p=t,C):p},C.color=function(t){return arguments.length?(g=r.utils.getColor(t),c.color(g),C):g},C.showLegend=function(t){return arguments.length?(v=t,C):v},C.tooltips=function(t){return arguments.length?(m=t,C):m},C.tooltipContent=function(t){return arguments.length?(x=t,C):x},C.state=function(t){return arguments.length?(y=t,C):y},C.defaultState=function(t){return arguments.length?(b=t,C):b},C.noData=function(t){return arguments.length?(k=t,C):k},C},r.models.lineWithFocusChart=function(){"use strict";var t,e,n,o,a=r.models.line(),i=r.models.line(),l=r.models.axis(),s=r.models.axis(),c=r.models.axis(),u=r.models.axis(),d=r.models.legend(),p=d3.svg.brush(),f={top:30,right:30,bottom:30,left:60},h={top:0,right:30,bottom:20,left:60},g=r.utils.defaultColor(),v=null,m=null,x=100,y=!0,b=null,k=!0,w=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},A="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide","brush"),S=250;a.clipEdge(!0),i.interactive(!1),l.orient("bottom").tickPadding(5),s.orient("left"),c.orient("bottom").tickPadding(5),u.orient("left");var M=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),o=t.pos[1]+(e.offsetTop||0),i=l.tickFormat()(a.x()(t.point,t.pointIndex)),c=s.tickFormat()(a.y()(t.point,t.pointIndex)),u=w(t.series.key,i,c,t,D);r.tooltip.show([n,o],u,null,null,e)};function D(r){return r.each((function(r){var w=d3.select(this),I=this,W=(v||parseInt(w.style("width"))||960)-f.left-f.right,F=(m||parseInt(w.style("height"))||400)-f.top-f.bottom-x,L=x-h.top-h.bottom;if(D.update=function(){w.transition().duration(S).call(D)},D.container=this,!(r&&r.length&&r.filter((function(t){return t.values.length})).length)){var z=w.selectAll(".nv-noData").data([A]);return z.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),z.attr("x",f.left+W/2).attr("y",f.top+F/2).text((function(t){return t})),D}w.selectAll(".nv-noData").remove(),t=a.xScale(),e=a.yScale(),n=i.xScale(),o=i.yScale();var N=w.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([r]),B=N.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),P=N.select("g");B.append("g").attr("class","nv-legendWrap");var H=B.append("g").attr("class","nv-focus");H.append("g").attr("class","nv-x nv-axis"),H.append("g").attr("class","nv-y nv-axis"),H.append("g").attr("class","nv-linesWrap");var T=B.append("g").attr("class","nv-context");T.append("g").attr("class","nv-x nv-axis"),T.append("g").attr("class","nv-y nv-axis"),T.append("g").attr("class","nv-linesWrap"),T.append("g").attr("class","nv-brushBackground"),T.append("g").attr("class","nv-x nv-brush"),y&&(d.width(W),P.select(".nv-legendWrap").datum(r).call(d),f.top!=d.height()&&(f.top=d.height(),F=(m||parseInt(w.style("height"))||400)-f.top-f.bottom-x),P.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")")),N.attr("transform","translate("+f.left+","+f.top+")"),a.width(W).height(F).color(r.map((function(t,e){return t.color||g(t,e)})).filter((function(t,e){return!r[e].disabled}))),i.defined(a.defined()).width(W).height(L).color(r.map((function(t,e){return t.color||g(t,e)})).filter((function(t,e){return!r[e].disabled}))),P.select(".nv-context").attr("transform","translate(0,"+(F+f.bottom+h.top)+")");var R=P.select(".nv-context .nv-linesWrap").datum(r.filter((function(t){return!t.disabled})));d3.transition(R).call(i),l.scale(t).ticks(W/100).tickSize(-F,0),s.scale(e).ticks(F/36).tickSize(-W,0),P.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+F+")"),p.x(n).on("brush",(function(){var t=D.transitionDuration();D.transitionDuration(0),X(),D.transitionDuration(t)})),b&&p.extent(b);var Y=P.select(".nv-brushBackground").selectAll("g").data([b||p.extent()]),E=Y.enter().append("g");E.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",L),E.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",L);var V=P.select(".nv-x.nv-brush").call(p);function X(){b=p.empty()?null:p.extent();var e=p.empty()?n.domain():p.extent();Math.abs(e[0]-e[1])<=1||(C.brush({extent:e,brush:p}),p.empty()||p.extent(b),Y.data([p.empty()?n.domain():b]).each((function(e,r){var o=n(e[0])-t.range()[0],a=t.range()[1]-n(e[1]);d3.select(this).select(".left").attr("width",o<0?0:o),d3.select(this).select(".right").attr("x",n(e[1])).attr("width",a<0?0:a)})),P.select(".nv-focus .nv-linesWrap").datum(r.filter((function(t){return!t.disabled})).map((function(t,n){return{key:t.key,values:t.values.filter((function(t,n){return a.x()(t,n)>=e[0]&&a.x()(t,n)<=e[1]}))}}))).transition().duration(S).call(a),P.select(".nv-focus .nv-x.nv-axis").transition().duration(S).call(l),P.select(".nv-focus .nv-y.nv-axis").transition().duration(S).call(s))}V.selectAll("rect").attr("height",L),V.selectAll(".resize").append("path").attr("d",(function(t){var e=+("e"==t),n=e?1:-1,r=L/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)})),X(),c.scale(n).ticks(W/100).tickSize(-L,0),P.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),d3.transition(P.select(".nv-context .nv-x.nv-axis")).call(c),u.scale(o).ticks(L/36).tickSize(-W,0),d3.transition(P.select(".nv-context .nv-y.nv-axis")).call(u),P.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),d.dispatch.on("stateChange",(function(t){D.update()})),C.on("tooltipShow",(function(t){k&&M(t,I.parentNode)}))})),D}return a.dispatch.on("elementMouseover.tooltip",(function(t){t.pos=[t.pos[0]+f.left,t.pos[1]+f.top],C.tooltipShow(t)})),a.dispatch.on("elementMouseout.tooltip",(function(t){C.tooltipHide(t)})),C.on("tooltipHide",(function(){k&&r.tooltip.cleanup()})),D.dispatch=C,D.legend=d,D.lines=a,D.lines2=i,D.xAxis=l,D.yAxis=s,D.x2Axis=c,D.y2Axis=u,d3.rebind(D,a,"defined","isArea","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id"),D.options=r.utils.optionsFunc.bind(D),D.x=function(t){return arguments.length?(a.x(t),i.x(t),D):a.x},D.y=function(t){return arguments.length?(a.y(t),i.y(t),D):a.y},D.margin=function(t){return arguments.length?(f.top=void 0!==t.top?t.top:f.top,f.right=void 0!==t.right?t.right:f.right,f.bottom=void 0!==t.bottom?t.bottom:f.bottom,f.left=void 0!==t.left?t.left:f.left,D):f},D.margin2=function(t){return arguments.length?(h=t,D):h},D.width=function(t){return arguments.length?(v=t,D):v},D.height=function(t){return arguments.length?(m=t,D):m},D.height2=function(t){return arguments.length?(x=t,D):x},D.color=function(t){return arguments.length?(g=r.utils.getColor(t),d.color(g),D):g},D.showLegend=function(t){return arguments.length?(y=t,D):y},D.tooltips=function(t){return arguments.length?(k=t,D):k},D.tooltipContent=function(t){return arguments.length?(w=t,D):w},D.interpolate=function(t){return arguments.length?(a.interpolate(t),i.interpolate(t),D):a.interpolate()},D.noData=function(t){return arguments.length?(A=t,D):A},D.xTickFormat=function(t){return arguments.length?(l.tickFormat(t),c.tickFormat(t),D):l.tickFormat()},D.yTickFormat=function(t){return arguments.length?(s.tickFormat(t),u.tickFormat(t),D):s.tickFormat()},D.brushExtent=function(t){return arguments.length?(b=t,D):b},D.transitionDuration=function(t){return arguments.length?(S=t,D):S},D},r.models.linePlusBarWithFocusChart=function(){"use strict";var t,e,n,o,a,i,l,s=r.models.line(),c=r.models.line(),u=r.models.historicalBar(),d=r.models.historicalBar(),p=r.models.axis(),f=r.models.axis(),h=r.models.axis(),g=r.models.axis(),v=r.models.axis(),m=r.models.axis(),x=r.models.legend(),y=d3.svg.brush(),b={top:30,right:30,bottom:30,left:60},k={top:0,right:30,bottom:20,left:60},w=null,A=null,C=100,S=function(t){return t.x},M=function(t){return t.y},D=r.utils.defaultColor(),I=!0,W=null,F=!0,L=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},z="No Data Available.",N=d3.dispatch("tooltipShow","tooltipHide","brush"),B=0;s.clipEdge(!0),c.interactive(!1),p.orient("bottom").tickPadding(5),h.orient("left"),g.orient("right"),f.orient("bottom").tickPadding(5),v.orient("left"),m.orient("right");var P=function(e,n){t&&(e.pointIndex+=Math.ceil(t[0]));var o=e.pos[0]+(n.offsetLeft||0),a=e.pos[1]+(n.offsetTop||0),i=p.tickFormat()(s.x()(e.point,e.pointIndex)),l=(e.series.bar?h:g).tickFormat()(s.y()(e.point,e.pointIndex)),c=L(e.series.key,i,l,e,H);r.tooltip.show([o,a],c,e.value<0?"n":"s",null,n)};function H(r){return r.each((function(r){var L=d3.select(this),T=this,R=(w||parseInt(L.style("width"))||960)-b.left-b.right,Y=(A||parseInt(L.style("height"))||400)-b.top-b.bottom-C,E=C-k.top-k.bottom;if(H.update=function(){L.transition().duration(B).call(H)},H.container=this,!(r&&r.length&&r.filter((function(t){return t.values.length})).length)){var V=L.selectAll(".nv-noData").data([z]);return V.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),V.attr("x",b.left+R/2).attr("y",b.top+Y/2).text((function(t){return t})),H}L.selectAll(".nv-noData").remove();var X=r.filter((function(t){return!t.disabled&&t.bar})),_=r.filter((function(t){return!t.bar}));e=u.xScale(),n=f.scale(),o=u.yScale(),a=s.yScale(),i=d.yScale(),l=c.yScale();var Z=r.filter((function(t){return!t.disabled&&t.bar})).map((function(t){return t.values.map((function(t,e){return{x:S(t,e),y:M(t,e)}}))})),G=r.filter((function(t){return!t.disabled&&!t.bar})).map((function(t){return t.values.map((function(t,e){return{x:S(t,e),y:M(t,e)}}))}));e.range([0,R]),n.domain(d3.extent(d3.merge(Z.concat(G)),(function(t){return t.x}))).range([0,R]);var O=L.selectAll("g.nv-wrap.nv-linePlusBar").data([r]),U=O.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),K=O.select("g");U.append("g").attr("class","nv-legendWrap");var j=U.append("g").attr("class","nv-focus");j.append("g").attr("class","nv-x nv-axis"),j.append("g").attr("class","nv-y1 nv-axis"),j.append("g").attr("class","nv-y2 nv-axis"),j.append("g").attr("class","nv-barsWrap"),j.append("g").attr("class","nv-linesWrap");var $=U.append("g").attr("class","nv-context");$.append("g").attr("class","nv-x nv-axis"),$.append("g").attr("class","nv-y1 nv-axis"),$.append("g").attr("class","nv-y2 nv-axis"),$.append("g").attr("class","nv-barsWrap"),$.append("g").attr("class","nv-linesWrap"),$.append("g").attr("class","nv-brushBackground"),$.append("g").attr("class","nv-x nv-brush"),I&&(x.width(R/2),K.select(".nv-legendWrap").datum(r.map((function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?" (left axis)":" (right axis)"),t}))).call(x),b.top!=x.height()&&(b.top=x.height(),Y=(A||parseInt(L.style("height"))||400)-b.top-b.bottom-C),K.select(".nv-legendWrap").attr("transform","translate("+R/2+","+-b.top+")")),O.attr("transform","translate("+b.left+","+b.top+")"),d.width(R).height(E).color(r.map((function(t,e){return t.color||D(t,e)})).filter((function(t,e){return!r[e].disabled&&r[e].bar}))),c.width(R).height(E).color(r.map((function(t,e){return t.color||D(t,e)})).filter((function(t,e){return!r[e].disabled&&!r[e].bar})));var q=K.select(".nv-context .nv-barsWrap").datum(X.length?X:[{values:[]}]),J=K.select(".nv-context .nv-linesWrap").datum(_[0].disabled?[{values:[]}]:_);K.select(".nv-context").attr("transform","translate(0,"+(Y+b.bottom+k.top)+")"),q.transition().call(d),J.transition().call(c),y.x(n).on("brush",nt),W&&y.extent(W);var Q=K.select(".nv-brushBackground").selectAll("g").data([W||y.extent()]),tt=Q.enter().append("g");tt.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",E),tt.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",E);var et=K.select(".nv-x.nv-brush").call(y);function nt(){W=y.empty()?null:y.extent(),t=y.empty()?n.domain():y.extent(),N.brush({extent:t,brush:y}),y.empty()||y.extent(W),Q.data([y.empty()?n.domain():W]).each((function(t,e){var r=n(t[0])-n.range()[0],o=n.range()[1]-n(t[1]);d3.select(this).select(".left").attr("width",r<0?0:r),d3.select(this).select(".right").attr("x",n(t[1])).attr("width",o<0?0:o)})),u.width(R).height(Y).color(r.map((function(t,e){return t.color||D(t,e)})).filter((function(t,e){return!r[e].disabled&&r[e].bar}))),s.width(R).height(Y).color(r.map((function(t,e){return t.color||D(t,e)})).filter((function(t,e){return!r[e].disabled&&!r[e].bar})));var i=K.select(".nv-focus .nv-barsWrap").datum(X.length?X.map((function(e,n){return{key:e.key,values:e.values.filter((function(e,n){return u.x()(e,n)>=t[0]&&u.x()(e,n)<=t[1]}))}})):[{values:[]}]),l=K.select(".nv-focus .nv-linesWrap").datum(_[0].disabled?[{values:[]}]:_.map((function(e,n){return{key:e.key,values:e.values.filter((function(e,n){return s.x()(e,n)>=t[0]&&s.x()(e,n)<=t[1]}))}})));e=X.length?u.xScale():s.xScale(),p.scale(e).ticks(R/100).tickSize(-Y,0),p.domain([Math.ceil(t[0]),Math.floor(t[1])]),K.select(".nv-x.nv-axis").transition().duration(B).call(p),i.transition().duration(B).call(u),l.transition().duration(B).call(s),K.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),h.scale(o).ticks(Y/36).tickSize(-R,0),K.select(".nv-focus .nv-y1.nv-axis").style("opacity",X.length?1:0),g.scale(a).ticks(Y/36).tickSize(X.length?0:-R,0),K.select(".nv-focus .nv-y2.nv-axis").style("opacity",_.length?1:0).attr("transform","translate("+e.range()[1]+",0)"),K.select(".nv-focus .nv-y1.nv-axis").transition().duration(B).call(h),K.select(".nv-focus .nv-y2.nv-axis").transition().duration(B).call(g)}et.selectAll("rect").attr("height",E),et.selectAll(".resize").append("path").attr("d",(function(t){var e=+("e"==t),n=e?1:-1,r=E/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)})),f.ticks(R/100).tickSize(-E,0),K.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),K.select(".nv-context .nv-x.nv-axis").transition().call(f),v.scale(i).ticks(E/36).tickSize(-R,0),K.select(".nv-context .nv-y1.nv-axis").style("opacity",X.length?1:0).attr("transform","translate(0,"+n.range()[0]+")"),K.select(".nv-context .nv-y1.nv-axis").transition().call(v),m.scale(l).ticks(E/36).tickSize(X.length?0:-R,0),K.select(".nv-context .nv-y2.nv-axis").style("opacity",_.length?1:0).attr("transform","translate("+n.range()[1]+",0)"),K.select(".nv-context .nv-y2.nv-axis").transition().call(m),x.dispatch.on("stateChange",(function(t){H.update()})),N.on("tooltipShow",(function(t){F&&P(t,T.parentNode)})),nt()})),H}return s.dispatch.on("elementMouseover.tooltip",(function(t){t.pos=[t.pos[0]+b.left,t.pos[1]+b.top],N.tooltipShow(t)})),s.dispatch.on("elementMouseout.tooltip",(function(t){N.tooltipHide(t)})),u.dispatch.on("elementMouseover.tooltip",(function(t){t.pos=[t.pos[0]+b.left,t.pos[1]+b.top],N.tooltipShow(t)})),u.dispatch.on("elementMouseout.tooltip",(function(t){N.tooltipHide(t)})),N.on("tooltipHide",(function(){F&&r.tooltip.cleanup()})),H.dispatch=N,H.legend=x,H.lines=s,H.lines2=c,H.bars=u,H.bars2=d,H.xAxis=p,H.x2Axis=f,H.y1Axis=h,H.y2Axis=g,H.y3Axis=v,H.y4Axis=m,d3.rebind(H,s,"defined","size","clipVoronoi","interpolate"),H.options=r.utils.optionsFunc.bind(H),H.x=function(t){return arguments.length?(S=t,s.x(t),u.x(t),H):S},H.y=function(t){return arguments.length?(M=t,s.y(t),u.y(t),H):M},H.margin=function(t){return arguments.length?(b.top=void 0!==t.top?t.top:b.top,b.right=void 0!==t.right?t.right:b.right,b.bottom=void 0!==t.bottom?t.bottom:b.bottom,b.left=void 0!==t.left?t.left:b.left,H):b},H.width=function(t){return arguments.length?(w=t,H):w},H.height=function(t){return arguments.length?(A=t,H):A},H.color=function(t){return arguments.length?(D=r.utils.getColor(t),x.color(D),H):D},H.showLegend=function(t){return arguments.length?(I=t,H):I},H.tooltips=function(t){return arguments.length?(F=t,H):F},H.tooltipContent=function(t){return arguments.length?(L=t,H):L},H.noData=function(t){return arguments.length?(z=t,H):z},H.brushExtent=function(t){return arguments.length?(W=t,H):W},H},r.models.multiBar=function(){"use strict";var t,e,n,o,a,i,l,s={top:0,right:0,bottom:0,left:0},c=960,u=500,d=d3.scale.ordinal(),p=d3.scale.linear(),f=Math.floor(1e4*Math.random()),h=function(t){return t.x},g=function(t){return t.y},v=[0],m=!0,x=!1,y=r.utils.defaultColor(),b=!1,k=null,w=1200,A=.1,C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");function S(r){return r.each((function(r){var S=c-s.left-s.right,M=u-s.top-s.bottom,D=d3.select(this);b&&r.length&&(b=[{values:r[0].values.map((function(t){return{x:t.x,y:0,series:t.series,size:.01}}))}]),x&&(r=d3.layout.stack().offset("zero").values((function(t){return t.values})).y(g)(!r.length&&b?b:r)),r=r.map((function(t,e){return t.values=t.values.map((function(t){return t.series=e,t})),t})),x&&r[0].values.map((function(t,e){var n=0,o=0;r.map((function(t){var r=t.values[e];r.size=Math.abs(r.y),r.y<0?(r.y1=o,o-=r.size):(r.y1=r.size+n,n+=r.size)}))}));var I=e&&n?[]:r.map((function(t){return t.values.map((function(t,e){return{x:h(t,e),y:g(t,e),y0:t.y0,y1:t.y1}}))}));d.domain(e||d3.merge(I).map((function(t){return t.x}))).rangeBands(o||[0,S],A),p.domain(n||d3.extent(d3.merge(I).map((function(t){return x?t.y>0?t.y1:t.y1+t.y:t.y})).concat(v))).range(a||[M,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),p.domain()[0]===p.domain()[1]&&(p.domain()[0]?p.domain([p.domain()[0]+.01*p.domain()[0],p.domain()[1]-.01*p.domain()[1]]):p.domain([-1,1])),i=i||d,l=l||p;var W=D.selectAll("g.nv-wrap.nv-multibar").data([r]),F=W.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),L=F.append("defs"),z=F.append("g"),N=W.select("g");z.append("g").attr("class","nv-groups"),W.attr("transform","translate("+s.left+","+s.top+")"),L.append("clipPath").attr("id","nv-edge-clip-"+f).append("rect"),W.select("#nv-edge-clip-"+f+" rect").attr("width",S).attr("height",M),N.attr("clip-path",m?"url(#nv-edge-clip-"+f+")":"");var B=W.select(".nv-groups").selectAll(".nv-group").data((function(t){return t}),(function(t,e){return e}));B.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),B.exit().transition().selectAll("rect.nv-bar").delay((function(t,e){return e*w/r[0].values.length})).attr("y",(function(t){return l(x?t.y0:0)})).attr("height",0).remove(),B.attr("class",(function(t,e){return"nv-group nv-series-"+e})).classed("hover",(function(t){return t.hover})).style("fill",(function(t,e){return y(t,e)})).style("stroke",(function(t,e){return y(t,e)})),B.transition().style("stroke-opacity",1).style("fill-opacity",.75);var P=B.selectAll("rect.nv-bar").data((function(t){return b&&!r.length?b.values:t.values}));P.exit().remove(),P.enter().append("rect").attr("class",(function(t,e){return g(t,e)<0?"nv-bar negative":"nv-bar positive"})).attr("x",(function(t,e,n){return x?0:n*d.rangeBand()/r.length})).attr("y",(function(t){return l(x?t.y0:0)})).attr("height",0).attr("width",d.rangeBand()/(x?1:r.length)).attr("transform",(function(t,e){return"translate("+d(h(t,e))+",0)"})),P.style("fill",(function(t,e,n){return y(t,n,e)})).style("stroke",(function(t,e,n){return y(t,n,e)})).on("mouseover",(function(t,e){d3.select(this).classed("hover",!0),C.elementMouseover({value:g(t,e),point:t,series:r[t.series],pos:[d(h(t,e))+d.rangeBand()*(x?r.length/2:t.series+.5)/r.length,p(g(t,e)+(x?t.y0:0))],pointIndex:e,seriesIndex:t.series,e:d3.event})})).on("mouseout",(function(t,e){d3.select(this).classed("hover",!1),C.elementMouseout({value:g(t,e),point:t,series:r[t.series],pointIndex:e,seriesIndex:t.series,e:d3.event})})).on("click",(function(t,e){C.elementClick({value:g(t,e),point:t,series:r[t.series],pos:[d(h(t,e))+d.rangeBand()*(x?r.length/2:t.series+.5)/r.length,p(g(t,e)+(x?t.y0:0))],pointIndex:e,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()})).on("dblclick",(function(t,e){C.elementDblClick({value:g(t,e),point:t,series:r[t.series],pos:[d(h(t,e))+d.rangeBand()*(x?r.length/2:t.series+.5)/r.length,p(g(t,e)+(x?t.y0:0))],pointIndex:e,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()})),P.attr("class",(function(t,e){return g(t,e)<0?"nv-bar negative":"nv-bar positive"})).transition().attr("transform",(function(t,e){return"translate("+d(h(t,e))+",0)"})),k&&(t||(t=r.map((function(){return!0}))),P.style("fill",(function(e,n,r){return d3.rgb(k(e,n)).darker(t.map((function(t,e){return e})).filter((function(e,n){return!t[n]}))[r]).toString()})).style("stroke",(function(e,n,r){return d3.rgb(k(e,n)).darker(t.map((function(t,e){return e})).filter((function(e,n){return!t[n]}))[r]).toString()}))),x?P.transition().delay((function(t,e){return e*w/r[0].values.length})).attr("y",(function(t,e){return p(x?t.y1:0)})).attr("height",(function(t,e){return Math.max(Math.abs(p(t.y+(x?t.y0:0))-p(x?t.y0:0)),1)})).attr("x",(function(t,e){return x?0:t.series*d.rangeBand()/r.length})).attr("width",d.rangeBand()/(x?1:r.length)):P.transition().delay((function(t,e){return e*w/r[0].values.length})).attr("x",(function(t,e){return t.series*d.rangeBand()/r.length})).attr("width",d.rangeBand()/r.length).attr("y",(function(t,e){return g(t,e)<0?p(0):p(0)-p(g(t,e))<1?p(0)-1:p(g(t,e))||0})).attr("height",(function(t,e){return Math.max(Math.abs(p(g(t,e))-p(0)),1)||0})),i=d.copy(),l=p.copy()})),S}return S.dispatch=C,S.options=r.utils.optionsFunc.bind(S),S.x=function(t){return arguments.length?(h=t,S):h},S.y=function(t){return arguments.length?(g=t,S):g},S.margin=function(t){return arguments.length?(s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left,S):s},S.width=function(t){return arguments.length?(c=t,S):c},S.height=function(t){return arguments.length?(u=t,S):u},S.xScale=function(t){return arguments.length?(d=t,S):d},S.yScale=function(t){return arguments.length?(p=t,S):p},S.xDomain=function(t){return arguments.length?(e=t,S):e},S.yDomain=function(t){return arguments.length?(n=t,S):n},S.xRange=function(t){return arguments.length?(o=t,S):o},S.yRange=function(t){return arguments.length?(a=t,S):a},S.forceY=function(t){return arguments.length?(v=t,S):v},S.stacked=function(t){return arguments.length?(x=t,S):x},S.clipEdge=function(t){return arguments.length?(m=t,S):m},S.color=function(t){return arguments.length?(y=r.utils.getColor(t),S):y},S.barColor=function(t){return arguments.length?(k=r.utils.getColor(t),S):k},S.disabled=function(e){return arguments.length?(t=e,S):t},S.id=function(t){return arguments.length?(f=t,S):f},S.hideable=function(t){return arguments.length?(b=t,S):b},S.delay=function(t){return arguments.length?(w=t,S):w},S.groupSpacing=function(t){return arguments.length?(A=t,S):A},S},r.models.multiBarChart=function(){"use strict";var t,e,n=r.models.multiBar(),o=r.models.axis(),a=r.models.axis(),i=r.models.legend(),l=r.models.legend(),s={top:30,right:20,bottom:50,left:60},c=null,u=null,d=r.utils.defaultColor(),p=!0,f=!0,h=!0,g=!0,v=!1,m=!0,x=!1,y=0,b=!0,k=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},w={stacked:!1},A=null,C="No Data Available.",S=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),M=function(){return p?180:0},D=250;n.stacked(!1),o.orient("bottom").tickPadding(7).highlightZero(!0).showMaxMin(!1).tickFormat((function(t){return t})),a.orient(v?"right":"left").tickFormat(d3.format(",.1f")),l.updateState(!1);var I=function(t,e){var i=t.pos[0]+(e.offsetLeft||0),l=t.pos[1]+(e.offsetTop||0),s=o.tickFormat()(n.x()(t.point,t.pointIndex)),c=a.tickFormat()(n.y()(t.point,t.pointIndex)),u=k(t.series.key,s,c,t,W);r.tooltip.show([i,l],u,t.value<0?"n":"s",null,e)};function W(r){return r.each((function(r){var k,F=d3.select(this),L=this,z=(c||parseInt(F.style("width"))||960)-s.left-s.right,N=(u||parseInt(F.style("height"))||400)-s.top-s.bottom;if(W.update=function(){F.transition().duration(D).call(W)},W.container=this,w.disabled=r.map((function(t){return!!t.disabled})),!A)for(k in A={},w)w[k]instanceof Array?A[k]=w[k].slice(0):A[k]=w[k];if(!(r&&r.length&&r.filter((function(t){return t.values.length})).length)){var B=F.selectAll(".nv-noData").data([C]);return B.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),B.attr("x",s.left+z/2).attr("y",s.top+N/2).text((function(t){return t})),W}F.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale();var P=F.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([r]),H=P.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),T=P.select("g");if(H.append("g").attr("class","nv-x nv-axis"),H.append("g").attr("class","nv-y nv-axis"),H.append("g").attr("class","nv-barsWrap"),H.append("g").attr("class","nv-legendWrap"),H.append("g").attr("class","nv-controlsWrap"),f&&(i.width(z-M()),n.barColor()&&r.forEach((function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()})),T.select(".nv-legendWrap").datum(r).call(i),s.top!=i.height()&&(s.top=i.height(),N=(u||parseInt(F.style("height"))||400)-s.top-s.bottom),T.select(".nv-legendWrap").attr("transform","translate("+M()+","+-s.top+")")),p){var R=[{key:"Grouped",disabled:n.stacked()},{key:"Stacked",disabled:!n.stacked()}];l.width(M()).color(["#444","#444","#444"]),T.select(".nv-controlsWrap").datum(R).attr("transform","translate(0,"+-s.top+")").call(l)}if(P.attr("transform","translate("+s.left+","+s.top+")"),v&&T.select(".nv-y.nv-axis").attr("transform","translate("+z+",0)"),n.disabled(r.map((function(t){return t.disabled}))).width(z).height(N).color(r.map((function(t,e){return t.color||d(t,e)})).filter((function(t,e){return!r[e].disabled}))),T.select(".nv-barsWrap").datum(r.filter((function(t){return!t.disabled}))).transition().call(n),h){o.scale(t).ticks(z/100).tickSize(-N,0),T.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),T.select(".nv-x.nv-axis").transition().call(o);var Y=T.select(".nv-x.nv-axis > g").selectAll("g");if(Y.selectAll("line, text").style("opacity",1),x){var E=function(t,e){return"translate("+t+","+e+")"};Y.selectAll("text").attr("transform",(function(t,e,n){return E(0,n%2==0?5:17)}));var V=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;T.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",(function(t,e){return E(0,0===e||V%2!=0?17:5)}))}m&&Y.filter((function(t,e){return e%Math.ceil(r[0].values.length/(z/100))!=0})).selectAll("text, line").style("opacity",0),y&&Y.selectAll(".tick text").attr("transform","rotate("+y+" 0,0)").style("text-anchor",y>0?"start":"end"),T.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}g&&(a.scale(e).ticks(N/36).tickSize(-z,0),T.select(".nv-y.nv-axis").transition().call(a)),i.dispatch.on("stateChange",(function(t){w=t,S.stateChange(w),W.update()})),l.dispatch.on("legendClick",(function(t,e){if(t.disabled){switch(R=R.map((function(t){return t.disabled=!0,t})),t.disabled=!1,t.key){case"Grouped":n.stacked(!1);break;case"Stacked":n.stacked(!0)}w.stacked=n.stacked(),S.stateChange(w),W.update()}})),S.on("tooltipShow",(function(t){b&&I(t,L.parentNode)})),S.on("changeState",(function(t){void 0!==t.disabled&&(r.forEach((function(e,n){e.disabled=t.disabled[n]})),w.disabled=t.disabled),void 0!==t.stacked&&(n.stacked(t.stacked),w.stacked=t.stacked),W.update()}))})),W}return n.dispatch.on("elementMouseover.tooltip",(function(t){t.pos=[t.pos[0]+s.left,t.pos[1]+s.top],S.tooltipShow(t)})),n.dispatch.on("elementMouseout.tooltip",(function(t){S.tooltipHide(t)})),S.on("tooltipHide",(function(){b&&r.tooltip.cleanup()})),W.dispatch=S,W.multibar=n,W.legend=i,W.xAxis=o,W.yAxis=a,d3.rebind(W,n,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","stacked","delay","barColor","groupSpacing"),W.options=r.utils.optionsFunc.bind(W),W.margin=function(t){return arguments.length?(s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left,W):s},W.width=function(t){return arguments.length?(c=t,W):c},W.height=function(t){return arguments.length?(u=t,W):u},W.color=function(t){return arguments.length?(d=r.utils.getColor(t),i.color(d),W):d},W.showControls=function(t){return arguments.length?(p=t,W):p},W.showLegend=function(t){return arguments.length?(f=t,W):f},W.showXAxis=function(t){return arguments.length?(h=t,W):h},W.showYAxis=function(t){return arguments.length?(g=t,W):g},W.rightAlignYAxis=function(t){return arguments.length?(v=t,a.orient(t?"right":"left"),W):v},W.reduceXTicks=function(t){return arguments.length?(m=t,W):m},W.rotateLabels=function(t){return arguments.length?(y=t,W):y},W.staggerLabels=function(t){return arguments.length?(x=t,W):x},W.tooltip=function(t){return arguments.length?(k=t,W):k},W.tooltips=function(t){return arguments.length?(b=t,W):b},W.tooltipContent=function(t){return arguments.length?(k=t,W):k},W.state=function(t){return arguments.length?(w=t,W):w},W.defaultState=function(t){return arguments.length?(A=t,W):A},W.noData=function(t){return arguments.length?(C=t,W):C},W.transitionDuration=function(t){return arguments.length?(D=t,W):D},W},r.models.multiBarHorizontal=function(){"use strict";var t,e,n,o,a,i,l,s={top:0,right:0,bottom:0,left:0},c=960,u=500,d=Math.floor(1e4*Math.random()),p=d3.scale.ordinal(),f=d3.scale.linear(),h=function(t){return t.x},g=function(t){return t.y},v=[0],m=r.utils.defaultColor(),x=null,y=!1,b=!1,k=60,w=d3.format(",.2f"),A=1200,C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");function S(r){return r.each((function(r){var d=c-s.left-s.right,A=u-s.top-s.bottom;d3.select(this),y&&(r=d3.layout.stack().offset("zero").values((function(t){return t.values})).y(g)(r)),r=r.map((function(t,e){return t.values=t.values.map((function(t){return t.series=e,t})),t})),y&&r[0].values.map((function(t,e){var n=0,o=0;r.map((function(t){var r=t.values[e];r.size=Math.abs(r.y),r.y<0?(r.y1=o-r.size,o-=r.size):(r.y1=n,n+=r.size)}))}));var S=e&&n?[]:r.map((function(t){return t.values.map((function(t,e){return{x:h(t,e),y:g(t,e),y0:t.y0,y1:t.y1}}))}));p.domain(e||d3.merge(S).map((function(t){return t.x}))).rangeBands(o||[0,A],.1),f.domain(n||d3.extent(d3.merge(S).map((function(t){return y?t.y>0?t.y1+t.y:t.y1:t.y})).concat(v))),b&&!y?f.range(a||[f.domain()[0]<0?k:0,d-(f.domain()[1]>0?k:0)]):f.range(a||[0,d]),i=i||p,l=l||d3.scale.linear().domain(f.domain()).range([f(0),f(0)]);var M=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([r]),D=M.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),I=(D.append("defs"),D.append("g"));M.select("g"),I.append("g").attr("class","nv-groups"),M.attr("transform","translate("+s.left+","+s.top+")");var W=M.select(".nv-groups").selectAll(".nv-group").data((function(t){return t}),(function(t,e){return e}));W.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),W.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),W.attr("class",(function(t,e){return"nv-group nv-series-"+e})).classed("hover",(function(t){return t.hover})).style("fill",(function(t,e){return m(t,e)})).style("stroke",(function(t,e){return m(t,e)})),W.transition().style("stroke-opacity",1).style("fill-opacity",.75);var F=W.selectAll("g.nv-bar").data((function(t){return t.values}));F.exit().remove();var L=F.enter().append("g").attr("transform",(function(t,e,n){return"translate("+l(y?t.y0:0)+","+(y?0:n*p.rangeBand()/r.length+p(h(t,e)))+")"}));L.append("rect").attr("width",0).attr("height",p.rangeBand()/(y?1:r.length)),F.on("mouseover",(function(t,e){d3.select(this).classed("hover",!0),C.elementMouseover({value:g(t,e),point:t,series:r[t.series],pos:[f(g(t,e)+(y?t.y0:0)),p(h(t,e))+p.rangeBand()*(y?r.length/2:t.series+.5)/r.length],pointIndex:e,seriesIndex:t.series,e:d3.event})})).on("mouseout",(function(t,e){d3.select(this).classed("hover",!1),C.elementMouseout({value:g(t,e),point:t,series:r[t.series],pointIndex:e,seriesIndex:t.series,e:d3.event})})).on("click",(function(t,e){C.elementClick({value:g(t,e),point:t,series:r[t.series],pos:[p(h(t,e))+p.rangeBand()*(y?r.length/2:t.series+.5)/r.length,f(g(t,e)+(y?t.y0:0))],pointIndex:e,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()})).on("dblclick",(function(t,e){C.elementDblClick({value:g(t,e),point:t,series:r[t.series],pos:[p(h(t,e))+p.rangeBand()*(y?r.length/2:t.series+.5)/r.length,f(g(t,e)+(y?t.y0:0))],pointIndex:e,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()})),L.append("text"),b&&!y?(F.select("text").attr("text-anchor",(function(t,e){return g(t,e)<0?"end":"start"})).attr("y",p.rangeBand()/(2*r.length)).attr("dy",".32em").text((function(t,e){return w(g(t,e))})),F.transition().select("text").attr("x",(function(t,e){return g(t,e)<0?-4:f(g(t,e))-f(0)+4}))):F.selectAll("text").text(""),F.attr("class",(function(t,e){return g(t,e)<0?"nv-bar negative":"nv-bar positive"})),x&&(t||(t=r.map((function(){return!0}))),F.style("fill",(function(e,n,r){return d3.rgb(x(e,n)).darker(t.map((function(t,e){return e})).filter((function(e,n){return!t[n]}))[r]).toString()})).style("stroke",(function(e,n,r){return d3.rgb(x(e,n)).darker(t.map((function(t,e){return e})).filter((function(e,n){return!t[n]}))[r]).toString()}))),y?F.transition().attr("transform",(function(t,e){return"translate("+f(t.y1)+","+p(h(t,e))+")"})).select("rect").attr("width",(function(t,e){return Math.abs(f(g(t,e)+t.y0)-f(t.y0))})).attr("height",p.rangeBand()):F.transition().attr("transform",(function(t,e){return"translate("+(g(t,e)<0?f(g(t,e)):f(0))+","+(t.series*p.rangeBand()/r.length+p(h(t,e)))+")"})).select("rect").attr("height",p.rangeBand()/r.length).attr("width",(function(t,e){return Math.max(Math.abs(f(g(t,e))-f(0)),1)})),i=p.copy(),l=f.copy()})),S}return S.dispatch=C,S.options=r.utils.optionsFunc.bind(S),S.x=function(t){return arguments.length?(h=t,S):h},S.y=function(t){return arguments.length?(g=t,S):g},S.margin=function(t){return arguments.length?(s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left,S):s},S.width=function(t){return arguments.length?(c=t,S):c},S.height=function(t){return arguments.length?(u=t,S):u},S.xScale=function(t){return arguments.length?(p=t,S):p},S.yScale=function(t){return arguments.length?(f=t,S):f},S.xDomain=function(t){return arguments.length?(e=t,S):e},S.yDomain=function(t){return arguments.length?(n=t,S):n},S.xRange=function(t){return arguments.length?(o=t,S):o},S.yRange=function(t){return arguments.length?(a=t,S):a},S.forceY=function(t){return arguments.length?(v=t,S):v},S.stacked=function(t){return arguments.length?(y=t,S):y},S.color=function(t){return arguments.length?(m=r.utils.getColor(t),S):m},S.barColor=function(t){return arguments.length?(x=r.utils.getColor(t),S):x},S.disabled=function(e){return arguments.length?(t=e,S):t},S.id=function(t){return arguments.length?(d=t,S):d},S.delay=function(t){return arguments.length?(A=t,S):A},S.showValues=function(t){return arguments.length?(b=t,S):b},S.valueFormat=function(t){return arguments.length?(w=t,S):w},S.valuePadding=function(t){return arguments.length?(k=t,S):k},S},r.models.multiBarHorizontalChart=function(){"use strict";var t,e,n=r.models.multiBarHorizontal(),o=r.models.axis(),a=r.models.axis(),i=r.models.legend().height(30),l=r.models.legend().height(30),s={top:30,right:20,bottom:50,left:60},c=null,u=null,d=r.utils.defaultColor(),p=!0,f=!0,h=!0,g=function(t,e,n,r,o){return'<span style="color:#004a7c;">'+t+" - "+e+"</span><p>"+n+"</p>"},v={stacked:!1},m=null,x="No Data Available.",y=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),b=function(){return p?180:0},k=250;n.stacked(!1),o.orient("left").tickPadding(5).highlightZero(!1).showMaxMin(!1).tickFormat((function(t){return t})),a.orient("bottom").tickFormat(d3.format(",.1f")),l.updateState(!1);var w=function(t,e){t.pos[0],e.offsetLeft,t.pos[1],e.offsetTop;var i=o.tickFormat()(n.x()(t.point,t.pointIndex)),l=a.tickFormat()(n.y()(t.point,t.pointIndex)),s=g(t.series.key,i,l,t,A);r.tooltip.show([mouseX,mouseY],s,t.value<0?"e":"w",null,e)};function A(r){return r.each((function(g){var C,S=d3.select(this),M=this,D=(c||parseInt(S.style("width"))||960)-s.left-s.right,I=(u||parseInt(S.style("height"))||400)-s.top-s.bottom;if(A.update=function(){S.transition().duration(k).call(A)},A.container=this,v.disabled=g.map((function(t){return!!t.disabled})),!m)for(C in m={},v)v[C]instanceof Array?m[C]=v[C].slice(0):m[C]=v[C];if(!(g&&g.length&&g.filter((function(t){return t.values.length})).length)){var W=S.selectAll(".nv-noData").data([x]);return W.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),W.attr("x",s.left+D/2).attr("y",s.top+I/2).text((function(t){return t})),A}S.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale();var F=S.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([g]),L=F.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),z=F.select("g");if(L.append("g").attr("class","nv-x nv-axis"),L.append("g").attr("class","nv-y nv-axis"),L.append("g").attr("class","nv-barsWrap"),L.append("g").attr("class","nv-legendWrap"),L.append("g").attr("class","nv-controlsWrap"),f&&(i.width(D-b()),n.barColor()&&g.forEach((function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()})),z.select(".nv-legendWrap").datum(g).call(i),s.top!=i.height()&&(s.top=i.height(),I=(u||parseInt(S.style("height"))||400)-s.top-s.bottom),z.select(".nv-legendWrap").attr("transform","translate("+b()+","+-s.top+")")),p){var N=[{key:"Grouped",disabled:n.stacked()},{key:"Stacked",disabled:!n.stacked()}];l.width(b()).color(["#444","#444","#444"]),z.select(".nv-controlsWrap").datum(N).attr("transform","translate(0,"+-s.top+")").call(l)}F.attr("transform","translate("+s.left+","+s.top+")"),n.disabled(g.map((function(t){return t.disabled}))).width(D).height(I).color(g.map((function(t,e){return t.color||d(t,e)})).filter((function(t,e){return!g[e].disabled}))),z.select(".nv-barsWrap").datum(g.filter((function(t){return!t.disabled}))).transition().call(n),o.scale(t).ticks(I/24).tickSize(-D,0),z.select(".nv-x.nv-axis").transition().call(o),z.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text").style("opacity",1),a.scale(e).ticks(D/100).tickSize(-I,0),z.select(".nv-y.nv-axis").attr("transform","translate(0,"+I+")"),z.select(".nv-y.nv-axis").transition().call(a),i.dispatch.on("stateChange",(function(t){v=t,y.stateChange(v),A.update()})),l.dispatch.on("legendClick",(function(t,e){if(t.disabled){switch(N=N.map((function(t){return t.disabled=!0,t})),t.disabled=!1,t.key){case"Grouped":n.stacked(!1);break;case"Stacked":n.stacked(!0)}v.stacked=n.stacked(),y.stateChange(v),A.update()}})),y.on("tooltipShow",(function(t){h&&w(t,M.parentNode)})),y.on("changeState",(function(t){void 0!==t.disabled&&(g.forEach((function(e,n){e.disabled=t.disabled[n]})),v.disabled=t.disabled),void 0!==t.stacked&&(n.stacked(t.stacked),v.stacked=t.stacked),r.call(A)}))})),A}return n.dispatch.on("elementMouseover.tooltip",(function(t){t.pos=[t.pos[0]+s.left,t.pos[1]+s.top],y.tooltipShow(t)})),n.dispatch.on("elementMouseout.tooltip",(function(t){y.tooltipHide(t)})),y.on("tooltipHide",(function(){h&&r.tooltip.cleanup()})),A.dispatch=y,A.multibar=n,A.legend=i,A.xAxis=o,A.yAxis=a,d3.rebind(A,n,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","delay","showValues","valueFormat","stacked","barColor"),A.options=r.utils.optionsFunc.bind(A),A.margin=function(t){return arguments.length?(s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left,A):s},A.width=function(t){return arguments.length?(c=t,A):c},A.height=function(t){return arguments.length?(u=t,A):u},A.color=function(t){return arguments.length?(d=r.utils.getColor(t),i.color(d),A):d},A.showControls=function(t){return arguments.length?(p=t,A):p},A.showLegend=function(t){return arguments.length?(f=t,A):f},A.tooltip=function(t){return arguments.length?(g=t,A):g},A.tooltips=function(t){return arguments.length?(h=t,A):h},A.tooltipContent=function(t){return arguments.length?(g=t,A):g},A.state=function(t){return arguments.length?(v=t,A):v},A.defaultState=function(t){return arguments.length?(m=t,A):m},A.noData=function(t){return arguments.length?(x=t,A):x},A.transitionDuration=function(t){return arguments.length?(k=t,A):k},A},r.models.multiChart=function(){"use strict";var t,e,n={top:30,right:20,bottom:50,left:60},o=d3.scale.category20().range(),a=null,i=null,l=!0,s=!0,c=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},u=d3.scale.linear(),d=d3.scale.linear(),p=d3.scale.linear(),f=r.models.line().yScale(d),h=r.models.line().yScale(p),g=r.models.multiBar().stacked(!1).yScale(d),v=r.models.multiBar().stacked(!1).yScale(p),m=r.models.stackedArea().yScale(d),x=r.models.stackedArea().yScale(p),y=r.models.axis().scale(u).orient("bottom").tickPadding(5),b=r.models.axis().scale(d).orient("left"),k=r.models.axis().scale(p).orient("right"),w=r.models.legend().height(30),A=d3.dispatch("tooltipShow","tooltipHide"),C=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),o=t.pos[1]+(e.offsetTop||0),a=y.tickFormat()(f.x()(t.point,t.pointIndex)),i=(2==t.series.yAxis?k:b).tickFormat()(f.y()(t.point,t.pointIndex)),l=c(t.series.key,a,i,t,S);r.tooltip.show([n,o],l,void 0,void 0,e.offsetParent)};function S(r){return r.each((function(r){var c=d3.select(this),M=this;S.update=function(){c.transition().call(S)},S.container=this;var D=(a||parseInt(c.style("width"))||960)-n.left-n.right,I=(i||parseInt(c.style("height"))||400)-n.top-n.bottom,W=r.filter((function(t){return!t.disabled&&"line"==t.type&&1==t.yAxis})),F=r.filter((function(t){return!t.disabled&&"line"==t.type&&2==t.yAxis})),L=r.filter((function(t){return!t.disabled&&"bar"==t.type&&1==t.yAxis})),z=r.filter((function(t){return!t.disabled&&"bar"==t.type&&2==t.yAxis})),N=r.filter((function(t){return!t.disabled&&"area"==t.type&&1==t.yAxis})),B=r.filter((function(t){return!t.disabled&&"area"==t.type&&2==t.yAxis})),P=r.filter((function(t){return!t.disabled&&1==t.yAxis})).map((function(t){return t.values.map((function(t,e){return{x:t.x,y:t.y}}))})),H=r.filter((function(t){return!t.disabled&&2==t.yAxis})).map((function(t){return t.values.map((function(t,e){return{x:t.x,y:t.y}}))}));u.domain(d3.extent(d3.merge(P.concat(H)),(function(t){return t.x}))).range([0,D]);var T=c.selectAll("g.wrap.multiChart").data([r]),R=T.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");R.append("g").attr("class","x axis"),R.append("g").attr("class","y1 axis"),R.append("g").attr("class","y2 axis"),R.append("g").attr("class","lines1Wrap"),R.append("g").attr("class","lines2Wrap"),R.append("g").attr("class","bars1Wrap"),R.append("g").attr("class","bars2Wrap"),R.append("g").attr("class","stack1Wrap"),R.append("g").attr("class","stack2Wrap"),R.append("g").attr("class","legendWrap");var Y=T.select("g");l&&(w.width(D/2),Y.select(".legendWrap").datum(r.map((function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":" (right axis)"),t}))).call(w),n.top!=w.height()&&(n.top=w.height(),I=(i||parseInt(c.style("height"))||400)-n.top-n.bottom),Y.select(".legendWrap").attr("transform","translate("+D/2+","+-n.top+")")),f.width(D).height(I).interpolate("monotone").color(r.map((function(t,e){return t.color||o[e%o.length]})).filter((function(t,e){return!r[e].disabled&&1==r[e].yAxis&&"line"==r[e].type}))),h.width(D).height(I).interpolate("monotone").color(r.map((function(t,e){return t.color||o[e%o.length]})).filter((function(t,e){return!r[e].disabled&&2==r[e].yAxis&&"line"==r[e].type}))),g.width(D).height(I).color(r.map((function(t,e){return t.color||o[e%o.length]})).filter((function(t,e){return!r[e].disabled&&1==r[e].yAxis&&"bar"==r[e].type}))),v.width(D).height(I).color(r.map((function(t,e){return t.color||o[e%o.length]})).filter((function(t,e){return!r[e].disabled&&2==r[e].yAxis&&"bar"==r[e].type}))),m.width(D).height(I).color(r.map((function(t,e){return t.color||o[e%o.length]})).filter((function(t,e){return!r[e].disabled&&1==r[e].yAxis&&"area"==r[e].type}))),x.width(D).height(I).color(r.map((function(t,e){return t.color||o[e%o.length]})).filter((function(t,e){return!r[e].disabled&&2==r[e].yAxis&&"area"==r[e].type}))),Y.attr("transform","translate("+n.left+","+n.top+")");var E=Y.select(".lines1Wrap").datum(W),V=Y.select(".bars1Wrap").datum(L),X=Y.select(".stack1Wrap").datum(N),_=Y.select(".lines2Wrap").datum(F),Z=Y.select(".bars2Wrap").datum(z),G=Y.select(".stack2Wrap").datum(B),O=N.length?N.map((function(t){return t.values})).reduce((function(t,e){return t.map((function(t,n){return{x:t.x,y:t.y+e[n].y}}))})).concat([{x:0,y:0}]):[],U=B.length?B.map((function(t){return t.values})).reduce((function(t,e){return t.map((function(t,n){return{x:t.x,y:t.y+e[n].y}}))})).concat([{x:0,y:0}]):[];d.domain(t||d3.extent(d3.merge(P).concat(O),(function(t){return t.y}))).range([0,I]),p.domain(e||d3.extent(d3.merge(H).concat(U),(function(t){return t.y}))).range([0,I]),f.yDomain(d.domain()),g.yDomain(d.domain()),m.yDomain(d.domain()),h.yDomain(p.domain()),v.yDomain(p.domain()),x.yDomain(p.domain()),N.length&&d3.transition(X).call(m),B.length&&d3.transition(G).call(x),L.length&&d3.transition(V).call(g),z.length&&d3.transition(Z).call(v),W.length&&d3.transition(E).call(f),F.length&&d3.transition(_).call(h),y.ticks(D/100).tickSize(-I,0),Y.select(".x.axis").attr("transform","translate(0,"+I+")"),d3.transition(Y.select(".x.axis")).call(y),b.ticks(I/36).tickSize(-D,0),d3.transition(Y.select(".y1.axis")).call(b),k.ticks(I/36).tickSize(-D,0),d3.transition(Y.select(".y2.axis")).call(k),Y.select(".y2.axis").style("opacity",H.length?1:0).attr("transform","translate("+u.range()[1]+",0)"),w.dispatch.on("stateChange",(function(t){S.update()})),A.on("tooltipShow",(function(t){s&&C(t,M.parentNode)}))})),S}return f.dispatch.on("elementMouseover.tooltip",(function(t){t.pos=[t.pos[0]+n.left,t.pos[1]+n.top],A.tooltipShow(t)})),f.dispatch.on("elementMouseout.tooltip",(function(t){A.tooltipHide(t)})),h.dispatch.on("elementMouseover.tooltip",(function(t){t.pos=[t.pos[0]+n.left,t.pos[1]+n.top],A.tooltipShow(t)})),h.dispatch.on("elementMouseout.tooltip",(function(t){A.tooltipHide(t)})),g.dispatch.on("elementMouseover.tooltip",(function(t){t.pos=[t.pos[0]+n.left,t.pos[1]+n.top],A.tooltipShow(t)})),g.dispatch.on("elementMouseout.tooltip",(function(t){A.tooltipHide(t)})),v.dispatch.on("elementMouseover.tooltip",(function(t){t.pos=[t.pos[0]+n.left,t.pos[1]+n.top],A.tooltipShow(t)})),v.dispatch.on("elementMouseout.tooltip",(function(t){A.tooltipHide(t)})),m.dispatch.on("tooltipShow",(function(t){if(!Math.round(100*m.y()(t.point)))return setTimeout((function(){d3.selectAll(".point.hover").classed("hover",!1)}),0),!1;t.pos=[t.pos[0]+n.left,t.pos[1]+n.top],A.tooltipShow(t)})),m.dispatch.on("tooltipHide",(function(t){A.tooltipHide(t)})),x.dispatch.on("tooltipShow",(function(t){if(!Math.round(100*x.y()(t.point)))return setTimeout((function(){d3.selectAll(".point.hover").classed("hover",!1)}),0),!1;t.pos=[t.pos[0]+n.left,t.pos[1]+n.top],A.tooltipShow(t)})),x.dispatch.on("tooltipHide",(function(t){A.tooltipHide(t)})),f.dispatch.on("elementMouseover.tooltip",(function(t){t.pos=[t.pos[0]+n.left,t.pos[1]+n.top],A.tooltipShow(t)})),f.dispatch.on("elementMouseout.tooltip",(function(t){A.tooltipHide(t)})),h.dispatch.on("elementMouseover.tooltip",(function(t){t.pos=[t.pos[0]+n.left,t.pos[1]+n.top],A.tooltipShow(t)})),h.dispatch.on("elementMouseout.tooltip",(function(t){A.tooltipHide(t)})),A.on("tooltipHide",(function(){s&&r.tooltip.cleanup()})),S.dispatch=A,S.lines1=f,S.lines2=h,S.bars1=g,S.bars2=v,S.stack1=m,S.stack2=x,S.xAxis=y,S.yAxis1=b,S.yAxis2=k,S.options=r.utils.optionsFunc.bind(S),S.x=function(t){return arguments.length?(getX=t,f.x(t),g.x(t),S):getX},S.y=function(t){return arguments.length?(getY=t,f.y(t),g.y(t),S):getY},S.yDomain1=function(e){return arguments.length?(t=e,S):t},S.yDomain2=function(t){return arguments.length?(e=t,S):e},S.margin=function(t){return arguments.length?(n=t,S):n},S.width=function(t){return arguments.length?(a=t,S):a},S.height=function(t){return arguments.length?(i=t,S):i},S.color=function(t){return arguments.length?(o=t,w.color(t),S):o},S.showLegend=function(t){return arguments.length?(l=t,S):l},S.tooltips=function(t){return arguments.length?(s=t,S):s},S.tooltipContent=function(t){return arguments.length?(c=t,S):c},S},r.models.ohlcBar=function(){"use strict";var t,e,n,o,a={top:0,right:0,bottom:0,left:0},i=960,l=500,s=Math.floor(1e4*Math.random()),c=d3.scale.linear(),u=d3.scale.linear(),d=function(t){return t.x},p=function(t){return t.y},f=function(t){return t.open},h=function(t){return t.close},g=function(t){return t.high},v=function(t){return t.low},m=[],x=[],y=!1,b=!0,k=r.utils.defaultColor(),w=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");function A(r){return r.each((function(r){var k=i-a.left-a.right,A=l-a.top-a.bottom,C=d3.select(this);c.domain(t||d3.extent(r[0].values.map(d).concat(m))),y?c.range(n||[.5*k/r[0].values.length,k*(r[0].values.length-.5)/r[0].values.length]):c.range(n||[0,k]),u.domain(e||[d3.min(r[0].values.map(v).concat(x)),d3.max(r[0].values.map(g).concat(x))]).range(o||[A,0]),c.domain()[0]!==c.domain()[1]&&u.domain()[0]!==u.domain()[1]||(singlePoint=!0),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]+.01*u.domain()[0],u.domain()[1]-.01*u.domain()[1]]):u.domain([-1,1]));var S=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([r[0].values]),M=S.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),D=M.append("defs"),I=M.append("g"),W=S.select("g");I.append("g").attr("class","nv-ticks"),S.attr("transform","translate("+a.left+","+a.top+")"),C.on("click",(function(t,e){w.chartClick({data:t,index:e,pos:d3.event,id:s})})),D.append("clipPath").attr("id","nv-chart-clip-path-"+s).append("rect"),S.select("#nv-chart-clip-path-"+s+" rect").attr("width",k).attr("height",A),W.attr("clip-path",b?"url(#nv-chart-clip-path-"+s+")":"");var F=S.select(".nv-ticks").selectAll(".nv-tick").data((function(t){return t}));F.exit().remove(),F.enter().append("path").attr("class",(function(t,e,n){return(f(t,e)>h(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e})).attr("d",(function(t,e){var n=k/r[0].values.length*.9;return"m0,0l0,"+(u(f(t,e))-u(g(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(u(v(t,e))-u(f(t,e)))+"l0,"+(u(h(t,e))-u(v(t,e)))+"l"+n/2+",0l"+-n/2+",0z"})).attr("transform",(function(t,e){return"translate("+c(d(t,e))+","+u(g(t,e))+")"})).on("mouseover",(function(t,e){d3.select(this).classed("hover",!0),w.elementMouseover({point:t,series:r[0],pos:[c(d(t,e)),u(p(t,e))],pointIndex:e,seriesIndex:0,e:d3.event})})).on("mouseout",(function(t,e){d3.select(this).classed("hover",!1),w.elementMouseout({point:t,series:r[0],pointIndex:e,seriesIndex:0,e:d3.event})})).on("click",(function(t,e){w.elementClick({value:p(t,e),data:t,index:e,pos:[c(d(t,e)),u(p(t,e))],e:d3.event,id:s}),d3.event.stopPropagation()})).on("dblclick",(function(t,e){w.elementDblClick({value:p(t,e),data:t,index:e,pos:[c(d(t,e)),u(p(t,e))],e:d3.event,id:s}),d3.event.stopPropagation()})),F.attr("class",(function(t,e,n){return(f(t,e)>h(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e})),d3.transition(F).attr("transform",(function(t,e){return"translate("+c(d(t,e))+","+u(g(t,e))+")"})).attr("d",(function(t,e){var n=k/r[0].values.length*.9;return"m0,0l0,"+(u(f(t,e))-u(g(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(u(v(t,e))-u(f(t,e)))+"l0,"+(u(h(t,e))-u(v(t,e)))+"l"+n/2+",0l"+-n/2+",0z"}))})),A}return A.dispatch=w,A.options=r.utils.optionsFunc.bind(A),A.x=function(t){return arguments.length?(d=t,A):d},A.y=function(t){return arguments.length?(p=t,A):p},A.open=function(t){return arguments.length?(f=t,A):f},A.close=function(t){return arguments.length?(h=t,A):h},A.high=function(t){return arguments.length?(g=t,A):g},A.low=function(t){return arguments.length?(v=t,A):v},A.margin=function(t){return arguments.length?(a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left,A):a},A.width=function(t){return arguments.length?(i=t,A):i},A.height=function(t){return arguments.length?(l=t,A):l},A.xScale=function(t){return arguments.length?(c=t,A):c},A.yScale=function(t){return arguments.length?(u=t,A):u},A.xDomain=function(e){return arguments.length?(t=e,A):t},A.yDomain=function(t){return arguments.length?(e=t,A):e},A.xRange=function(t){return arguments.length?(n=t,A):n},A.yRange=function(t){return arguments.length?(o=t,A):o},A.forceX=function(t){return arguments.length?(m=t,A):m},A.forceY=function(t){return arguments.length?(x=t,A):x},A.padData=function(t){return arguments.length?(y=t,A):y},A.clipEdge=function(t){return arguments.length?(b=t,A):b},A.color=function(t){return arguments.length?(k=r.utils.getColor(t),A):k},A.id=function(t){return arguments.length?(s=t,A):s},A},r.models.pie=function(){"use strict";var t={top:0,right:0,bottom:0,left:0},e=500,n=500,o=function(t){return t.x},a=function(t){return t.y},i=function(t){return t.description},l=Math.floor(1e4*Math.random()),s=r.utils.defaultColor(),c=d3.format(",.2f"),u=!0,d=!0,p=!1,f="key",h=.02,g=!1,v=!1,m=!1,x=!1,y=.5,b=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");function k(r){return r.each((function(r){var i=e-t.left-t.right,c=n-t.top-t.bottom,k=Math.min(i,c)/2,w=k-k/5,A=d3.select(this),C=A.selectAll(".nv-wrap.nv-pie").data(r),S=C.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+l).append("g"),M=C.select("g");S.append("g").attr("class","nv-pie"),C.attr("transform","translate("+t.left+","+t.top+")"),M.select(".nv-pie").attr("transform","translate("+i/2+","+c/2+")"),A.on("click",(function(t,e){b.chartClick({data:t,index:e,pos:d3.event,id:l})}));var D=d3.svg.arc().outerRadius(w);m&&D.startAngle(m),x&&D.endAngle(x),g&&D.innerRadius(k*y);var I=d3.layout.pie().sort(null).value((function(t){return t.disabled?0:a(t)})),W=C.select(".nv-pie").selectAll(".nv-slice").data(I);W.exit().remove();var F=W.enter().append("g").attr("class","nv-slice").on("mouseover",(function(t,e){d3.select(this).classed("hover",!0),b.elementMouseover({label:o(t.data),value:a(t.data),point:t.data,pointIndex:e,pos:[d3.event.pageX,d3.event.pageY],id:l})})).on("mouseout",(function(t,e){d3.select(this).classed("hover",!1),b.elementMouseout({label:o(t.data),value:a(t.data),point:t.data,index:e,id:l})})).on("click",(function(t,e){b.elementClick({label:o(t.data),value:a(t.data),point:t.data,index:e,pos:d3.event,id:l}),d3.event.stopPropagation()})).on("dblclick",(function(t,e){b.elementDblClick({label:o(t.data),value:a(t.data),point:t.data,index:e,pos:d3.event,id:l}),d3.event.stopPropagation()}));if(W.attr("fill",(function(t,e){return s(t,e)})).attr("stroke",(function(t,e){return s(t,e)})),F.append("path").each((function(t){this._current=t})),d3.transition(W.select("path")).attr("d",D).attrTween("d",(function(t){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,g||(t.innerRadius=0);var e=d3.interpolate(this._current,t);return this._current=e(0),function(t){return D(e(t))}})),u){var L=d3.svg.arc().innerRadius(0);d&&(L=D),p&&(L=d3.svg.arc().outerRadius(D.outerRadius())),F.append("g").classed("nv-label",!0).each((function(t,e){var n=d3.select(this);n.attr("transform",(function(t){if(v){t.outerRadius=w+10,t.innerRadius=w+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+L.centroid(t)+") rotate("+e+")"}return t.outerRadius=k+10,t.innerRadius=k+15,"translate("+L.centroid(t)+")"})),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",v?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")})),W.select(".nv-label").transition().attr("transform",(function(t){if(v){t.outerRadius=w+10,t.innerRadius=w+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+L.centroid(t)+") rotate("+e+")"}return t.outerRadius=k+10,t.innerRadius=k+15,"translate("+L.centroid(t)+")"})),W.each((function(t,e){var n=d3.select(this);n.select(".nv-label text").style("text-anchor",v?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").text((function(t,e){var n=(t.endAngle-t.startAngle)/(2*Math.PI),r={key:o(t.data),value:a(t.data),percent:d3.format("%")(n)};return t.value&&n>h?r[f]:""}));var r=n.select("text").node().getBBox();n.select(".nv-label rect").attr("width",r.width+10).attr("height",r.height+10).attr("transform",(function(){return"translate("+[r.x-5,r.y-5]+")"}))}))}})),k}return k.dispatch=b,k.options=r.utils.optionsFunc.bind(k),k.margin=function(e){return arguments.length?(t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left,k):t},k.width=function(t){return arguments.length?(e=t,k):e},k.height=function(t){return arguments.length?(n=t,k):n},k.values=function(t){return r.log("pie.values() is no longer supported."),k},k.x=function(t){return arguments.length?(o=t,k):o},k.y=function(t){return arguments.length?(a=d3.functor(t),k):a},k.description=function(t){return arguments.length?(i=t,k):i},k.showLabels=function(t){return arguments.length?(u=t,k):u},k.labelSunbeamLayout=function(t){return arguments.length?(v=t,k):v},k.donutLabelsOutside=function(t){return arguments.length?(p=t,k):p},k.pieLabelsOutside=function(t){return arguments.length?(d=t,k):d},k.labelType=function(t){return arguments.length?(f=(f=t)||"key",k):f},k.donut=function(t){return arguments.length?(g=t,k):g},k.donutRatio=function(t){return arguments.length?(y=t,k):y},k.startAngle=function(t){return arguments.length?(m=t,k):m},k.endAngle=function(t){return arguments.length?(x=t,k):x},k.id=function(t){return arguments.length?(l=t,k):l},k.color=function(t){return arguments.length?(s=r.utils.getColor(t),k):s},k.valueFormat=function(t){return arguments.length?(c=t,k):c},k.labelThreshold=function(t){return arguments.length?(h=t,k):h},k},r.models.pieChart=function(){"use strict";var t=r.models.pie(),e=r.models.legend(),n={top:30,right:20,bottom:20,left:20},o=null,a=null,i=!0,l=r.utils.defaultColor(),s=!0,c=function(t,e,n,r){return'<span style="color:#004a7c;">'+t+"</span><p>"+parseInt(e)+"</p>"},u={},d=null,p="No Data Available.",f=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");function h(r){return r.each((function(r){var l,s=d3.select(this),c=(o||parseInt(s.style("width"))||960)-n.left-n.right,g=(a||parseInt(s.style("height"))||400)-n.top-n.bottom;if(h.update=function(){s.transition().call(h)},h.container=this,u.disabled=r.map((function(t){return!!t.disabled})),!d)for(l in d={},u)u[l]instanceof Array?d[l]=u[l].slice(0):d[l]=u[l];if(!r||!r.length){var v=s.selectAll(".nv-noData").data([p]);return v.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),v.attr("x",n.left+c/2).attr("y",n.top+g/2).text((function(t){return t})),h}s.selectAll(".nv-noData").remove();var m=s.selectAll("g.nv-wrap.nv-pieChart").data([r]),x=m.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),y=m.select("g");x.append("g").attr("class","nv-pieWrap"),x.append("g").attr("class","nv-legendWrap"),i&&(e.width(c).key(t.x()),m.select(".nv-legendWrap").datum(r).call(e),n.top!=e.height()&&(n.top=e.height(),g=(a||parseInt(s.style("height"))||400)-n.top-n.bottom),m.select(".nv-legendWrap").attr("transform","translate(0,"+-n.top+")")),m.attr("transform","translate("+n.left+","+n.top+")"),t.width(c).height(g);var b=y.select(".nv-pieWrap").datum([r]);d3.transition(b).call(t),e.dispatch.on("stateChange",(function(t){u=t,f.stateChange(u),h.update()})),t.dispatch.on("elementMouseout.tooltip",(function(t){f.tooltipHide(t)})),f.on("changeState",(function(t){void 0!==t.disabled&&(r.forEach((function(e,n){e.disabled=t.disabled[n]})),u.disabled=t.disabled),h.update()}))})),h}return t.dispatch.on("elementMouseover.tooltip",(function(t){t.pos=[t.pos[0]+n.left,t.pos[1]+n.top],f.tooltipShow(t)})),f.on("tooltipShow",(function(e){s&&function(e,n){var o=t.description()(e.point)||t.x()(e.point),a=e.pos[0]+(n&&n.offsetLeft||0),i=e.pos[1]+(n&&n.offsetTop||0),l=t.valueFormat()(t.y()(e.point)),s=c(o,l,e,h);r.tooltip.show([a,i],s,e.value<0?"n":"s",null,n)}(e)})),f.on("tooltipHide",(function(){s&&r.tooltip.cleanup()})),h.legend=e,h.dispatch=f,h.pie=t,d3.rebind(h,t,"valueFormat","values","x","y","description","id","showLabels","donutLabelsOutside","pieLabelsOutside","labelType","donut","donutRatio","labelThreshold"),h.options=r.utils.optionsFunc.bind(h),h.margin=function(t){return arguments.length?(n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left,h):n},h.width=function(t){return arguments.length?(o=t,h):o},h.height=function(t){return arguments.length?(a=t,h):a},h.color=function(n){return arguments.length?(l=r.utils.getColor(n),e.color(l),t.color(l),h):l},h.showLegend=function(t){return arguments.length?(i=t,h):i},h.tooltips=function(t){return arguments.length?(s=t,h):s},h.tooltipContent=function(t){return arguments.length?(c=t,h):c},h.state=function(t){return arguments.length?(u=t,h):u},h.defaultState=function(t){return arguments.length?(d=t,h):d},h.noData=function(t){return arguments.length?(p=t,h):p},h},r.models.scatter=function(){"use strict";var t,e,n,o,a={top:0,right:0,bottom:0,left:0},i=960,l=500,s=r.utils.defaultColor(),c=Math.floor(1e5*Math.random()),u=d3.scale.linear(),d=d3.scale.linear(),p=d3.scale.linear(),f=function(t){return t.x},h=function(t){return t.y},g=function(t){return t.size||1},v=function(t){return t.shape||"circle"},m=!0,x=[],y=[],b=[],k=!0,w=null,A=function(t){return!t.notActive},C=!1,S=.1,M=!1,D=!0,I=function(){return 25},W=null,F=null,L=null,z=null,N=null,B=null,P=!1,H=d3.dispatch("elementClick","elementMouseover","elementMouseout"),T=!0,R=!1;function Y(E){return E.each((function(Y){var E=i-a.left-a.right,V=l-a.top-a.bottom,X=d3.select(this);Y=Y.map((function(t,e){return t.values=t.values.map((function(t){return t.series=e,t})),t}));var _=W&&F&&N?[]:d3.merge(Y.map((function(t){return t.values.map((function(t,e){return{x:f(t,e),y:h(t,e),size:g(t,e)}}))})));u.domain(W||d3.extent(_.map((function(t){return t.x})).concat(x))),C&&Y[0]?u.range(L||[(E*S+E)/(2*Y[0].values.length),E-E*(1+S)/(2*Y[0].values.length)]):u.range(L||[0,E]),d.domain(F||d3.extent(_.map((function(t){return t.y})).concat(y))).range(z||[V,0]),p.domain(N||d3.extent(_.map((function(t){return t.size})).concat(b))).range(B||[16,256]),u.domain()[0]!==u.domain()[1]&&d.domain()[0]!==d.domain()[1]||(P=!0),u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]-.01*u.domain()[0],u.domain()[1]+.01*u.domain()[1]]):u.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),isNaN(u.domain()[0])&&u.domain([-1,1]),isNaN(d.domain()[0])&&d.domain([-1,1]),t=t||u,e=e||d,n=n||p;var Z=X.selectAll("g.nv-wrap.nv-scatter").data([Y]),G=Z.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+c+(P?" nv-single-point":"")),O=G.append("defs"),U=G.append("g"),K=Z.select("g");U.append("g").attr("class","nv-groups"),U.append("g").attr("class","nv-point-paths"),Z.attr("transform","translate("+a.left+","+a.top+")"),O.append("clipPath").attr("id","nv-edge-clip-"+c).append("rect"),Z.select("#nv-edge-clip-"+c+" rect").attr("width",E).attr("height",V),K.attr("clip-path",M?"url(#nv-edge-clip-"+c+")":""),R=!0;var j,$=Z.select(".nv-groups").selectAll(".nv-group").data((function(t){return t}),(function(t){return t.key}));$.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),$.exit().remove(),$.attr("class",(function(t,e){return"nv-group nv-series-"+e})).classed("hover",(function(t){return t.hover})),$.transition().style("fill",(function(t,e){return s(t,e)})).style("stroke",(function(t,e){return s(t,e)})).style("stroke-opacity",1).style("fill-opacity",.5),m?((j=$.selectAll("circle.nv-point").data((function(t){return t.values}),w)).enter().append("circle").style("fill",(function(t,e){return t.color})).style("stroke",(function(t,e){return t.color})).attr("cx",(function(e,n){return r.utils.NaNtoZero(t(f(e,n)))})).attr("cy",(function(t,n){return r.utils.NaNtoZero(e(h(t,n)))})).attr("r",(function(t,e){return Math.sqrt(p(g(t,e))/Math.PI)})),j.exit().remove(),$.exit().selectAll("path.nv-point").transition().attr("cx",(function(t,e){return r.utils.NaNtoZero(u(f(t,e)))})).attr("cy",(function(t,e){return r.utils.NaNtoZero(d(h(t,e)))})).remove(),j.each((function(t,e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e,!0).classed("hover",!1)})),j.transition().attr("cx",(function(t,e){return r.utils.NaNtoZero(u(f(t,e)))})).attr("cy",(function(t,e){return r.utils.NaNtoZero(d(h(t,e)))})).attr("r",(function(t,e){return Math.sqrt(p(g(t,e))/Math.PI)}))):((j=$.selectAll("path.nv-point").data((function(t){return t.values}))).enter().append("path").style("fill",(function(t,e){return t.color})).style("stroke",(function(t,e){return t.color})).attr("transform",(function(n,r){return"translate("+t(f(n,r))+","+e(h(n,r))+")"})).attr("d",d3.svg.symbol().type(v).size((function(t,e){return p(g(t,e))}))),j.exit().remove(),$.exit().selectAll("path.nv-point").transition().attr("transform",(function(t,e){return"translate("+u(f(t,e))+","+d(h(t,e))+")"})).remove(),j.each((function(t,e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e,!0).classed("hover",!1)})),j.transition().attr("transform",(function(t,e){return"translate("+u(f(t,e))+","+d(h(t,e))+")"})).attr("d",d3.svg.symbol().type(v).size((function(t,e){return p(g(t,e))})))),clearTimeout(o),o=setTimeout((function(){if(!k)return!1;var t=d3.merge(Y.map((function(t,e){return t.values.map((function(t,n){var r=f(t,n),o=h(t,n);return[u(r)+1e-7*Math.random(),d(o)+1e-7*Math.random(),e,n,t]})).filter((function(t,e){return A(t[4],e)}))})));if(!0===T){if(D){Z.select("defs").selectAll(".nv-point-clips").data([c]).enter().append("clipPath").attr("class","nv-point-clips").attr("id","nv-points-clip-"+c);var e=Z.select("#nv-points-clip-"+c).selectAll("circle").data(t);e.enter().append("circle").attr("r",I),e.exit().remove(),e.attr("cx",(function(t){return t[0]})).attr("cy",(function(t){return t[1]})),Z.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+c+")")}t.length&&(t.push([u.range()[0]-20,d.range()[0]-20,null,null]),t.push([u.range()[1]+20,d.range()[1]+20,null,null]),t.push([u.range()[0]-20,d.range()[0]+20,null,null]),t.push([u.range()[1]+20,d.range()[1]-20,null,null]));var n=d3.geom.polygon([[-10,-10],[-10,l+10],[i+10,l+10],[i+10,-10]]),r=d3.geom.voronoi(t).map((function(e,r){return{data:n.clip(e),series:t[r][2],point:t[r][3]}})),o=Z.select(".nv-point-paths").selectAll("path").data(r);o.enter().append("path").attr("class",(function(t,e){return"nv-path-"+e})),o.exit().remove(),o.attr("d",(function(t){return 0===t.data.length?"M 0 0":"M"+t.data.join("L")+"Z"}));var s=function(t,e){if(R)return 0;var n=Y[t.series];if(void 0!==n){var r=n.values[t.point];e({point:r,series:n,pos:[u(f(r,t.point))+a.left,d(h(r,t.point))+a.top],seriesIndex:t.series,pointIndex:t.point})}};o.on("click",(function(t){s(t,H.elementClick)})).on("mouseover",(function(t){s(t,H.elementMouseover)})).on("mouseout",(function(t,e){s(t,H.elementMouseout)}))}else Z.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",(function(t,e){if(R||!Y[t.series])return 0;var n=Y[t.series],r=n.values[e];H.elementClick({point:r,series:n,pos:[u(f(r,e))+a.left,d(h(r,e))+a.top],seriesIndex:t.series,pointIndex:e})})).on("mouseover",(function(t,e){if(R||!Y[t.series])return 0;var n=Y[t.series],r=n.values[e];H.elementMouseover({point:r,series:n,pos:[u(f(r,e))+a.left,d(h(r,e))+a.top],seriesIndex:t.series,pointIndex:e})})).on("mouseout",(function(t,e){if(R||!Y[t.series])return 0;var n=Y[t.series],r=n.values[e];H.elementMouseout({point:r,series:n,seriesIndex:t.series,pointIndex:e})}));R=!1}),300),t=u.copy(),e=d.copy(),n=p.copy()})),Y}return Y.clearHighlights=function(){d3.selectAll(".nv-chart-"+c+" .nv-point.hover").classed("hover",!1)},Y.highlightPoint=function(t,e,n){d3.select(".nv-chart-"+c+" .nv-series-"+t+" .nv-point-"+e).classed("hover",n)},H.on("elementMouseover.point",(function(t){k&&Y.highlightPoint(t.seriesIndex,t.pointIndex,!0)})),H.on("elementMouseout.point",(function(t){k&&Y.highlightPoint(t.seriesIndex,t.pointIndex,!1)})),Y.dispatch=H,Y.options=r.utils.optionsFunc.bind(Y),Y.x=function(t){return arguments.length?(f=d3.functor(t),Y):f},Y.y=function(t){return arguments.length?(h=d3.functor(t),Y):h},Y.size=function(t){return arguments.length?(g=d3.functor(t),Y):g},Y.margin=function(t){return arguments.length?(a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left,Y):a},Y.width=function(t){return arguments.length?(i=t,Y):i},Y.height=function(t){return arguments.length?(l=t,Y):l},Y.xScale=function(t){return arguments.length?(u=t,Y):u},Y.yScale=function(t){return arguments.length?(d=t,Y):d},Y.zScale=function(t){return arguments.length?(p=t,Y):p},Y.xDomain=function(t){return arguments.length?(W=t,Y):W},Y.yDomain=function(t){return arguments.length?(F=t,Y):F},Y.sizeDomain=function(t){return arguments.length?(N=t,Y):N},Y.xRange=function(t){return arguments.length?(L=t,Y):L},Y.yRange=function(t){return arguments.length?(z=t,Y):z},Y.sizeRange=function(t){return arguments.length?(B=t,Y):B},Y.forceX=function(t){return arguments.length?(x=t,Y):x},Y.forceY=function(t){return arguments.length?(y=t,Y):y},Y.forceSize=function(t){return arguments.length?(b=t,Y):b},Y.interactive=function(t){return arguments.length?(k=t,Y):k},Y.pointKey=function(t){return arguments.length?(w=t,Y):w},Y.pointActive=function(t){return arguments.length?(A=t,Y):A},Y.padData=function(t){return arguments.length?(C=t,Y):C},Y.padDataOuter=function(t){return arguments.length?(S=t,Y):S},Y.clipEdge=function(t){return arguments.length?(M=t,Y):M},Y.clipVoronoi=function(t){return arguments.length?(D=t,Y):D},Y.useVoronoi=function(t){return arguments.length?(!1===(T=t)&&(D=!1),Y):T},Y.clipRadius=function(t){return arguments.length?(I=t,Y):I},Y.color=function(t){return arguments.length?(s=r.utils.getColor(t),Y):s},Y.shape=function(t){return arguments.length?(v=t,Y):v},Y.onlyCircles=function(t){return arguments.length?(m=t,Y):m},Y.id=function(t){return arguments.length?(c=t,Y):c},Y.singlePoint=function(t){return arguments.length?(P=t,Y):P},Y},r.models.scatterChart=function(){"use strict";var t,e,n=r.models.scatter(),o=r.models.axis(),a=r.models.axis(),i=r.models.legend(),l=r.models.legend(),s=r.models.distribution(),c=r.models.distribution(),u={top:30,right:20,bottom:50,left:75},d=null,p=null,f=r.utils.defaultColor(),h=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):n.xScale(),g=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):n.yScale(),v=0,m=0,x=!1,y=!1,b=!0,k=!0,w=!0,A=!1,C=!!d3.fisheye,S=0,M=!1,D=!0,I=function(t,e,n){return"<strong>"+e+"</strong>"},W=function(t,e,n){return"<strong>"+n+"</strong>"},F=null,L={},z=null,N=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),B="No Data Available.",P=250;n.xScale(h).yScale(g),o.orient("bottom").tickPadding(10),a.orient(A?"right":"left").tickPadding(10),s.axis("x"),c.axis("y"),l.updateState(!1);var H=function(t,e){var i=t.pos[0]+(e.offsetLeft||0),l=t.pos[1]+(e.offsetTop||0),s=t.pos[0]+(e.offsetLeft||0),c=g.range()[0]+u.top+(e.offsetTop||0),d=h.range()[0]+u.left+(e.offsetLeft||0),p=t.pos[1]+(e.offsetTop||0),f=o.tickFormat()(n.x()(t.point,t.pointIndex)),v=a.tickFormat()(n.y()(t.point,t.pointIndex));null!=I&&r.tooltip.show([s,c],I(t.series.key,f,v,t,R),"n",1,e,"x-nvtooltip"),null!=W&&r.tooltip.show([d,p],W(t.series.key,f,v,t,R),"e",1,e,"y-nvtooltip"),null!=F&&r.tooltip.show([i,l],F(t.series.key,f,v,t,R),t.value<0?"n":"s",null,e)},T=[{key:"Magnify",disabled:!0}];function R(r){return r.each((function(r){var I,W=d3.select(this),F=this,Y=(d||parseInt(W.style("width"))||960)-u.left-u.right,E=(p||parseInt(W.style("height"))||400)-u.top-u.bottom;if(R.update=function(){W.transition().duration(P).call(R)},R.container=this,L.disabled=r.map((function(t){return!!t.disabled})),!z)for(I in z={},L)L[I]instanceof Array?z[I]=L[I].slice(0):z[I]=L[I];if(!(r&&r.length&&r.filter((function(t){return t.values.length})).length)){var V=W.selectAll(".nv-noData").data([B]);return V.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),V.attr("x",u.left+Y/2).attr("y",u.top+E/2).text((function(t){return t})),R}W.selectAll(".nv-noData").remove(),t=t||h,e=e||g;var X=W.selectAll("g.nv-wrap.nv-scatterChart").data([r]),_=X.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+n.id()).append("g"),Z=X.select("g");if(_.append("rect").attr("class","nvd3 nv-background"),_.append("g").attr("class","nv-x nv-axis"),_.append("g").attr("class","nv-y nv-axis"),_.append("g").attr("class","nv-scatterWrap"),_.append("g").attr("class","nv-distWrap"),_.append("g").attr("class","nv-legendWrap"),_.append("g").attr("class","nv-controlsWrap"),b){var G=C?Y/2:Y;i.width(G),X.select(".nv-legendWrap").datum(r).call(i),u.top!=i.height()&&(u.top=i.height(),E=(p||parseInt(W.style("height"))||400)-u.top-u.bottom),X.select(".nv-legendWrap").attr("transform","translate("+(Y-G)+","+-u.top+")")}if(C&&(l.width(180).color(["#444"]),Z.select(".nv-controlsWrap").datum(T).attr("transform","translate(0,"+-u.top+")").call(l)),X.attr("transform","translate("+u.left+","+u.top+")"),A&&Z.select(".nv-y.nv-axis").attr("transform","translate("+Y+",0)"),n.width(Y).height(E).color(r.map((function(t,e){return t.color||f(t,e)})).filter((function(t,e){return!r[e].disabled}))),0!==v&&n.xDomain(null),0!==m&&n.yDomain(null),X.select(".nv-scatterWrap").datum(r.filter((function(t){return!t.disabled}))).call(n),0!==v){var O=h.domain()[1]-h.domain()[0];n.xDomain([h.domain()[0]-v*O,h.domain()[1]+v*O])}if(0!==m){var U=g.domain()[1]-g.domain()[0];n.yDomain([g.domain()[0]-m*U,g.domain()[1]+m*U])}0===m&&0===v||X.select(".nv-scatterWrap").datum(r.filter((function(t){return!t.disabled}))).call(n),k&&(o.scale(h).ticks(o.ticks()&&o.ticks().length?o.ticks():Y/100).tickSize(-E,0),Z.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")").call(o)),w&&(a.scale(g).ticks(a.ticks()&&a.ticks().length?a.ticks():E/36).tickSize(-Y,0),Z.select(".nv-y.nv-axis").call(a)),x&&(s.getData(n.x()).scale(h).width(Y).color(r.map((function(t,e){return t.color||f(t,e)})).filter((function(t,e){return!r[e].disabled}))),_.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),Z.select(".nv-distributionX").attr("transform","translate(0,"+g.range()[0]+")").datum(r.filter((function(t){return!t.disabled}))).call(s)),y&&(c.getData(n.y()).scale(g).width(E).color(r.map((function(t,e){return t.color||f(t,e)})).filter((function(t,e){return!r[e].disabled}))),_.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),Z.select(".nv-distributionY").attr("transform","translate("+(A?Y:-c.size())+",0)").datum(r.filter((function(t){return!t.disabled}))).call(c)),d3.fisheye&&(Z.select(".nv-background").attr("width",Y).attr("height",E),Z.select(".nv-background").on("mousemove",(function(){if(M)return Z.select(".nv-point-paths").style("pointer-events","all"),!1;Z.select(".nv-point-paths").style("pointer-events","none");var t=d3.mouse(this);h.distortion(S).focus(t[0]),g.distortion(S).focus(t[1]),Z.select(".nv-scatterWrap").call(n),k&&Z.select(".nv-x.nv-axis").call(o),w&&Z.select(".nv-y.nv-axis").call(a),Z.select(".nv-distributionX").datum(r.filter((function(t){return!t.disabled}))).call(s),Z.select(".nv-distributionY").datum(r.filter((function(t){return!t.disabled}))).call(c)})),Z.select(".nv-background").on("click",(function(){M=!M})),n.dispatch.on("elementClick.freezeFisheye",(function(){M=!M}))),l.dispatch.on("legendClick",(function(t,e){t.disabled=!t.disabled,S=t.disabled?0:2.5,Z.select(".nv-background").style("pointer-events",t.disabled?"none":"all"),Z.select(".nv-point-paths").style("pointer-events",t.disabled?"all":"none"),t.disabled?(h.distortion(S).focus(0),g.distortion(S).focus(0),Z.select(".nv-scatterWrap").call(n),Z.select(".nv-x.nv-axis").call(o),Z.select(".nv-y.nv-axis").call(a)):M=!1,R.update()})),i.dispatch.on("stateChange",(function(t){L.disabled=t.disabled,N.stateChange(L),R.update()})),n.dispatch.on("elementMouseover.tooltip",(function(t){d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",(function(e,n){return t.pos[1]-E})),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.pos[0]+s.size()),t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],N.tooltipShow(t)})),N.on("tooltipShow",(function(t){D&&H(t,F.parentNode)})),N.on("changeState",(function(t){void 0!==t.disabled&&(r.forEach((function(e,n){e.disabled=t.disabled[n]})),L.disabled=t.disabled),R.update()})),t=h.copy(),e=g.copy()})),R}return n.dispatch.on("elementMouseout.tooltip",(function(t){N.tooltipHide(t),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",c.size())})),N.on("tooltipHide",(function(){D&&r.tooltip.cleanup()})),R.dispatch=N,R.scatter=n,R.legend=i,R.controls=l,R.xAxis=o,R.yAxis=a,R.distX=s,R.distY=c,d3.rebind(R,n,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi"),R.options=r.utils.optionsFunc.bind(R),R.margin=function(t){return arguments.length?(u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left,R):u},R.width=function(t){return arguments.length?(d=t,R):d},R.height=function(t){return arguments.length?(p=t,R):p},R.color=function(t){return arguments.length?(f=r.utils.getColor(t),i.color(f),s.color(f),c.color(f),R):f},R.showDistX=function(t){return arguments.length?(x=t,R):x},R.showDistY=function(t){return arguments.length?(y=t,R):y},R.showControls=function(t){return arguments.length?(C=t,R):C},R.showLegend=function(t){return arguments.length?(b=t,R):b},R.showXAxis=function(t){return arguments.length?(k=t,R):k},R.showYAxis=function(t){return arguments.length?(w=t,R):w},R.rightAlignYAxis=function(t){return arguments.length?(A=t,a.orient(t?"right":"left"),R):A},R.fisheye=function(t){return arguments.length?(S=t,R):S},R.xPadding=function(t){return arguments.length?(v=t,R):v},R.yPadding=function(t){return arguments.length?(m=t,R):m},R.tooltips=function(t){return arguments.length?(D=t,R):D},R.tooltipContent=function(t){return arguments.length?(F=t,R):F},R.tooltipXContent=function(t){return arguments.length?(I=t,R):I},R.tooltipYContent=function(t){return arguments.length?(W=t,R):W},R.state=function(t){return arguments.length?(L=t,R):L},R.defaultState=function(t){return arguments.length?(z=t,R):z},R.noData=function(t){return arguments.length?(B=t,R):B},R.transitionDuration=function(t){return arguments.length?(P=t,R):P},R},r.models.scatterPlusLineChart=function(){"use strict";var t,e,n=r.models.scatter(),o=r.models.axis(),a=r.models.axis(),i=r.models.legend(),l=r.models.legend(),s=r.models.distribution(),c=r.models.distribution(),u={top:30,right:20,bottom:50,left:75},d=null,p=null,f=r.utils.defaultColor(),h=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):n.xScale(),g=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):n.yScale(),v=!1,m=!1,x=!0,y=!0,b=!0,k=!1,w=!!d3.fisheye,A=0,C=!1,S=!0,M=function(t,e,n){return"<strong>"+e+"</strong>"},D=function(t,e,n){return"<strong>"+n+"</strong>"},I=function(t,e,n,r){return"<h3>"+t+"</h3><p>"+r+"</p>"},W={},F=null,L=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),z="No Data Available.",N=250;n.xScale(h).yScale(g),o.orient("bottom").tickPadding(10),a.orient(k?"right":"left").tickPadding(10),s.axis("x"),c.axis("y"),l.updateState(!1);var B=function(t,e){var i=t.pos[0]+(e.offsetLeft||0),l=t.pos[1]+(e.offsetTop||0),s=t.pos[0]+(e.offsetLeft||0),c=g.range()[0]+u.top+(e.offsetTop||0),d=h.range()[0]+u.left+(e.offsetLeft||0),p=t.pos[1]+(e.offsetTop||0),f=o.tickFormat()(n.x()(t.point,t.pointIndex)),v=a.tickFormat()(n.y()(t.point,t.pointIndex));null!=M&&r.tooltip.show([s,c],M(t.series.key,f,v,t,H),"n",1,e,"x-nvtooltip"),null!=D&&r.tooltip.show([d,p],D(t.series.key,f,v,t,H),"e",1,e,"y-nvtooltip"),null!=I&&r.tooltip.show([i,l],I(t.series.key,f,v,t.point.tooltip,t,H),t.value<0?"n":"s",null,e)},P=[{key:"Magnify",disabled:!0}];function H(r){return r.each((function(r){var M,D=d3.select(this),I=this,T=(d||parseInt(D.style("width"))||960)-u.left-u.right,R=(p||parseInt(D.style("height"))||400)-u.top-u.bottom;if(H.update=function(){D.transition().duration(N).call(H)},H.container=this,W.disabled=r.map((function(t){return!!t.disabled})),!F)for(M in F={},W)W[M]instanceof Array?F[M]=W[M].slice(0):F[M]=W[M];if(!(r&&r.length&&r.filter((function(t){return t.values.length})).length)){var Y=D.selectAll(".nv-noData").data([z]);return Y.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),Y.attr("x",u.left+T/2).attr("y",u.top+R/2).text((function(t){return t})),H}D.selectAll(".nv-noData").remove(),h=n.xScale(),g=n.yScale(),t=t||h,e=e||g;var E=D.selectAll("g.nv-wrap.nv-scatterChart").data([r]),V=E.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+n.id()).append("g"),X=E.select("g");V.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),V.append("g").attr("class","nv-x nv-axis"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-scatterWrap"),V.append("g").attr("class","nv-regressionLinesWrap"),V.append("g").attr("class","nv-distWrap"),V.append("g").attr("class","nv-legendWrap"),V.append("g").attr("class","nv-controlsWrap"),E.attr("transform","translate("+u.left+","+u.top+")"),k&&X.select(".nv-y.nv-axis").attr("transform","translate("+T+",0)"),x&&(i.width(T/2),E.select(".nv-legendWrap").datum(r).call(i),u.top!=i.height()&&(u.top=i.height(),R=(p||parseInt(D.style("height"))||400)-u.top-u.bottom),E.select(".nv-legendWrap").attr("transform","translate("+T/2+","+-u.top+")")),w&&(l.width(180).color(["#444"]),X.select(".nv-controlsWrap").datum(P).attr("transform","translate(0,"+-u.top+")").call(l)),n.width(T).height(R).color(r.map((function(t,e){return t.color||f(t,e)})).filter((function(t,e){return!r[e].disabled}))),E.select(".nv-scatterWrap").datum(r.filter((function(t){return!t.disabled}))).call(n),E.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+n.id()+")");var _=E.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data((function(t){return t}));_.enter().append("g").attr("class","nv-regLines");var Z=_.selectAll(".nv-regLine").data((function(t){return[t]}));Z.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),Z.transition().attr("x1",h.range()[0]).attr("x2",h.range()[1]).attr("y1",(function(t,e){return g(h.domain()[0]*t.slope+t.intercept)})).attr("y2",(function(t,e){return g(h.domain()[1]*t.slope+t.intercept)})).style("stroke",(function(t,e,n){return f(t,n)})).style("stroke-opacity",(function(t,e){return t.disabled||void 0===t.slope||void 0===t.intercept?0:1})),y&&(o.scale(h).ticks(o.ticks()?o.ticks():T/100).tickSize(-R,0),X.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")").call(o)),b&&(a.scale(g).ticks(a.ticks()?a.ticks():R/36).tickSize(-T,0),X.select(".nv-y.nv-axis").call(a)),v&&(s.getData(n.x()).scale(h).width(T).color(r.map((function(t,e){return t.color||f(t,e)})).filter((function(t,e){return!r[e].disabled}))),V.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),X.select(".nv-distributionX").attr("transform","translate(0,"+g.range()[0]+")").datum(r.filter((function(t){return!t.disabled}))).call(s)),m&&(c.getData(n.y()).scale(g).width(R).color(r.map((function(t,e){return t.color||f(t,e)})).filter((function(t,e){return!r[e].disabled}))),V.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),X.select(".nv-distributionY").attr("transform","translate("+(k?T:-c.size())+",0)").datum(r.filter((function(t){return!t.disabled}))).call(c)),d3.fisheye&&(X.select(".nv-background").attr("width",T).attr("height",R),X.select(".nv-background").on("mousemove",(function(){if(C)return X.select(".nv-point-paths").style("pointer-events","all"),!1;X.select(".nv-point-paths").style("pointer-events","none");var t=d3.mouse(this);h.distortion(A).focus(t[0]),g.distortion(A).focus(t[1]),X.select(".nv-scatterWrap").datum(r.filter((function(t){return!t.disabled}))).call(n),y&&X.select(".nv-x.nv-axis").call(o),b&&X.select(".nv-y.nv-axis").call(a),X.select(".nv-distributionX").datum(r.filter((function(t){return!t.disabled}))).call(s),X.select(".nv-distributionY").datum(r.filter((function(t){return!t.disabled}))).call(c)})),X.select(".nv-background").on("click",(function(){C=!C})),n.dispatch.on("elementClick.freezeFisheye",(function(){C=!C}))),l.dispatch.on("legendClick",(function(t,e){t.disabled=!t.disabled,A=t.disabled?0:2.5,X.select(".nv-background").style("pointer-events",t.disabled?"none":"all"),X.select(".nv-point-paths").style("pointer-events",t.disabled?"all":"none"),t.disabled?(h.distortion(A).focus(0),g.distortion(A).focus(0),X.select(".nv-scatterWrap").call(n),X.select(".nv-x.nv-axis").call(o),X.select(".nv-y.nv-axis").call(a)):C=!1,H.update()})),i.dispatch.on("stateChange",(function(t){W=t,L.stateChange(W),H.update()})),n.dispatch.on("elementMouseover.tooltip",(function(t){d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.pos[1]-R),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.pos[0]+s.size()),t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],L.tooltipShow(t)})),L.on("tooltipShow",(function(t){S&&B(t,I.parentNode)})),L.on("changeState",(function(t){void 0!==t.disabled&&(r.forEach((function(e,n){e.disabled=t.disabled[n]})),W.disabled=t.disabled),H.update()})),t=h.copy(),e=g.copy()})),H}return n.dispatch.on("elementMouseout.tooltip",(function(t){L.tooltipHide(t),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",c.size())})),L.on("tooltipHide",(function(){S&&r.tooltip.cleanup()})),H.dispatch=L,H.scatter=n,H.legend=i,H.controls=l,H.xAxis=o,H.yAxis=a,H.distX=s,H.distY=c,d3.rebind(H,n,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi"),H.options=r.utils.optionsFunc.bind(H),H.margin=function(t){return arguments.length?(u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left,H):u},H.width=function(t){return arguments.length?(d=t,H):d},H.height=function(t){return arguments.length?(p=t,H):p},H.color=function(t){return arguments.length?(f=r.utils.getColor(t),i.color(f),s.color(f),c.color(f),H):f},H.showDistX=function(t){return arguments.length?(v=t,H):v},H.showDistY=function(t){return arguments.length?(m=t,H):m},H.showControls=function(t){return arguments.length?(w=t,H):w},H.showLegend=function(t){return arguments.length?(x=t,H):x},H.showXAxis=function(t){return arguments.length?(y=t,H):y},H.showYAxis=function(t){return arguments.length?(b=t,H):b},H.rightAlignYAxis=function(t){return arguments.length?(k=t,a.orient(t?"right":"left"),H):k},H.fisheye=function(t){return arguments.length?(A=t,H):A},H.tooltips=function(t){return arguments.length?(S=t,H):S},H.tooltipContent=function(t){return arguments.length?(I=t,H):I},H.tooltipXContent=function(t){return arguments.length?(M=t,H):M},H.tooltipYContent=function(t){return arguments.length?(D=t,H):D},H.state=function(t){return arguments.length?(W=t,H):W},H.defaultState=function(t){return arguments.length?(F=t,H):F},H.noData=function(t){return arguments.length?(z=t,H):z},H.transitionDuration=function(t){return arguments.length?(N=t,H):N},H},r.models.sparkline=function(){"use strict";var t,e,n,o,a={top:2,right:0,bottom:2,left:0},i=400,l=32,s=!0,c=d3.scale.linear(),u=d3.scale.linear(),d=function(t){return t.x},p=function(t){return t.y},f=r.utils.getColor(["#000"]);function h(r){return r.each((function(r){var s=i-a.left-a.right,h=l-a.top-a.bottom,g=d3.select(this);c.domain(t||d3.extent(r,d)).range(n||[0,s]),u.domain(e||d3.extent(r,p)).range(o||[h,0]);var v=g.selectAll("g.nv-wrap.nv-sparkline").data([r]);v.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),v.select("g"),v.attr("transform","translate("+a.left+","+a.top+")");var m=v.selectAll("path").data((function(t){return[t]}));m.enter().append("path"),m.exit().remove(),m.style("stroke",(function(t,e){return t.color||f(t,e)})).attr("d",d3.svg.line().x((function(t,e){return c(d(t,e))})).y((function(t,e){return u(p(t,e))})));var x=v.selectAll("circle.nv-point").data((function(t){var e=t.map((function(t,e){return p(t,e)}));function n(e){if(-1!=e){var n=t[e];return n.pointIndex=e,n}return null}var r=n(e.lastIndexOf(u.domain()[1]));return[n(e.indexOf(u.domain()[0])),r,n(e.length-1)].filter((function(t){return null!=t}))}));x.enter().append("circle"),x.exit().remove(),x.attr("cx",(function(t,e){return c(d(t,t.pointIndex))})).attr("cy",(function(t,e){return u(p(t,t.pointIndex))})).attr("r",2).attr("class",(function(t,e){return d(t,t.pointIndex)==c.domain()[1]?"nv-point nv-currentValue":p(t,t.pointIndex)==u.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"}))})),h}return h.options=r.utils.optionsFunc.bind(h),h.margin=function(t){return arguments.length?(a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left,h):a},h.width=function(t){return arguments.length?(i=t,h):i},h.height=function(t){return arguments.length?(l=t,h):l},h.x=function(t){return arguments.length?(d=d3.functor(t),h):d},h.y=function(t){return arguments.length?(p=d3.functor(t),h):p},h.xScale=function(t){return arguments.length?(c=t,h):c},h.yScale=function(t){return arguments.length?(u=t,h):u},h.xDomain=function(e){return arguments.length?(t=e,h):t},h.yDomain=function(t){return arguments.length?(e=t,h):e},h.xRange=function(t){return arguments.length?(n=t,h):n},h.yRange=function(t){return arguments.length?(o=t,h):o},h.animate=function(t){return arguments.length?(s=t,h):s},h.color=function(t){return arguments.length?(f=r.utils.getColor(t),h):f},h},r.models.sparklinePlus=function(){"use strict";var t,e,n=r.models.sparkline(),o={top:15,right:100,bottom:10,left:50},a=null,i=null,l=[],s=!1,c=d3.format(",r"),u=d3.format(",.2f"),d=!0,p=!0,f=!1,h="No Data Available.";function g(r){return r.each((function(d){var v=d3.select(this),m=(a||parseInt(v.style("width"))||960)-o.left-o.right,x=(i||parseInt(v.style("height"))||400)-o.top-o.bottom;if(g.update=function(){g(r)},g.container=this,!d||!d.length){var y=v.selectAll(".nv-noData").data([h]);return y.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),y.attr("x",o.left+m/2).attr("y",o.top+x/2).text((function(t){return t})),g}v.selectAll(".nv-noData").remove();var b=n.y()(d[d.length-1],d.length-1);t=n.xScale(),e=n.yScale();var k=v.selectAll("g.nv-wrap.nv-sparklineplus").data([d]),w=k.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),A=k.select("g");w.append("g").attr("class","nv-sparklineWrap"),w.append("g").attr("class","nv-valueWrap"),w.append("g").attr("class","nv-hoverArea"),k.attr("transform","translate("+o.left+","+o.top+")");var C=A.select(".nv-sparklineWrap");n.width(m).height(x),C.call(n);var S=A.select(".nv-valueWrap").selectAll(".nv-currentValue").data([b]);function M(){if(!s){var e=A.selectAll(".nv-hoverValue").data(l),r=e.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);e.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),e.attr("transform",(function(e){return"translate("+t(n.x()(d[e],e))+",0)"})).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),l.length&&(r.append("line").attr("x1",0).attr("y1",-o.top).attr("x2",0).attr("y2",x),r.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-o.top).attr("text-anchor","end").attr("dy",".9em"),A.select(".nv-hoverValue .nv-xValue").text(c(n.x()(d[l[0]],l[0]))),r.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-o.top).attr("text-anchor","start").attr("dy",".9em"),A.select(".nv-hoverValue .nv-yValue").text(u(n.y()(d[l[0]],l[0]))))}}S.enter().append("text").attr("class","nv-currentValue").attr("dx",f?-8:8).attr("dy",".9em").style("text-anchor",f?"end":"start"),S.attr("x",m+(f?o.right:0)).attr("y",p?function(t){return e(t)}:0).style("fill",n.color()(d[d.length-1],d.length-1)).text(u(b)),w.select(".nv-hoverArea").append("rect").on("mousemove",(function(){if(!s){var e=d3.mouse(this)[0]-o.left;l=[function(t,e){for(var r=Math.abs(n.x()(t[0],0)-e),o=0,a=0;a<t.length;a++)Math.abs(n.x()(t[a],a)-e)<r&&(r=Math.abs(n.x()(t[a],a)-e),o=a);return o}(d,Math.round(t.invert(e)))],M()}})).on("click",(function(){s=!s})).on("mouseout",(function(){l=[],M()})),A.select(".nv-hoverArea rect").attr("transform",(function(t){return"translate("+-o.left+","+-o.top+")"})).attr("width",m+o.left+o.right).attr("height",x+o.top)})),g}return g.sparkline=n,d3.rebind(g,n,"x","y","xScale","yScale","color"),g.options=r.utils.optionsFunc.bind(g),g.margin=function(t){return arguments.length?(o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left,g):o},g.width=function(t){return arguments.length?(a=t,g):a},g.height=function(t){return arguments.length?(i=t,g):i},g.xTickFormat=function(t){return arguments.length?(c=t,g):c},g.yTickFormat=function(t){return arguments.length?(u=t,g):u},g.showValue=function(t){return arguments.length?(d=t,g):d},g.alignValue=function(t){return arguments.length?(p=t,g):p},g.rightAlignValue=function(t){return arguments.length?(f=t,g):f},g.noData=function(t){return arguments.length?(h=t,g):h},g},r.models.stackedArea=function(){"use strict";var t,e,n={top:0,right:0,bottom:0,left:0},o=960,a=500,i=r.utils.defaultColor(),l=Math.floor(1e5*Math.random()),s=function(t){return t.x},c=function(t){return t.y},u="stack",d="zero",p="default",f="linear",h=!1,g=r.models.scatter(),v=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout");function m(r){return r.each((function(r){var u=o-n.left-n.right,m=a-n.top-n.bottom,x=d3.select(this);t=g.xScale(),e=g.yScale();var y=(r=r.map((function(t,e){return t.seriesIndex=e,t.values=t.values.map((function(t,n){return t.index=n,t.seriesIndex=e,t})),t}))).filter((function(t){return!t.disabled}));r=d3.layout.stack().order(p).offset(d).values((function(t){return t.values})).x(s).y(c).out((function(t,e,n){var r=0===c(t)?0:n;t.display={y:r,y0:e}}))(y);var b=x.selectAll("g.nv-wrap.nv-stackedarea").data([r]),k=b.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),w=k.append("defs"),A=k.append("g"),C=b.select("g");A.append("g").attr("class","nv-areaWrap"),A.append("g").attr("class","nv-scatterWrap"),b.attr("transform","translate("+n.left+","+n.top+")"),g.width(u).height(m).x(s).y((function(t){return t.display.y+t.display.y0})).forceY([0]).color(r.map((function(t,e){return t.color||i(t,t.seriesIndex)}))),C.select(".nv-scatterWrap").datum(r).call(g),w.append("clipPath").attr("id","nv-edge-clip-"+l).append("rect"),b.select("#nv-edge-clip-"+l+" rect").attr("width",u).attr("height",m),C.attr("clip-path",h?"url(#nv-edge-clip-"+l+")":"");var S=d3.svg.area().x((function(e,n){return t(s(e,n))})).y0((function(t){return e(t.display.y0)})).y1((function(t){return e(t.display.y+t.display.y0)})).interpolate(f),M=d3.svg.area().x((function(e,n){return t(s(e,n))})).y0((function(t){return e(t.display.y0)})).y1((function(t){return e(t.display.y0)})),D=C.select(".nv-areaWrap").selectAll("path.nv-area").data((function(t){return t}));D.enter().append("path").attr("class",(function(t,e){return"nv-area nv-area-"+e})).attr("d",(function(t,e){return M(t.values,t.seriesIndex)})).on("mouseover",(function(t,e){d3.select(this).classed("hover",!0),v.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e})})).on("mouseout",(function(t,e){d3.select(this).classed("hover",!1),v.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e})})).on("click",(function(t,e){d3.select(this).classed("hover",!1),v.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e})})),D.exit().transition().attr("d",(function(t,e){return M(t.values,e)})).remove(),D.style("fill",(function(t,e){return t.color||i(t,t.seriesIndex)})).style("stroke",(function(t,e){return t.color||i(t,t.seriesIndex)})),D.transition().attr("d",(function(t,e){return S(t.values,e)})),g.dispatch.on("elementMouseover.area",(function(t){C.select(".nv-chart-"+l+" .nv-area-"+t.seriesIndex).classed("hover",!0)})),g.dispatch.on("elementMouseout.area",(function(t){C.select(".nv-chart-"+l+" .nv-area-"+t.seriesIndex).classed("hover",!1)}))})),m}return g.size(2.2).sizeDomain([2.2,2.2]),g.dispatch.on("elementClick.area",(function(t){v.areaClick(t)})),g.dispatch.on("elementMouseover.tooltip",(function(t){t.pos=[t.pos[0]+n.left,t.pos[1]+n.top],v.tooltipShow(t)})),g.dispatch.on("elementMouseout.tooltip",(function(t){v.tooltipHide(t)})),m.dispatch=v,m.scatter=g,d3.rebind(m,g,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","highlightPoint","clearHighlights"),m.options=r.utils.optionsFunc.bind(m),m.x=function(t){return arguments.length?(s=d3.functor(t),m):s},m.y=function(t){return arguments.length?(c=d3.functor(t),m):c},m.margin=function(t){return arguments.length?(n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left,m):n},m.width=function(t){return arguments.length?(o=t,m):o},m.height=function(t){return arguments.length?(a=t,m):a},m.clipEdge=function(t){return arguments.length?(h=t,m):h},m.color=function(t){return arguments.length?(i=r.utils.getColor(t),m):i},m.offset=function(t){return arguments.length?(d=t,m):d},m.order=function(t){return arguments.length?(p=t,m):p},m.style=function(t){if(!arguments.length)return u;switch(u=t){case"stack":m.offset("zero"),m.order("default");break;case"stream":m.offset("wiggle"),m.order("inside-out");break;case"stream-center":m.offset("silhouette"),m.order("inside-out");break;case"expand":m.offset("expand"),m.order("default")}return m},m.interpolate=function(t){return arguments.length?(f=t,m):f},m},r.models.stackedAreaChart=function(){"use strict";var t,e,n=r.models.stackedArea(),o=r.models.axis(),a=r.models.axis(),i=r.models.legend(),l=r.models.legend(),s=r.interactiveGuideline(),c={top:30,right:25,bottom:50,left:60},u=null,d=null,p=r.utils.defaultColor(),f=!0,h=!0,g=!0,v=!0,m=!1,x=!1,y=!0,b=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},k=d3.format(",.2f"),w={style:n.style()},A=null,C="No Data Available.",S=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),M=250,D=["Stacked","Stream","Expanded"],I=250;o.orient("bottom").tickPadding(7),a.orient(m?"right":"left"),l.updateState(!1);var W=function(t,e){var i=t.pos[0]+(e.offsetLeft||0),l=t.pos[1]+(e.offsetTop||0),s=o.tickFormat()(n.x()(t.point,t.pointIndex)),c=a.tickFormat()(n.y()(t.point,t.pointIndex)),u=b(t.series.key,s,c,t,F);r.tooltip.show([i,l],u,t.value<0?"n":"s",null,e)};function F(b){return b.each((function(b){var L,z=d3.select(this),N=this,B=(u||parseInt(z.style("width"))||960)-c.left-c.right,P=(d||parseInt(z.style("height"))||400)-c.top-c.bottom;if(F.update=function(){z.transition().duration(I).call(F)},F.container=this,w.disabled=b.map((function(t){return!!t.disabled})),!A)for(L in A={},w)w[L]instanceof Array?A[L]=w[L].slice(0):A[L]=w[L];if(!(b&&b.length&&b.filter((function(t){return t.values.length})).length)){var H=z.selectAll(".nv-noData").data([C]);return H.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),H.attr("x",c.left+B/2).attr("y",c.top+P/2).text((function(t){return t})),F}z.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale();var T=z.selectAll("g.nv-wrap.nv-stackedAreaChart").data([b]),R=T.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),Y=T.select("g");if(R.append("rect").style("opacity",0),R.append("g").attr("class","nv-x nv-axis"),R.append("g").attr("class","nv-y nv-axis"),R.append("g").attr("class","nv-stackedWrap"),R.append("g").attr("class","nv-legendWrap"),R.append("g").attr("class","nv-controlsWrap"),R.append("g").attr("class","nv-interactive"),Y.select("rect").attr("width",B).attr("height",P),h){var E=f?B-M:B;i.width(E),Y.select(".nv-legendWrap").datum(b).call(i),c.top!=i.height()&&(c.top=i.height(),P=(d||parseInt(z.style("height"))||400)-c.top-c.bottom),Y.select(".nv-legendWrap").attr("transform","translate("+(B-E)+","+-c.top+")")}if(f){var V=[{key:"Stacked",disabled:"zero"!=n.offset()},{key:"Stream",disabled:"wiggle"!=n.offset()},{key:"Expanded",disabled:"expand"!=n.offset()}];M=D.length/3*260,V=V.filter((function(t){return D.indexOf(t.key)>-1})),l.width(M).color(["#444","#444","#444"]),Y.select(".nv-controlsWrap").datum(V).call(l),c.top!=Math.max(l.height(),i.height())&&(c.top=Math.max(l.height(),i.height()),P=(d||parseInt(z.style("height"))||400)-c.top-c.bottom),Y.select(".nv-controlsWrap").attr("transform","translate(0,"+-c.top+")")}T.attr("transform","translate("+c.left+","+c.top+")"),m&&Y.select(".nv-y.nv-axis").attr("transform","translate("+B+",0)"),x&&(s.width(B).height(P).margin({left:c.left,top:c.top}).svgContainer(z).xScale(t),T.select(".nv-interactive").call(s)),n.width(B).height(P),Y.select(".nv-stackedWrap").datum(b).transition().call(n),g&&(o.scale(t).ticks(B/100).tickSize(-P,0),Y.select(".nv-x.nv-axis").attr("transform","translate(0,"+P+")"),Y.select(".nv-x.nv-axis").transition().duration(0).call(o)),v&&(a.scale(e).ticks("wiggle"==n.offset()?0:P/36).tickSize(-B,0).setTickFormat("expand"==n.offset()?d3.format("%"):k),Y.select(".nv-y.nv-axis").transition().duration(0).call(a)),n.dispatch.on("areaClick.toggle",(function(t){b=1===b.filter((function(t){return!t.disabled})).length?b.map((function(t){return t.disabled=!1,t})):b.map((function(e,n){return e.disabled=n!=t.seriesIndex,e})),w.disabled=b.map((function(t){return!!t.disabled})),S.stateChange(w),F.update()})),i.dispatch.on("stateChange",(function(t){w.disabled=t.disabled,S.stateChange(w),F.update()})),l.dispatch.on("legendClick",(function(t,e){if(t.disabled){switch(V=V.map((function(t){return t.disabled=!0,t})),t.disabled=!1,t.key){case"Stacked":n.style("stack");break;case"Stream":n.style("stream");break;case"Expanded":n.style("expand")}w.style=n.style(),S.stateChange(w),F.update()}})),s.dispatch.on("elementMousemove",(function(t){n.clearHighlights();var e,i,l,u=[];b.filter((function(t,e){return t.seriesIndex=e,!t.disabled})).forEach((function(o,a){i=r.interactiveBisect(o.values,t.pointXValue,F.x()),n.highlightPoint(a,i,!0);var s=o.values[i];void 0!==s&&(void 0===e&&(e=s),void 0===l&&(l=F.xScale()(F.x()(s,i))),u.push({key:o.key,value:F.y()(s,i),color:p(o,o.seriesIndex)}))}));var d=o.tickFormat()(F.x()(e,i));s.tooltip.position({left:l+c.left,top:t.mouseY+c.top}).chartContainer(N.parentNode).enabled(y).valueFormatter((function(t,e){return a.tickFormat()(t)})).data({value:d,series:u})(),s.renderGuideLine(l)})),s.dispatch.on("elementMouseout",(function(t){S.tooltipHide(),n.clearHighlights()})),S.on("tooltipShow",(function(t){y&&W(t,N.parentNode)})),S.on("changeState",(function(t){void 0!==t.disabled&&(b.forEach((function(e,n){e.disabled=t.disabled[n]})),w.disabled=t.disabled),void 0!==t.style&&n.style(t.style),F.update()}))})),F}return n.dispatch.on("tooltipShow",(function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],S.tooltipShow(t)})),n.dispatch.on("tooltipHide",(function(t){S.tooltipHide(t)})),S.on("tooltipHide",(function(){y&&r.tooltip.cleanup()})),F.dispatch=S,F.stacked=n,F.legend=i,F.controls=l,F.xAxis=o,F.yAxis=a,F.interactiveLayer=s,d3.rebind(F,n,"x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","sizeDomain","interactive","useVoronoi","offset","order","style","clipEdge","forceX","forceY","forceSize","interpolate"),F.options=r.utils.optionsFunc.bind(F),F.margin=function(t){return arguments.length?(c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left,F):c},F.width=function(t){return arguments.length?(u=t,F):u},F.height=function(t){return arguments.length?(d=t,F):d},F.color=function(t){return arguments.length?(p=r.utils.getColor(t),i.color(p),n.color(p),F):p},F.showControls=function(t){return arguments.length?(f=t,F):f},F.showLegend=function(t){return arguments.length?(h=t,F):h},F.showXAxis=function(t){return arguments.length?(g=t,F):g},F.showYAxis=function(t){return arguments.length?(v=t,F):v},F.rightAlignYAxis=function(t){return arguments.length?(m=t,a.orient(t?"right":"left"),F):m},F.useInteractiveGuideline=function(t){return arguments.length?(x=t,!0===t&&(F.interactive(!1),F.useVoronoi(!1)),F):x},F.tooltip=function(t){return arguments.length?(b=t,F):b},F.tooltips=function(t){return arguments.length?(y=t,F):y},F.tooltipContent=function(t){return arguments.length?(b=t,F):b},F.state=function(t){return arguments.length?(w=t,F):w},F.defaultState=function(t){return arguments.length?(A=t,F):A},F.noData=function(t){return arguments.length?(C=t,F):C},F.transitionDuration=function(t){return arguments.length?(I=t,F):I},F.controlsData=function(t){return arguments.length?(D=t,F):D},a.setTickFormat=a.tickFormat,a.tickFormat=function(t){return arguments.length?(k=t,a):k},F},d3}.apply(e,r))||(t.exports=o)},40:function(t,e,n){"use strict";n.r(e);n(2),n(8),n(11),n(226);angular.module("graphdb.framework.jmx.resources.controllers",["ui.bootstrap","graphdb.framework.core.services.repositories","graphdb.framework.rest.monitoring.service","toastr"]).controller("ResourcesCtrl",["$scope","toastr","$interval","$timeout","MonitoringRestService",function(t,e,n,r,o){t.data={classCount:[{key:"Classes",values:[]}],cpuLoad:[{key:"System CPU Load",values:[]}],memoryUsage:[{key:"Used memory",values:[]}],threadCount:[{key:"Thread Count",values:[]}]},t.firstLoad=!0,t.activeTab="memory",t.jolokiaError="",t.loader=!0,t.garbadgeCollectorLoader=!1,t.getResourcesData=function(){t.jolokiaError||o.monitorResources().success((function(e){if(e){100===t.data.classCount[0].values.length&&t.clearData();const n=new Date;if(t.firstLoad){t.firstLoad=!1,t.data.classCount[0].values.push([n,2*e.classCount]),t.data.cpuLoad[0].values.push([n,2*parseFloat(e.cpuLoad).toFixed(2)]),t.data.memoryUsage[0].values.push([n,2*(e.heapMemoryUsage.used/1e9).toFixed(2)]),t.data.threadCount[0].values.push([n,2*e.threadCount]);const o=r((function(){t.loader=!1}),500);t.$on("$destroy",(function(){r.cancel(o)}))}t.firstLoad||(e.classCount>t.data.classCount[0].values[0][1]&&(t.data.classCount[0].values[0][1]=2*e.classCount),parseFloat(e.cpuLoad)>t.data.cpuLoad[0].values[0][1]&&(parseFloat(e.cpuLoad)>50?t.data.cpuLoad[0].values[0][1]=100:t.data.cpuLoad[0].values[0][1]=2*parseFloat(e.cpuLoad).toFixed(2)),e.heapMemoryUsage.used/1e9>t.data.memoryUsage[0].values[0][1]&&(t.data.memoryUsage[0].values[0][1]=2*(e.heapMemoryUsage.used/1e9).toFixed(2)),e.threadCount>t.data.threadCount[0].values[0][1]&&(t.data.threadCount[0].values[0][1]=2*e.threadCount)),t.data.classCount[0].values.push([n,e.classCount]),t.data.cpuLoad[0].values.push([n,parseFloat(e.cpuLoad).toFixed(4)]),t.data.memoryUsage[0].values.push([n,(e.heapMemoryUsage.used/1e9).toFixed(4)]),t.data.threadCount[0].values.push([n,e.threadCount])}})).error((function(e){t.jolokiaError=getError(e),t.loader=!1}))},t.clearData=function(){t.data.classCount[0].values=t.data.classCount[0].values.slice(50),t.data.classCount[0].values[0][0]=t.data.classCount[0].values[1][0],t.data.classCount[0].values[0][1]=2*t.data.classCount[0].values[1][1],t.data.cpuLoad[0].values=t.data.cpuLoad[0].values.slice(50),t.data.cpuLoad[0].values[0][0]=t.data.cpuLoad[0].values[1][0],t.data.cpuLoad[0].values[0][1]=2*parseFloat(t.data.cpuLoad[0].values[1][1]).toFixed(2),t.data.memoryUsage[0].values=t.data.memoryUsage[0].values.slice(50),t.data.memoryUsage[0].values[0][0]=t.data.memoryUsage[0].values[1][0],t.data.memoryUsage[0].values[0][1]=2*parseFloat(t.data.memoryUsage[0].values[1][1]).toFixed(2),t.data.threadCount[0].values=t.data.threadCount[0].values.slice(50),t.data.threadCount[0].values[0][0]=t.data.threadCount[0].values[1][0],t.data.threadCount[0].values[0][1]=2*t.data.threadCount[0].values[1][1]};const a=n((function(){t.getResourcesData()}),2e3);t.$on("$destroy",(function(){n.cancel(a)})),t.chartConfig={refreshDataOnly:!0},t.chartOptions={chart:{type:"stackedAreaChart",height:500,width:1e3,margin:{top:40,right:40,bottom:60,left:100},x:function(t){return t[0]},y:function(t){return t[1]},clipEdge:!0,noData:"No Data Available.",showControls:!1,rightAlignYAxis:!1,transitionDuration:500,useVoronoi:!1,useInteractiveGuideline:!0,xAxis:{showMaxMin:!1,tickFormat:function(t){return d3.time.format("%X")(new Date(t))}},yAxis:{showMaxMin:!1,tickFormat:function(t){return t}}}},t.chartMemoryOptions=angular.copy(t.chartOptions),t.chartMemoryOptions.chart.yAxis.tickFormat=function(t){return t+" GB"},t.chartCPUOptions=angular.copy(t.chartOptions),t.chartCPUOptions.chart.yAxis.tickFormat=function(t){return t+"%"},t.garbadgeCollector=function(){t.garbadgeCollectorLoader=!0,o.monitorGC().success((function(){e.success("Garbage collection performed."),t.garbadgeCollectorLoader=!1})).error((function(n){const r=getError(n);e.error(r,"Error"),t.garbadgeCollectorLoader=!1}))}}])}}]);
//# sourceMappingURL=3.3cf9b5c1c547c8be4d37.bundle.js.map