{"version":3,"sources":["webpack:///./src/js/lib/angucomplete-alt/angucomplete-alt-onto.min.js","webpack:///./src/js/angular/utils/uri-utils.js","webpack:///./src/js/angular/core/directives/fit-text.directive.js","webpack:///./src/js/angular/explore/statements.service.js","webpack:///./src/js/angular/explore/directives.js","webpack:///./src/js/angular/explore/app.js"],"names":["root","factory","angular","module","directive","$q","$parse","$http","$sce","$timeout","$templateCache","$interpolate","$rootScope","KEY_DW","KEY_RT","KEY_UP","KEY_LF","KEY_ES","KEY_EN","KEY_TAB","MIN_LENGTH","MAX_LENGTH","PAUSE","BLUR_TIMEOUT","REQUIRED_CLASS","TEXT_SEARCHING","TEXT_NORESULTS","link","scope","elem","attrs","ctrl","hideTimer","responseFormatter","unbindInitialValue","displaySearching","displayNoResults","fn","inputField","find","minlength","searchTimer","requiredClassName","validState","httpCanceller","dd","querySelector","isScrollOn","mousedownOn","handleInputChange","newval","initial","uri","extractTitle","callOrAssign","originalObject","length","console","error","handleRequired","clickoutHandlerForDropdown","event","hideResults","document","body","removeEventListener","ie8EventNormalizer","which","keyCode","value","selectedObject","data","titleField","split","map","field","extractValue","join","obj","key","keys","result","i","findMatchString","target","str","matches","re","RegExp","replace","match","toString","matchClass","trustAsHtml","valid","notEmpty","fieldRequired","inputName","$setValidity","handleOverrideSuggestions","overrideSuggestions","preventDefault","cancel","cancelHttpRequest","clearSelected","clearResults","dropdownRow","querySelectorAll","currentIndex","dropdownScrollTopTo","offset","scrollTop","updateInputField","current","results","extractedTitle","val","title","httpSuccessCallbackGen","responseData","status","headers","config","searching","processResults","remoteUrlDataField","httpErrorCallback","errorRes","remoteUrlErrorCallback","resolve","getRemoteResults","params","url","remoteUrl","encodeuriComponent","remoteUrlRequestFormatter","remoteUrlRequestWithCredentials","withCredentials","defer","timeout","promise","get","success","getRemoteResultsWithCustomHandler","remoteApiHandler","then","catch","showDropdown","initResults","focusFirst","searchTimerComplete","localData","$apply","localSearch","s","searchFields","parseInput","toLowerCase","indexOf","getLocalResults","description","image","text","formattedText","formattedDesc","descriptionField","imageField","autoMatch","selectResult","checkExactMatch","desc","showAll","on","id","addEventListener","className","$watch","oldval","$on","elementId","onFocusHandler","focusIn","focusOut","resetHideResults","hoverRow","index","inputChangeHandler","inputChanged","fieldRequiredClass","parseInt","pause","initialValue","inputType","type","textSearching","textNoResults","maxlength","row","rowTop","getBoundingClientRect","top","getComputedStyle","maxHeight","bottom","css","offsetHeight","marginTop","marginBottom","dropdownRowOffsetHeight","paddingTop","$digest","overflowY","put","restrict","require","disableInput","disableSuggestions","remoteUrlResponseFormatter","placeholder","inputClass","fieldTabindex","templateUrl","element","compile","tElement","startSym","startSymbol","endSym","endSymbol","interpolatedHtml","html","window","iriRegExp","isValidIri","iri","undefined","validateRdfUri","hasAngleBrackets","noAngleBrackets","lastIndexOf","validProtocol","test","validPath","schemaSlashesIdx","substring","e","fitTextDirective","min","max","_","debounce","fitTextMin","fitTextMax","parent","domElem","domElemStyle","style","computed","newlines","children","lines","minFontSize","maxFontSize","lineHeight","display","resizePromise","calculate","ratio","calcSize","offsetWidth","Math","paddingLeft","parseFloat","paddingRight","compressor","getMaxFontSize","resizer","fontSize","loadDelay","$","delay","off","$inject","StatementsService","transformToTrig","statements","contexts","statement","context","trim","isUndefined","cstatement","push","ckeys","Object","j","subject","predicate","object","datatype","lang","buildStatements","res","isEmpty","graph","predicates","objects","k","graphs","getDatatypeOptions","label","UriUtils","attr","ngModel","$parsers","unshift","isValidUri","$formatters"],"mappings":"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","file":"19.021263fa2b5c9ab91047.bundle.js","sourcesContent":["/*\n * angucomplete-alt\n * Autocomplete directive for AngularJS\n * This is a fork of Daryl Rowland's angucomplete with some extra features.\n * By Hidenari Nozaki\n */\n\n/*! Copyright (c) 2014 Hidenari Nozaki and contributors | Licensed under the MIT license */\n\n(function (root, factory) {\n  'use strict';\n//  if (typeof module !== 'undefined' && module.exports) {\n//    // CommonJS\n//    module.exports = factory(require('angular'));\n//  } else if (typeof define === 'function' && define.amd) {\n//    // AMD\n//    define(['angular'], factory);\n//  } else {\n//    // Global Variables\n    factory(root.angular);\n//  }\n}(window, function (angular) {\n  'use strict';\n\n  angular.module('angucomplete-alt-onto', []).directive('angucompleteAltOnto', ['$q', '$parse', '$http', '$sce', '$timeout', '$templateCache', '$interpolate', '$rootScope', function ($q, $parse, $http, $sce, $timeout, $templateCache, $interpolate, $rootScope) {\n    // keyboard events\n    var KEY_DW  = 40;\n    var KEY_RT  = 39;\n    var KEY_UP  = 38;\n    var KEY_LF  = 37;\n    var KEY_ES  = 27;\n    var KEY_EN  = 13;\n    var KEY_TAB =  9;\n\n    var MIN_LENGTH = 3;\n    var MAX_LENGTH = 524288;  // the default max length per the html maxlength attribute\n    var PAUSE = 500;\n    var BLUR_TIMEOUT = 200;\n\n    // string constants\n    var REQUIRED_CLASS = 'autocomplete-required';\n    var TEXT_SEARCHING = 'Searching...';\n    var TEXT_NORESULTS = 'No results found';\n    var TEMPLATE_URL = '/angucomplete-alt/index.html';\n\n    // Set the default template for this directive\n    $templateCache.put(TEMPLATE_URL,\n        '<div class=\"angucomplete-holder\" ng-class=\"{\\'angucomplete-dropdown-visible\\': showDropdown}\">' +\n        '  <input id=\"{{id}}_value\" name=\"{{inputName}}\" tabindex=\"{{fieldTabindex}}\" ng-class=\"{\\'angucomplete-input-not-empty\\': notEmpty}\" ng-model=\"uri\" ng-disabled=\"disableInput\" type=\"{{inputType}}\" placeholder=\"{{placeholder}}\" maxlength=\"{{maxlength}}\" ng-focus=\"onFocusHandler()\" class=\"{{inputClass}}\" ng-focus=\"resetHideResults()\" ng-blur=\"hideResults($event)\" autocapitalize=\"off\" autocorrect=\"off\" autocomplete=\"off\" ng-change=\"inputChangeHandler(uri)\" style=\"overflow: hidden; padding-right: .5em;\"/>' +\n        '  <div id=\"{{id}}_dropdown\" class=\"angucomplete-dropdown\" ng-show=\"disableSuggestions && showDropdown\">' +\n        '    <div class=\"angucomplete-searching\" ng-show=\"searching\" ng-bind=\"textSearching\"></div>' +\n        '    <div class=\"angucomplete-searching\" ng-show=\"!searching && (!results || results.length == 0)\" ng-bind=\"textNoResults\"></div>' +\n        '    <div class=\"angucomplete-row\" ng-repeat=\"result in results\" ng-click=\"selectResult(result)\" ng-mouseenter=\"hoverRow($index)\" ng-class=\"{\\'angucomplete-selected-row\\': $index == currentIndex}\">' +\n        '      <div ng-if=\"imageField\" class=\"angucomplete-image-holder\">' +\n        '        <img ng-if=\"result.image && result.image != \\'\\'\" ng-src=\"{{result.image}}\" class=\"angucomplete-image\"/>' +\n        '        <div ng-if=\"!result.image && result.image != \\'\\'\" class=\"angucomplete-image-default\"></div>' +\n        '      </div>' +\n        '      <div class=\"angucomplete-title\" ng-if=\"matchClass\" ng-bind-html=\"result.title\"></div>' +\n        '      <div class=\"angucomplete-title\" ng-if=\"!matchClass\">{{ result.title }}</div>' +\n        '      <div ng-if=\"matchClass && result.description && result.description != \\'\\'\" class=\"angucomplete-description\" ng-bind-html=\"result.description\"></div>' +\n        '      <div ng-if=\"!matchClass && result.description && result.description != \\'\\'\" class=\"angucomplete-description\">{{result.description}}</div>' +\n        '    </div>' +\n        '  </div>' +\n        '</div>'\n    );\n\n    function link(scope, elem, attrs, ctrl) {\n      var inputField = elem.find('input');\n      var minlength = MIN_LENGTH;\n      var searchTimer = null;\n      var hideTimer;\n      var requiredClassName = REQUIRED_CLASS;\n      var responseFormatter;\n      var validState = null;\n      var httpCanceller = null;\n      var dd = elem[0].querySelector('.angucomplete-dropdown');\n      var isScrollOn = false;\n      var mousedownOn = null;\n      var unbindInitialValue;\n      var displaySearching;\n      var displayNoResults;\n\n\n      elem.on('mousedown', function(event) {\n        if (event.target.id) {\n          mousedownOn = event.target.id;\n          if (mousedownOn === scope.id + '_dropdown') {\n            document.body.addEventListener('click', clickoutHandlerForDropdown);\n          }\n        }\n        else {\n          mousedownOn = event.target.className;\n        }\n      });\n\n      scope.currentIndex = scope.focusFirst ? 0 : null;\n      scope.searching = false;\n      unbindInitialValue = scope.$watch('initialValue', function(newval) {\n        if (newval) {\n          // remove scope listener\n          unbindInitialValue();\n          // change input\n          handleInputChange(newval, true);\n        }\n      });\n\n      scope.$watch('fieldRequired', function(newval, oldval) {\n        if (newval !== oldval) {\n          if (!newval) {\n            ctrl[scope.inputName].$setValidity(requiredClassName, true);\n          }\n          else if (!validState || scope.currentIndex === -1) {\n            handleRequired(false);\n          }\n          else {\n            handleRequired(true);\n          }\n        }\n      });\n\n      scope.$on('angucomplete-alt:clearInput', function (event, elementId) {\n        if (!elementId || elementId === scope.id) {\n          scope.uri = null;\n          callOrAssign();\n          handleRequired(false);\n          clearResults();\n        }\n      });\n\n      scope.$on('angucomplete-alt:changeInput', function (event, elementId, newval) {\n        if (!!elementId && elementId === scope.id) {\n          handleInputChange(newval);\n        }\n      });\n\n      function handleInputChange(newval, initial) {\n        if (newval) {\n          if (typeof newval === 'object') {\n            scope.uri = extractTitle(newval);\n            callOrAssign({originalObject: newval});\n          } else if (typeof newval === 'string' && newval.length > 0) {\n            scope.uri = newval;\n          } else {\n            if (console && console.error) {\n              console.error('Tried to set ' + (!!initial ? 'initial' : '') + ' value of angucomplete to', newval, 'which is an invalid value');\n            }\n          }\n\n          handleRequired(true);\n        }\n      }\n\n      // #194 dropdown list not consistent in collapsing (bug).\n      function clickoutHandlerForDropdown(event) {\n        mousedownOn = null;\n        scope.hideResults(event);\n        document.body.removeEventListener('click', clickoutHandlerForDropdown);\n      }\n\n      // for IE8 quirkiness about event.which\n      function ie8EventNormalizer(event) {\n        return event.which ? event.which : event.keyCode;\n      }\n\n      function callOrAssign(value) {\n        if (typeof scope.selectedObject === 'function') {\n          scope.selectedObject(value);\n        }\n        else {\n          scope.selectedObject = value;\n        }\n\n        if (value) {\n          handleRequired(true);\n        }\n        else {\n          handleRequired(false);\n        }\n      }\n\n      function callFunctionOrIdentity(fn) {\n        return function(data) {\n          return scope[fn] ? scope[fn](data) : data;\n        };\n      }\n\n      function setInputString(str) {\n        callOrAssign({originalObject: str});\n\n        if (scope.clearSelected) {\n          scope.uri = null;\n        }\n        clearResults();\n      }\n\n      function extractTitle(data) {\n        // split title fields and run extractValue for each and join with ' '\n        return scope.titleField.split(',')\n          .map(function(field) {\n            return extractValue(data, field);\n          })\n          .join(' ');\n      }\n\n      function extractValue(obj, key) {\n        var keys, result;\n        if (key) {\n          keys= key.split('.');\n          result = obj;\n          for (var i = 0; i < keys.length; i++) {\n            result = result[keys[i]];\n          }\n        }\n        else {\n          result = obj;\n        }\n\n        return result;\n      }\n\n      function findMatchString(target, str) {\n        var result, matches, re;\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions\n        // Escape user input to be treated as a literal string within a regular expression\n        re = new RegExp(str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'i');\n        if (!target) { return; }\n        if (!target.match || !target.replace) { target = target.toString(); }\n        matches = target.match(re);\n        if (matches) {\n          result = target.replace(re,\n              '<span class=\"'+ scope.matchClass +'\">'+ matches[0] +'</span>');\n        }\n        else {\n          result = target;\n        }\n        return $sce.trustAsHtml(result);\n      }\n\n      function handleRequired(valid) {\n        scope.notEmpty = valid;\n        validState = scope.uri;\n        if (scope.fieldRequired && ctrl && scope.inputName) {\n          ctrl[scope.inputName].$setValidity(requiredClassName, valid);\n        }\n      }\n\n      function keyupHandler(event) {\n        var which = ie8EventNormalizer(event);\n        if (which === KEY_LF || which === KEY_RT) {\n          // do nothing\n          return;\n        }\n\n        if (which === KEY_UP || which === KEY_EN) {\n          event.preventDefault();\n        }\n        else if (which === KEY_DW) {\n          event.preventDefault();\n          if (!scope.showDropdown && scope.uri && scope.uri.length >= minlength) {\n            initResults();\n            scope.searching = true;\n            searchTimerComplete(scope.uri);\n          }\n        }\n        else if (which === KEY_ES) {\n          clearResults();\n          scope.$apply(function() {\n            inputField.val(scope.uri);\n          });\n        }\n        else {\n          if (minlength === 0 && !scope.uri) {\n            return;\n          }\n\n          if (!scope.uri || scope.uri === '') {\n            scope.showDropdown = false;\n          } else if (scope.uri.length >= minlength) {\n            initResults();\n\n            if (searchTimer) {\n              $timeout.cancel(searchTimer);\n            }\n\n            scope.searching = true;\n\n            searchTimer = $timeout(function() {\n              searchTimerComplete(scope.uri);\n            }, scope.pause);\n          }\n\n          if (validState && validState !== scope.uri && !scope.clearSelected) {\n            scope.$apply(function() {\n              callOrAssign();\n            });\n          }\n        }\n      }\n\n      function handleOverrideSuggestions(event) {\n        if (scope.overrideSuggestions &&\n            !(scope.selectedObject && scope.selectedObject.originalObject === scope.uri)) {\n          if (event) {\n            event.preventDefault();\n          }\n\n          // cancel search timer\n          $timeout.cancel(searchTimer);\n          // cancel http request\n          cancelHttpRequest();\n\n          setInputString(scope.uri);\n        }\n      }\n\n      function dropdownRowOffsetHeight(row) {\n        var css = getComputedStyle(row);\n        return row.offsetHeight +\n          parseInt(css.marginTop, 10) + parseInt(css.marginBottom, 10);\n      }\n\n      function dropdownHeight() {\n        return dd.getBoundingClientRect().top +\n          parseInt(getComputedStyle(dd).maxHeight, 10);\n      }\n\n      function dropdownRow() {\n        return elem[0].querySelectorAll('.angucomplete-row')[scope.currentIndex];\n      }\n\n      function dropdownRowTop() {\n        return dropdownRow().getBoundingClientRect().top -\n          (dd.getBoundingClientRect().top +\n           parseInt(getComputedStyle(dd).paddingTop, 10));\n      }\n\n      function dropdownScrollTopTo(offset) {\n        dd.scrollTop = dd.scrollTop + offset;\n      }\n\n      function updateInputField(){\n        var current = scope.results[scope.currentIndex];\n        if (scope.matchClass) {\n          var extractedTitle = extractTitle(current.originalObject);\n          extractedTitle = extractedTitle.replace(/<b>|<\\/b>/g, \"\");\n          inputField.val(extractedTitle);\n        }\n        else {\n          inputField.val(current.title);\n        }\n      }\n\n      function keydownHandler(event) {\n        var which = ie8EventNormalizer(event);\n        var row = null;\n        var rowTop = null;\n\n        if (which === KEY_EN && scope.results) {\n          if (scope.currentIndex >= 0 && scope.currentIndex < scope.results.length) {\n            event.preventDefault();\n            scope.selectResult(scope.results[scope.currentIndex]);\n          } else {\n            handleOverrideSuggestions(event);\n            clearResults();\n          }\n          scope.$apply();\n        } else if (which === KEY_DW && scope.results) {\n          event.preventDefault();\n          if ((scope.currentIndex + 1) < scope.results.length && scope.showDropdown) {\n            scope.$apply(function() {\n              scope.currentIndex ++;\n              updateInputField();\n            });\n\n            if (isScrollOn) {\n              row = dropdownRow();\n              if (dropdownHeight() < row.getBoundingClientRect().bottom) {\n                dropdownScrollTopTo(dropdownRowOffsetHeight(row));\n              }\n            }\n          }\n        } else if (which === KEY_UP && scope.results) {\n          event.preventDefault();\n          if (scope.currentIndex >= 1) {\n            scope.$apply(function() {\n              scope.currentIndex --;\n              updateInputField();\n            });\n\n            if (isScrollOn) {\n              rowTop = dropdownRowTop();\n              if (rowTop < 0) {\n                dropdownScrollTopTo(rowTop - 1);\n              }\n            }\n          }\n          else if (scope.currentIndex === 0) {\n            scope.$apply(function() {\n              scope.currentIndex = -1;\n              inputField.val(scope.uri);\n            });\n          }\n        } else if (which === KEY_TAB) {\n          if (scope.results && scope.results.length > 0 && scope.showDropdown) {\n            if (scope.currentIndex === -1 && scope.overrideSuggestions) {\n              // intentionally not sending event so that it does not\n              // prevent default tab behavior\n              handleOverrideSuggestions();\n            }\n            else {\n              if (scope.currentIndex === -1) {\n                scope.currentIndex = 0;\n              }\n              scope.selectResult(scope.results[scope.currentIndex]);\n              scope.$digest();\n            }\n          }\n          else {\n            // no results\n            // intentionally not sending event so that it does not\n            // prevent default tab behavior\n            if (scope.uri && scope.uri.length > 0) {\n              handleOverrideSuggestions();\n            }\n          }\n        } else if (which === KEY_ES) {\n          // This is very specific to IE10/11 #272\n          // without this, IE clears the input text\n          event.preventDefault();\n        }\n      }\n\n      function httpSuccessCallbackGen(str) {\n        return function(responseData, status, headers, config) {\n          // normalize return obejct from promise\n          if (!status && !headers && !config && responseData.data) {\n            responseData = responseData.data;\n          }\n          scope.searching = false;\n          processResults(extractValue(responseFormatter(responseData), scope.remoteUrlDataField), str);\n        };\n      }\n\n      function httpErrorCallback(errorRes, status, headers, config) {\n        // cancelled/aborted\n        if (status === 0 || status === -1) { return; }\n\n        // normalize return obejct from promise\n        if (!status && !headers && !config) {\n          status = errorRes.status;\n        }\n        if (scope.remoteUrlErrorCallback) {\n          scope.remoteUrlErrorCallback(errorRes, status, headers, config);\n        }\n        else {\n          if (console && console.error) {\n            console.error('http error');\n          }\n        }\n      }\n\n      function cancelHttpRequest() {\n        if (httpCanceller) {\n          httpCanceller.resolve();\n        }\n      }\n\n      function getRemoteResults(str) {\n        var params = {},\n            url = scope.remoteUrl + encodeuriComponent(str);\n        if (scope.remoteUrlRequestFormatter) {\n          params = {params: scope.remoteUrlRequestFormatter(str)};\n          url = scope.remoteUrl;\n        }\n        if (!!scope.remoteUrlRequestWithCredentials) {\n          params.withCredentials = true;\n        }\n        cancelHttpRequest();\n        httpCanceller = $q.defer();\n        params.timeout = httpCanceller.promise;\n        $http.get(url, params)\n          .success(httpSuccessCallbackGen(str))\n          .error(httpErrorCallback);\n      }\n\n      function getRemoteResultsWithCustomHandler(str) {\n        cancelHttpRequest();\n\n        httpCanceller = $q.defer();\n\n        scope.remoteApiHandler(str, httpCanceller.promise)\n          .then(httpSuccessCallbackGen(str))\n          .catch(httpErrorCallback);\n\n        /* IE8 compatible\n        scope.remoteApiHandler(str, httpCanceller.promise)\n          ['then'](httpSuccessCallbackGen(str))\n          ['catch'](httpErrorCallback);\n        */\n      }\n\n      function clearResults() {\n        scope.showDropdown = false;\n        scope.results = [];\n        if (dd) {\n          dd.scrollTop = 0;\n        }\n      }\n\n      function initResults() {\n        scope.showDropdown = displaySearching;\n        scope.currentIndex = scope.focusFirst ? 0 : -1;\n        scope.results = [];\n      }\n\n      function getLocalResults(str) {\n        var i, match, s, value,\n            searchFields = scope.searchFields.split(','),\n            matches = [];\n        if (typeof scope.parseInput() !== 'undefined') {\n          str = scope.parseInput()(str);\n        }\n        for (i = 0; i < scope.localData.length; i++) {\n          match = false;\n\n          for (s = 0; s < searchFields.length; s++) {\n            value = extractValue(scope.localData[i], searchFields[s]) || '';\n            match = match || (value.toString().toLowerCase().indexOf(str.toString().toLowerCase()) >= 0);\n          }\n\n          if (match) {\n            matches[matches.length] = scope.localData[i];\n          }\n        }\n        return matches;\n      }\n\n      function checkExactMatch(result, obj, str){\n        if (!str) { return false; }\n        for(var key in obj){\n          if(obj[key].toLowerCase() === str.toLowerCase()){\n            scope.selectResult(result);\n            return true;\n          }\n        }\n        return false;\n      }\n\n      function searchTimerComplete(str) {\n        // Begin the search\n        if (!str || str.length < minlength) {\n          return;\n        }\n        if (scope.localData) {\n          scope.$apply(function() {\n            var matches;\n            if (typeof scope.localSearch() !== 'undefined') {\n              matches = scope.localSearch()(str);\n            } else {\n              matches = getLocalResults(str);\n            }\n            scope.searching = false;\n            processResults(matches, str);\n          });\n        }\n        else if (scope.remoteApiHandler) {\n          getRemoteResultsWithCustomHandler(str);\n        } else {\n          getRemoteResults(str);\n        }\n      }\n\n      function processResults(responseData, str) {\n        var i, description, image, text, formattedText, formattedDesc;\n\n        if (responseData && responseData.length > 0) {\n          scope.results = [];\n\n          for (i = 0; i < responseData.length; i++) {\n            if (scope.titleField && scope.titleField !== '') {\n              text = formattedText = extractTitle(responseData[i]);\n            }\n\n            description = '';\n            if (scope.descriptionField) {\n              description = formattedDesc = extractValue(responseData[i], scope.descriptionField);\n            }\n\n            image = '';\n            if (scope.imageField) {\n              image = extractValue(responseData[i], scope.imageField);\n            }\n\n            if (scope.matchClass) {\n              formattedText = findMatchString(text, str);\n              formattedDesc = findMatchString(description, str);\n            }\n\n            scope.results[scope.results.length] = {\n              title: formattedText,\n              description: formattedDesc,\n              image: image,\n              originalObject: responseData[i]\n            };\n          }\n\n        } else {\n          scope.results = [];\n        }\n\n        if (scope.autoMatch && scope.results.length === 1 &&\n            checkExactMatch(scope.results[0],\n              {title: text, desc: description || ''}, scope.uri)) {\n          scope.showDropdown = false;\n        } else if (scope.results.length === 0 && !displayNoResults) {\n          scope.showDropdown = false;\n        } else {\n          scope.showDropdown = true;\n        }\n      }\n\n      function showAll() {\n        if (scope.localData) {\n          processResults(scope.localData, '');\n        }\n        else if (scope.remoteApiHandler) {\n          getRemoteResultsWithCustomHandler('');\n        }\n        else {\n          getRemoteResults('');\n        }\n      }\n\n      scope.onFocusHandler = function() {\n        if (scope.focusIn) {\n          scope.focusIn();\n        }\n        if (minlength === 0 && (!scope.uri || scope.uri.length === 0)) {\n          scope.currentIndex = scope.focusFirst ? 0 : scope.currentIndex;\n          scope.showDropdown = true;\n          showAll();\n        }\n      };\n\n      scope.hideResults = function() {\n        if (mousedownOn &&\n            (mousedownOn === scope.id + '_dropdown' ||\n             mousedownOn.indexOf('angucomplete') >= 0)) {\n          mousedownOn = null;\n        }\n        else {\n          hideTimer = $timeout(function() {\n            clearResults();\n            scope.$apply(function() {\n              if (scope.uri && scope.uri.length > 0) {\n                inputField.val(scope.uri);\n              }\n            });\n          }, BLUR_TIMEOUT);\n          cancelHttpRequest();\n\n          if (scope.focusOut) {\n            scope.focusOut();\n          }\n\n          if (scope.overrideSuggestions) {\n            if (scope.uri && scope.uri.length > 0 && scope.currentIndex === -1) {\n              handleOverrideSuggestions();\n            }\n          }\n        }\n      };\n\n      scope.resetHideResults = function() {\n        if (hideTimer) {\n          $timeout.cancel(hideTimer);\n        }\n      };\n\n      scope.hoverRow = function(index) {\n        scope.currentIndex = index;\n      };\n\n      scope.selectResult = function(result) {\n        // Restore original values\n        if (scope.matchClass) {\n          result.title = extractTitle(result.originalObject);\n          if (typeof result.title === \"string\") {\n            result.title = result.title.replace(/<b>|<\\/b>/g, \"\");\n          }\n          result.description = extractValue(result.originalObject, scope.descriptionField);\n        }\n\n        if (scope.clearSelected) {\n          scope.uri = null;\n        }\n        else {\n          scope.uri = result.title;\n        }\n        callOrAssign(result);\n        clearResults();\n      };\n\n      scope.inputChangeHandler = function(str) {\n        if (str.length < minlength) {\n          cancelHttpRequest();\n          clearResults();\n        }\n        else if (str.length === 0 && minlength === 0) {\n          scope.searching = false;\n          showAll();\n        }\n\n        if (scope.inputChanged) {\n          str = scope.inputChanged(str);\n        }\n        return str;\n      };\n\n      // check required\n      if (scope.fieldRequiredClass && scope.fieldRequiredClass !== '') {\n        requiredClassName = scope.fieldRequiredClass;\n      }\n\n      // check min length\n      if (scope.minlength && scope.minlength !== '') {\n        minlength = parseInt(scope.minlength, 10);\n      }\n\n      // check pause time\n      if (!scope.pause) {\n        scope.pause = PAUSE;\n      }\n\n      // check clearSelected\n      if (!scope.clearSelected) {\n        scope.clearSelected = false;\n      }\n\n      // check override suggestions\n      if (!scope.overrideSuggestions) {\n        scope.overrideSuggestions = false;\n      }\n\n      // check required field\n      if (scope.fieldRequired && ctrl) {\n        // check initial value, if given, set validitity to true\n        if (scope.initialValue) {\n          handleRequired(true);\n        }\n        else {\n          handleRequired(false);\n        }\n      }\n\n      scope.inputType = attrs.type ? attrs.type : 'text';\n\n      // set strings for \"Searching...\" and \"No results\"\n      scope.textSearching = attrs.textSearching ? attrs.textSearching : TEXT_SEARCHING;\n      scope.textNoResults = attrs.textNoResults ? attrs.textNoResults : TEXT_NORESULTS;\n      displaySearching = scope.textSearching === 'false' ? false : true;\n      displayNoResults = scope.textNoResults === 'false' ? false : true;\n\n      // set max length (default to maxlength deault from html\n      scope.maxlength = attrs.maxlength ? attrs.maxlength : MAX_LENGTH;\n\n      // register events\n      inputField.on('keydown', keydownHandler);\n      inputField.on('keyup', keyupHandler);\n\n      // set response formatter\n      responseFormatter = callFunctionOrIdentity('remoteUrlResponseFormatter');\n\n      // set isScrollOn\n      $timeout(function() {\n        var css = getComputedStyle(dd);\n        isScrollOn = css.maxHeight && css.overflowY === 'auto';\n      });\n    }\n\n    return {\n      restrict: 'EA',\n      require: '^?form',\n      scope: {\n        selectedObject: '=',\n        disableInput: '=',\n        disableSuggestions: '=',\n        initialValue: '=',\n        localData: '=',\n        localSearch: '&',\n        remoteUrlRequestFormatter: '=',\n        remoteUrlRequestWithCredentials: '@',\n        remoteUrlResponseFormatter: '=',\n        remoteUrlErrorCallback: '=',\n        remoteApiHandler: '=',\n        id: '@',\n        type: '@',\n        placeholder: '@',\n        remoteUrl: '@',\n        remoteUrlDataField: '@',\n        titleField: '@',\n        descriptionField: '@',\n        imageField: '@',\n        inputClass: '@',\n        pause: '@',\n        searchFields: '@',\n        minlength: '@',\n        matchClass: '@',\n        clearSelected: '@',\n        overrideSuggestions: '@',\n        fieldRequired: '=',\n        fieldRequiredClass: '@',\n        inputChanged: '=',\n        autoMatch: '@',\n        focusOut: '&',\n        focusIn: '&',\n        fieldTabindex: '@',\n        inputName: '@',\n        focusFirst: '@',\n        parseInput: '&'\n      },\n      templateUrl: function(element, attrs) {\n        return attrs.templateUrl || TEMPLATE_URL;\n      },\n      compile: function(tElement) {\n        var startSym = $interpolate.startSymbol();\n        var endSym = $interpolate.endSymbol();\n        if (!(startSym === '{{' && endSym === '}}')) {\n          var interpolatedHtml = tElement.html()\n            .replace(/\\{\\{/g, startSym)\n            .replace(/\\}\\}/g, endSym);\n          tElement.html(interpolatedHtml);\n        }\n        return link;\n      }\n    };\n  }]);\n\n}));","angular\n    .module('graphdb.framework.utils.uriutils', [])\n    .factory('UriUtils', UriUtils);\n\nlet iriRegExp;\ntry {\n    // Real validation but it requires a relatively new browser\n    iriRegExp = new RegExp(\"^[a-z](?:[-a-z0-9\\\\+\\\\.])*:(?:\\\\/\\\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\\\._~\\\\u{A0}-\\\\u{D7FF}\\\\u{F900}-\\\\u{FDCF}\\\\u{FDF0}-\\\\u{FFEF}\\\\u{10000}-\\\\u{1FFFD}\\\\u{20000}-\\\\u{2FFFD}\\\\u{30000}-\\\\u{3FFFD}\\\\u{40000}-\\\\u{4FFFD}\\\\u{50000}-\\\\u{5FFFD}\\\\u{60000}-\\\\u{6FFFD}\\\\u{70000}-\\\\u{7FFFD}\\\\u{80000}-\\\\u{8FFFD}\\\\u{90000}-\\\\u{9FFFD}\\\\u{A0000}-\\\\u{AFFFD}\\\\u{B0000}-\\\\u{BFFFD}\\\\u{C0000}-\\\\u{CFFFD}\\\\u{D0000}-\\\\u{DFFFD}\\\\u{E1000}-\\\\u{EFFFD}!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=:])*@)?(?:\\\\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:[0-9a-f]{1,4}:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|v[0-9a-f]+[-a-z0-9\\\\._~!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=:]+)\\\\]|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3}|(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\\\._~\\\\u{A0}-\\\\u{D7FF}\\\\u{F900}-\\\\u{FDCF}\\\\u{FDF0}-\\\\u{FFEF}\\\\u{10000}-\\\\u{1FFFD}\\\\u{20000}-\\\\u{2FFFD}\\\\u{30000}-\\\\u{3FFFD}\\\\u{40000}-\\\\u{4FFFD}\\\\u{50000}-\\\\u{5FFFD}\\\\u{60000}-\\\\u{6FFFD}\\\\u{70000}-\\\\u{7FFFD}\\\\u{80000}-\\\\u{8FFFD}\\\\u{90000}-\\\\u{9FFFD}\\\\u{A0000}-\\\\u{AFFFD}\\\\u{B0000}-\\\\u{BFFFD}\\\\u{C0000}-\\\\u{CFFFD}\\\\u{D0000}-\\\\u{DFFFD}\\\\u{E1000}-\\\\u{EFFFD}!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=@])*)(?::[0-9]*)?(?:\\\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\\\._~\\\\u{A0}-\\\\u{D7FF}\\\\u{F900}-\\\\u{FDCF}\\\\u{FDF0}-\\\\u{FFEF}\\\\u{10000}-\\\\u{1FFFD}\\\\u{20000}-\\\\u{2FFFD}\\\\u{30000}-\\\\u{3FFFD}\\\\u{40000}-\\\\u{4FFFD}\\\\u{50000}-\\\\u{5FFFD}\\\\u{60000}-\\\\u{6FFFD}\\\\u{70000}-\\\\u{7FFFD}\\\\u{80000}-\\\\u{8FFFD}\\\\u{90000}-\\\\u{9FFFD}\\\\u{A0000}-\\\\u{AFFFD}\\\\u{B0000}-\\\\u{BFFFD}\\\\u{C0000}-\\\\u{CFFFD}\\\\u{D0000}-\\\\u{DFFFD}\\\\u{E1000}-\\\\u{EFFFD}!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=:@]))*)*|\\\\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\\\._~\\\\u{A0}-\\\\u{D7FF}\\\\u{F900}-\\\\u{FDCF}\\\\u{FDF0}-\\\\u{FFEF}\\\\u{10000}-\\\\u{1FFFD}\\\\u{20000}-\\\\u{2FFFD}\\\\u{30000}-\\\\u{3FFFD}\\\\u{40000}-\\\\u{4FFFD}\\\\u{50000}-\\\\u{5FFFD}\\\\u{60000}-\\\\u{6FFFD}\\\\u{70000}-\\\\u{7FFFD}\\\\u{80000}-\\\\u{8FFFD}\\\\u{90000}-\\\\u{9FFFD}\\\\u{A0000}-\\\\u{AFFFD}\\\\u{B0000}-\\\\u{BFFFD}\\\\u{C0000}-\\\\u{CFFFD}\\\\u{D0000}-\\\\u{DFFFD}\\\\u{E1000}-\\\\u{EFFFD}!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=:@]))+)(?:\\\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\\\._~\\\\u{A0}-\\\\u{D7FF}\\\\u{F900}-\\\\u{FDCF}\\\\u{FDF0}-\\\\u{FFEF}\\\\u{10000}-\\\\u{1FFFD}\\\\u{20000}-\\\\u{2FFFD}\\\\u{30000}-\\\\u{3FFFD}\\\\u{40000}-\\\\u{4FFFD}\\\\u{50000}-\\\\u{5FFFD}\\\\u{60000}-\\\\u{6FFFD}\\\\u{70000}-\\\\u{7FFFD}\\\\u{80000}-\\\\u{8FFFD}\\\\u{90000}-\\\\u{9FFFD}\\\\u{A0000}-\\\\u{AFFFD}\\\\u{B0000}-\\\\u{BFFFD}\\\\u{C0000}-\\\\u{CFFFD}\\\\u{D0000}-\\\\u{DFFFD}\\\\u{E1000}-\\\\u{EFFFD}!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=:@]))*)*)?|(?:(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\\\._~\\\\u{A0}-\\\\u{D7FF}\\\\u{F900}-\\\\u{FDCF}\\\\u{FDF0}-\\\\u{FFEF}\\\\u{10000}-\\\\u{1FFFD}\\\\u{20000}-\\\\u{2FFFD}\\\\u{30000}-\\\\u{3FFFD}\\\\u{40000}-\\\\u{4FFFD}\\\\u{50000}-\\\\u{5FFFD}\\\\u{60000}-\\\\u{6FFFD}\\\\u{70000}-\\\\u{7FFFD}\\\\u{80000}-\\\\u{8FFFD}\\\\u{90000}-\\\\u{9FFFD}\\\\u{A0000}-\\\\u{AFFFD}\\\\u{B0000}-\\\\u{BFFFD}\\\\u{C0000}-\\\\u{CFFFD}\\\\u{D0000}-\\\\u{DFFFD}\\\\u{E1000}-\\\\u{EFFFD}!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=:@]))+)(?:\\\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\\\._~\\\\u{A0}-\\\\u{D7FF}\\\\u{F900}-\\\\u{FDCF}\\\\u{FDF0}-\\\\u{FFEF}\\\\u{10000}-\\\\u{1FFFD}\\\\u{20000}-\\\\u{2FFFD}\\\\u{30000}-\\\\u{3FFFD}\\\\u{40000}-\\\\u{4FFFD}\\\\u{50000}-\\\\u{5FFFD}\\\\u{60000}-\\\\u{6FFFD}\\\\u{70000}-\\\\u{7FFFD}\\\\u{80000}-\\\\u{8FFFD}\\\\u{90000}-\\\\u{9FFFD}\\\\u{A0000}-\\\\u{AFFFD}\\\\u{B0000}-\\\\u{BFFFD}\\\\u{C0000}-\\\\u{CFFFD}\\\\u{D0000}-\\\\u{DFFFD}\\\\u{E1000}-\\\\u{EFFFD}!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\\\._~\\\\u{A0}-\\\\u{D7FF}\\\\u{F900}-\\\\u{FDCF}\\\\u{FDF0}-\\\\u{FFEF}\\\\u{10000}-\\\\u{1FFFD}\\\\u{20000}-\\\\u{2FFFD}\\\\u{30000}-\\\\u{3FFFD}\\\\u{40000}-\\\\u{4FFFD}\\\\u{50000}-\\\\u{5FFFD}\\\\u{60000}-\\\\u{6FFFD}\\\\u{70000}-\\\\u{7FFFD}\\\\u{80000}-\\\\u{8FFFD}\\\\u{90000}-\\\\u{9FFFD}\\\\u{A0000}-\\\\u{AFFFD}\\\\u{B0000}-\\\\u{BFFFD}\\\\u{C0000}-\\\\u{CFFFD}\\\\u{D0000}-\\\\u{DFFFD}\\\\u{E1000}-\\\\u{EFFFD}!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=:@])))(?:\\\\?(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\\\._~\\\\u{A0}-\\\\u{D7FF}\\\\u{F900}-\\\\u{FDCF}\\\\u{FDF0}-\\\\u{FFEF}\\\\u{10000}-\\\\u{1FFFD}\\\\u{20000}-\\\\u{2FFFD}\\\\u{30000}-\\\\u{3FFFD}\\\\u{40000}-\\\\u{4FFFD}\\\\u{50000}-\\\\u{5FFFD}\\\\u{60000}-\\\\u{6FFFD}\\\\u{70000}-\\\\u{7FFFD}\\\\u{80000}-\\\\u{8FFFD}\\\\u{90000}-\\\\u{9FFFD}\\\\u{A0000}-\\\\u{AFFFD}\\\\u{B0000}-\\\\u{BFFFD}\\\\u{C0000}-\\\\u{CFFFD}\\\\u{D0000}-\\\\u{DFFFD}\\\\u{E1000}-\\\\u{EFFFD}!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=:@])|[\\\\u{E000}-\\\\u{F8FF}\\\\u{F0000}-\\\\u{FFFFD}\\\\u{100000}-\\\\u{10FFFD}\\\\/\\\\?])*)?(?:#(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\\\._~\\\\u{A0}-\\\\u{D7FF}\\\\u{F900}-\\\\u{FDCF}\\\\u{FDF0}-\\\\u{FFEF}\\\\u{10000}-\\\\u{1FFFD}\\\\u{20000}-\\\\u{2FFFD}\\\\u{30000}-\\\\u{3FFFD}\\\\u{40000}-\\\\u{4FFFD}\\\\u{50000}-\\\\u{5FFFD}\\\\u{60000}-\\\\u{6FFFD}\\\\u{70000}-\\\\u{7FFFD}\\\\u{80000}-\\\\u{8FFFD}\\\\u{90000}-\\\\u{9FFFD}\\\\u{A0000}-\\\\u{AFFFD}\\\\u{B0000}-\\\\u{BFFFD}\\\\u{C0000}-\\\\u{CFFFD}\\\\u{D0000}-\\\\u{DFFFD}\\\\u{E1000}-\\\\u{EFFFD}!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=:@])|[\\\\/\\\\?])*)?$\", \"ui\");\n} catch (e) {\n    // Fallback to simple validation, works in all browsers\n    iriRegExp = new RegExp(\"^[a-z](?:[-a-z0-9\\\\+\\\\.])*:\", \"i\");\n}\n\nfunction UriUtils() {\n    function validateRdfUri(value) {\n        const hasAngleBrackets = value.indexOf(\"<\") >= 0 && value.indexOf(\">\") >= 0;\n        const noAngleBrackets = value.indexOf(\"<\") === -1 && value.lastIndexOf(\">\") === -1;\n        const validProtocol = /^<?(http|urn).*>?/.test(value) && (hasAngleBrackets || noAngleBrackets);\n        let validPath = false;\n        if (validProtocol) {\n            if (value.indexOf(\"http\") >= 0) {\n                const schemaSlashesIdx = value.indexOf('//');\n                validPath = schemaSlashesIdx > 4\n                    && value.substring(schemaSlashesIdx + 2).length > 0;\n            } else if (value.indexOf(\"urn\") >= 0) {\n                validPath = value.substring(4).length > 0;\n            }\n        }\n        return validProtocol && validPath;\n    }\n\n    function isValidIri(iri) {\n        return iri !== undefined && !!iri.match(iriRegExp);\n    }\n\n    return {\n        isValidIri: isValidIri,\n        validateRdfUri: validateRdfUri\n    };\n}\n","// This is a rework of the ng-FitText.js which can be found here https://github.com/patrickmarabeas/ng-FitText.js\nangular\n    .module('graphdb.framework.core.directives.fittext', [])\n    .directive('fitText', fitTextDirective);\n\nfitTextDirective.$inject = ['$timeout'];\n\nfunction fitTextDirective($timeout) {\n    return {\n        restrict: 'A',\n        scope: {\n            min: '=',\n            max: '='\n        },\n        link: function (scope, element, attrs) {\n\n            const config = {\n                'debounce': _.debounce,\n                'delay': 100,\n                'loadDelay': 10,\n                'compressor': 1,\n                'min': attrs.fitTextMin || 'inherit',\n                'max': attrs.fitTextMax || 'inherit',\n                'calcSize': 10,\n                'lines': 1\n            };\n\n            const parent = element.parent();\n            const domElem = element[0];\n            const domElemStyle = domElem.style;\n            const computed = window.getComputedStyle(element[0], null);\n            const newlines = element.children().length || config.lines;\n            const minFontSize = config.min === 'inherit' ? computed['font-size'] : config.min;\n            const maxFontSize = config.max === 'inherit' ? computed['font-size'] : config.max;\n            const lineHeight = computed['line-height'];\n            const display = computed['display'];\n            let resizePromise;\n\n            function calculate() {\n                const ratio = (config.calcSize * newlines) / domElem.offsetWidth / newlines;\n                return Math.max(Math.min(getMaxFontSize(ratio), parseFloat(maxFontSize)), parseFloat(minFontSize));\n            }\n\n            function getMaxFontSize(ratio) {\n                const paddingLeft = parseFloat(getComputedStyle(parent[0]).paddingLeft);\n                const paddingRight = parseFloat(getComputedStyle(parent[0]).paddingRight);\n\n                return (parent[0].offsetWidth - (paddingLeft + paddingRight)) * ratio * config.compressor;\n            }\n\n            function resize() {\n                if (domElem.offsetHeight * domElem.offsetWidth === 0) {\n                    return;\n                }\n\n                // Preset standard values for making the size calculation\n                domElemStyle.fontSize = config.calcSize + 'px';\n                domElemStyle.lineHeight = '1';\n                domElemStyle.display = 'inline-block';\n\n                // Set usage values\n                domElemStyle.fontSize = calculate() + 'px';\n                domElemStyle.lineHeight = lineHeight;\n                domElemStyle.display = display;\n            }\n\n            function resizer() {\n                if (resizePromise) {\n                    $timeout.cancel(resizePromise);\n                }\n\n                resizePromise = $timeout(function () {\n                    resize();\n                }, config.loadDelay);\n            }\n\n            scope.$watch(function () {\n                return [\n                    parent[0].offsetWidth,\n                    element[0].offsetWidth\n                ].join('_');\n            }, function () {\n                resizer();\n            });\n\n            $(window).on('resize', config.debounce(function () {\n                scope.$apply(resizer)\n            }, config.delay));\n\n            scope.$on('$destroy', function () {\n                if (resizePromise) {\n                    $timeout.cancel(resizePromise);\n                }\n                $(window).off('resize');\n            });\n        }\n    };\n}\n","angular\n    .module('graphdb.framework.explore.services', [])\n    .factory('StatementsService', StatementsService);\n\nStatementsService.$inject = [];\n\nfunction StatementsService() {\n    function transformToTrig(statements) {\n        let data = '';\n        const contexts = {};\n\n        for (let i = 0; i < statements.length; i++) {\n            const statement = statements[i];\n            if (statement.context === undefined) {\n                statement.context = '';\n            } else {\n                statement.context = _.trim(statement.context);\n            }\n            if (angular.isUndefined(contexts[statement.context])) {\n                const cstatement = [];\n                cstatement.push(statement);\n                contexts[statement.context] = cstatement;\n            } else {\n                contexts[statement.context].push(statement);\n            }\n        }\n\n        const ckeys = Object.keys(contexts);\n        for (let i = 0; i < ckeys.length; i++) {\n            const key = ckeys[i];\n            if (key === '') {\n                data += '\\n{';\n            } else {\n                data += '\\n<' + key + '> {';\n            }\n\n            const value = contexts[key];\n            for (let j = 0; j < value.length; j++) {\n                const statement = value[j];\n                data += '\\n\\t<' + statement.subject + '> <' + statement.predicate + '> ';\n                if (statement.object.type === 'uri') {\n                    data += '<' + statement.object.value + '> .';\n                } else {\n                    data += '\"' + statement.object.value + '\"' + (statement.object.datatype ? '^^<' + statement.object.datatype + '>' : (statement.object.lang ? '@' + statement.object.lang : '')) + ' .';\n                }\n            }\n\n            data += '\\n}';\n        }\n\n        return data;\n    }\n\n    function buildStatements(res, uri) {\n        const statements = [];\n        if (!_.isEmpty(res.data)) {\n            const graph = res.data[uri];\n            const predicates = Object.keys(graph);\n            for (let i = 0; i < predicates.length; i++) {\n                const predicate = predicates[i];\n                const objects = graph[predicate];\n                for (let j = 0; j < objects.length; j++) {\n                    const object = objects[j];\n                    for (let k = 0; k < object.graphs.length; k++) {\n                        let context = object.graphs[k];\n                        if (context === 'http://www.ontotext.com/explicit') {\n                            // Statements in the default context are special\n                            context = '';\n                        }\n                        if (object.lang) {\n                            object.datatype = '';\n                        }\n                        if (!object.datatype) {\n                            object.datatype = '';\n                        }\n                        statements.push({\n                            subject: uri,\n                            predicate: predicate,\n                            object: {\n                                value: object.value,\n                                type: object.type,\n                                datatype: object.datatype,\n                                lang: object.lang\n                            },\n                            context: context\n                        });\n                    }\n                }\n            }\n        }\n        return statements;\n    }\n\n    function getDatatypeOptions() {\n        return [\n            {\n                value: '',\n                label: 'string'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#boolean',\n                label: 'boolean'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#decimal',\n                label: 'decimal'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#integer',\n                label: 'integer'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#double',\n                label: 'double'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#float',\n                label: 'float'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#date',\n                label: 'date'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#time',\n                label: 'time'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#dateTime',\n                label: 'date time'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#byte',\n                label: 'byte'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#short',\n                label: 'short'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#int',\n                label: 'int'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#long',\n                label: 'long'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#unsignedByte',\n                label: 'unsigned byte'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#unsignedShort',\n                label: 'unsigned short'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#unsignedInt',\n                label: 'unsigned int'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#unsignedLong',\n                label: 'unsigned long'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#positoveInteger',\n                label: 'positive integer'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#nonNegativeInteger',\n                label: 'non-negative integer'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#negativeInteger',\n                label: 'negative integer'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#nonPositiveInteger',\n                label: 'non-positive integer'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#gYear',\n                label: 'gYear'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#gMonth',\n                label: 'gMonth'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#gDay',\n                label: 'gDay'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#gYearMonth',\n                label: 'gYearMonth'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#gMonthDay',\n                label: 'gMonthDay'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#duration',\n                label: 'duration'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#hexBinary',\n                label: 'hex binary'\n            }, {\n                value: 'http://www.w3.org/2001/XMLSchema#base64Binary',\n                label: 'base64 binary'\n            }\n        ];\n    }\n\n    return {\n        transformToTrig: transformToTrig,\n        buildStatements: buildStatements,\n        getDatatypeOptions: getDatatypeOptions\n    };\n}\n","import 'angular/utils/uri-utils';\n\nconst exploreDirectives = angular.module('graphdb.framework.explore.directives', [\n    'graphdb.framework.utils.uriutils'\n]);\n\nexploreDirectives.directive('uri', ['UriUtils', function (UriUtils) {\n    return {\n        require: 'ngModel',\n        link: function (scope, elem, attr, ngModel) {\n\n            //For DOM -> model validation\n            ngModel.$parsers.unshift(function (value) {\n                if (!angular.isUndefined(value) && value.length > 0) {\n                    const isValidUri = UriUtils.validateRdfUri(value);\n                    ngModel.$setValidity('searchStr', isValidUri);\n                    return isValidUri ? value : undefined;\n                } else {\n                    ngModel.$setValidity('searchStr', true);\n                    return value;\n                }\n            });\n\n            //For model -> DOM validation\n            ngModel.$formatters.unshift(function (value) {\n                if (!angular.isUndefined(value)) {\n                    ngModel.$setValidity('searchStr', UriUtils.validateRdfUri);\n                }\n                return value;\n            });\n        }\n    };\n}]);\n","import 'angular/core/services';\nimport 'angular/core/directives';\nimport 'angular/explore/statements.service';\nimport 'angular/explore/controllers';\nimport 'angular/explore/directives';\nimport 'angular-xeditable/dist/js/xeditable.min';\nimport 'lib/angucomplete-alt/angucomplete-alt-onto.min';\nimport 'angular/core/directives/fit-text.directive';\n\nconst modules = [\n    'ngRoute',\n    'toastr',\n    'xeditable',\n    'angucomplete-alt-onto',\n    'graphdb.framework.explore.services',\n    'graphdb.framework.explore.controllers',\n    'graphdb.framework.explore.directives',\n    'graphdb.framework.core.directives.fittext'\n];\n\nangular.module('graphdb.framework.explore', modules);\n"],"sourceRoot":""}