{"version":3,"sources":["webpack:///./src/js/lib/FileSaver-patch.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./src/js/angular/utils/file-types.js","webpack:///./src/js/angular/core/directives/paginations.js","webpack:///./src/js/angular/export/controllers.js","webpack:///./src/js/angular/export/app.js"],"names":["saveAs","view","navigator","test","userAgent","doc","document","get_URL","URL","webkitURL","save_link","createElementNS","webkit_req_fs","webkitRequestFileSystem","req_fs","requestFileSystem","mozRequestFileSystem","throw_outside","ex","setImmediate","setTimeout","fs_min_size","revoke","file","revoker","revokeObjectURL","remove","chrome","dispatch","filesaver","event_types","event","i","concat","length","listener","call","auto_bom","blob","type","Blob","FileSaver","name","object_url","target_view","slice","this","blob_changed","dispatch_all","split","fs_error","createObjectURL","location","href","undefined","open","safari","readyState","DONE","abortable","func","apply","arguments","create_if_not_found","create","exclusive","INIT","download","node","MouseEvent","dispatchEvent","webkitSlice","size","TEMPORARY","fs","root","getDirectory","dir","save","getFile","createWriter","writer","onwriteend","toURL","onerror","error","code","ABORT_ERR","forEach","write","abort","WRITING","NOT_FOUND_ERR","FS_proto","prototype","msSaveOrOpenBlob","onwritestart","onprogress","onwrite","onabort","self","window","content","module","exports","Error","__webpack_amd_options__","angular","value","extension","directive","template","controller","$scope","$http","$location","$timeout","ModalService","filterFilter","$repositories","toastr","RDF4JRepositoriesRestService","FileTypes","getActiveRepository","exportFormats","deleting","showExportDDTooltip","page","pageSize","pageSizeOptions","displayGraphs","exportFilter","export","exportMultipleGraphs","repoExportFormat","selectedGraphs","exportGraphs","$watch","getGraphs","selectedAll","changePageSize","isShacl","iri","loader","success","data","results","bindings","unshift","contextID","graphsByValue","Object","keys","key","binding","uri","encodeURIComponent","clearUri","exportUri","longName","graphs","filteredGraphs","copy","matchedElements","status","msg","getError","setRepository","onGraphSearch","deselectAll","filterResults","item","indexOf","push","downloadExport","downloadUrl","format","url","auth","localStorage","getItem","openExportDDTooltip","$","trigger","exportRepo","openSimpleModal","title","message","warning","result","then","startDownload","hasMultipleSelected","_","isEmpty","index","exportSelectedGraphs","contextStr","substring","element","find","valueOfFilteredGraphsButton","innerHTML","trim","valueOfFilteredGraphs","changePagination","isDefined","removeClass","checkAll","dropRepository","canWriteActiveRepo","addStatements","err","dropContext","ctx","updateResults","dropGraph","selectedGraphsForDelete","counterOfClearedGraphs","dropSelectedGraphs","config","$tooltipProvider","setTriggers"],"mappings":"wFAAA,MAcIA,EAASA,GAAW,SAASC,GAChC,aAEA,GAAyB,oBAAdC,YAA6B,eAAeC,KAAKD,UAAUE,WAAtE,CAGA,IACGC,EAAMJ,EAAKK,SAEXC,EAAU,WACX,OAAON,EAAKO,KAAOP,EAAKQ,WAAaR,GAEpCS,EAAYL,EAAIM,gBAAgB,+BAAgC,KAMhEC,EAAgBX,EAAKY,wBACrBC,EAASb,EAAKc,mBAAqBH,GAAiBX,EAAKe,qBACzDC,EAAgB,SAASC,IACzBjB,EAAKkB,cAAgBlB,EAAKmB,aAAY,WACtC,MAAMF,IACJ,IAGFG,EAAc,EAKdC,EAAS,SAASC,GACnB,IAAIC,EAAU,WACO,iBAATD,EACVhB,IAAUkB,gBAAgBF,GAE1BA,EAAKG,UAGHzB,EAAK0B,OACRH,IAEAJ,WAAWI,EAZgB,MAe3BI,EAAW,SAASC,EAAWC,EAAaC,GAG7C,IADA,IAAIC,GADJF,EAAc,GAAGG,OAAOH,IACJI,OACbF,KAAK,CACX,IAAIG,EAAWN,EAAU,KAAOC,EAAYE,IAC5C,GAAwB,mBAAbG,EACV,IACCA,EAASC,KAAKP,EAAWE,GAASF,GACjC,MAAOX,GACRD,EAAcC,MAKhBmB,EAAW,SAASC,GAErB,MAAI,6EAA6EnC,KAAKmC,EAAKC,MACnF,IAAIC,KAAK,CAAC,SAAUF,GAAO,CAACC,KAAMD,EAAKC,OAExCD,GAENG,EAAY,SAASH,EAAMI,GAC5BJ,EAAOD,EAASC,GAEhB,IAIGK,EACAC,EA+BAC,EAnCAhB,EAAYiB,KACZP,EAAOD,EAAKC,KACZQ,GAAe,EAGfC,EAAe,WAChBpB,EAASC,EAAW,qCAAqCoB,MAAM,OAG9DC,EAAW,aAERH,GAAiBJ,IACpBA,EAAapC,IAAU4C,gBAAgBb,IAEpCM,GACHA,EAAYQ,SAASC,KAAOV,EAGbW,MADDrD,EAAKsD,KAAKZ,EAAY,WACU,oBAAXa,SAElCvD,EAAKmD,SAASC,KAAOV,GAGvBd,EAAU4B,WAAa5B,EAAU6B,KACjCV,IACA1B,EAAOqB,IAENgB,EAAY,SAASC,GACtB,OAAO,WACN,GAAI/B,EAAU4B,aAAe5B,EAAU6B,KACtC,OAAOE,EAAKC,MAAMf,KAAMgB,aAIzBC,EAAsB,CAACC,QAAQ,EAAMC,WAAW,GAOnD,GAJApC,EAAU4B,WAAa5B,EAAUqC,KAC5BxB,IACJA,EAAO,YAEJhC,EAWH,OAVAiC,EAAapC,IAAU4C,gBAAgBb,GAEvC5B,EAAU2C,KAAOV,EACjBjC,EAAUyD,SAAWzB,OACrBtB,YAAW,WAtGH,IAASgD,EACdrC,EADcqC,EAuGV1D,EAtGJqB,EAAQ,IAAIsC,WAAW,SAC3BD,EAAKE,cAAcvC,GAsGjBiB,IACA1B,EAAOqB,GACPd,EAAU4B,WAAa5B,EAAU6B,QAS/BzD,EAAK0B,QAAUY,GAxGI,6BAwGIA,IAC1BM,EAAQP,EAAKO,OAASP,EAAKiC,YAC3BjC,EAAOO,EAAMT,KAAKE,EAAM,EAAGA,EAAKkC,KA1GV,4BA2GtBzB,GAAe,GAKZnC,GAA0B,aAAT8B,IACpBA,GAAQ,cAjHc,6BAmHnBH,GAAgC3B,KACnCgC,EAAc3C,GAEVa,GAILO,GAAeiB,EAAKkC,KACpB1D,EAAOb,EAAKwE,UAAWpD,EAAasC,GAAU,SAASe,GACtDA,EAAGC,KAAKC,aAAa,QAASb,EAAqBJ,GAAU,SAASkB,GACrE,IAAIC,EAAO,WACVD,EAAIE,QAAQrC,EAAMqB,EAAqBJ,GAAU,SAASpC,GACzDA,EAAKyD,aAAarB,GAAU,SAASsB,GACpCA,EAAOC,WAAa,SAASnD,GAC5Ba,EAAYQ,SAASC,KAAO9B,EAAK4D,QACjCtD,EAAU4B,WAAa5B,EAAU6B,KACjC9B,EAASC,EAAW,WAAYE,GAChCT,EAAOC,IAER0D,EAAOG,QAAU,WAChB,IAAIC,EAAQJ,EAAOI,MACfA,EAAMC,OAASD,EAAME,WACxBrC,KAGF,kCAAkCD,MAAM,KAAKuC,SAAQ,SAASzD,GAC7DkD,EAAO,KAAOlD,GAASF,EAAU,KAAOE,MAEzCkD,EAAOQ,MAAMnD,GACbT,EAAU6D,MAAQ,WACjBT,EAAOS,QACP7D,EAAU4B,WAAa5B,EAAU6B,MAElC7B,EAAU4B,WAAa5B,EAAU8D,WAC9BzC,MACDA,IAEL2B,EAAIE,QAAQrC,EAAM,CAACsB,QAAQ,GAAQL,GAAU,SAASpC,GAErDA,EAAKG,SACLoD,OACGnB,GAAU,SAASzC,GAClBA,EAAGoE,OAASpE,EAAG0E,cAClBd,IAEA5B,WAGCA,MACDA,IA7CHA,KA+CA2C,EAAWpD,EAAUqD,UAMxB,MAAyB,oBAAd5F,WAA6BA,UAAU6F,iBAC1C,SAASzD,EAAMI,GACrB,OAAOxC,UAAU6F,iBAAiB1D,EAASC,GAAOI,KAIpDmD,EAASH,MAAQ,WACA5C,KACNW,WADMX,KACiBY,KACjC9B,EAFgBkB,KAEI,UAErB+C,EAASpC,WAAaoC,EAAS3B,KAAO,EACtC2B,EAASF,QAAU,EACnBE,EAASnC,KAAO,EAEhBmC,EAASR,MACTQ,EAASG,aACTH,EAASI,WACTJ,EAASK,QACTL,EAASM,QACTN,EAAST,QACTS,EAASX,WACR,KA3BW,SAAS5C,EAAMI,GACzB,OAAO,IAAID,EAAUH,EAAMI,MAjMP,CA+NH,oBAAT0D,MAAwBA,MACb,oBAAXC,QAA0BA,QACjCvD,KAAKwD;mFAM4BC,EAAOC,QAC1CD,EAAOC,QAAQxG,OAASA,EAC8B,OAAX,QAAmC,MAAd,cAG/D,KAFU,EAAF,WACP,OAAOA,GACR,QAFM,OAEN,e,kBC1PHuG,EAAOC,QAAU,WAChB,MAAM,IAAIC,MAAM,oC,mBCDjB,YACAF,EAAOC,QAAUE,I,gCCDjBC,QAAQJ,OAAO,oCAAqC,IAC/CK,MAAM,YAAa,CAChB,CAAClE,KAAM,OAAQH,KAAM,uBAAwBsE,UAAW,SACxD,CAACnE,KAAM,UAAWH,KAAM,sBAAuBsE,UAAW,WAC1D,CAACnE,KAAM,UAAWH,KAAM,sBAAuBsE,UAAW,QAC1D,CAACnE,KAAM,KAAMH,KAAM,cAAesE,UAAW,OAC7C,CAACnE,KAAM,YAAaH,KAAM,aAAcsE,UAAW,OACnD,CAACnE,KAAM,UAAWH,KAAM,gBAAiBsE,UAAW,OACpD,CAACnE,KAAM,SAAUH,KAAM,cAAesE,UAAW,QACjD,CAACnE,KAAM,UAAWH,KAAM,2BAA4BsE,UAAW,SAC/D,CAACnE,KAAM,OAAQH,KAAM,mBAAoBsE,UAAW,SACpD,CAACnE,KAAM,OAAQH,KAAM,qBAAsBsE,UAAW,SACtD,CAACnE,KAAM,QAASH,KAAM,yBAA0BsE,UAAW,UAC3D,CAACnE,KAAM,aAAcH,KAAM,2BAA4BsE,UAAW,W,iBCb1EF,QAAQJ,OAAO,gDAAiD,IAC3DO,UAAU,eAAe,WACtB,MAAO,CACHC,SAAU,iP,gCCHtB,4BAcmBJ,QAAQJ,OAAO,6CATlB,CACZ,YACA,eACA,SACA,+CACA,0CACA,sCAKOS,WAAW,aAClB,CAAC,SAAU,QAAS,YAAa,WAAY,eAAgB,eAAgB,gBAAiB,SAAU,+BAAgC,YACpI,SAAUC,EAAQC,EAAOC,EAAWC,EAAUC,EAAcC,EAAcC,EAAeC,EAAQC,EAA8BC,GAE3HT,EAAOU,oBAAsB,WACzB,OAAOJ,EAAcI,uBAGzBV,EAAOW,cAAgBF,EACvBT,EAAOY,SAAW,GAClBZ,EAAOa,qBAAsB,EAC7Bb,EAAOc,KAAO,EACdd,EAAOe,SAAW,GAClBf,EAAOgB,gBAAkB,CAAC,GAAI,GAAI,GAAI,KACtChB,EAAOiB,cAAgB,GACvBjB,EAAOkB,aAAe,GACtBlB,EAAOmB,QAAS,EAChBnB,EAAOoB,sBAAuB,EAC9BpB,EAAOqB,iBAAmB,CACtB5F,KAAM,OACNH,KAAM,qBACNsE,UAAW,SAEfI,EAAOsB,eAAiB,CACpBC,aAAc,IAGlBvB,EAAOwB,QAAO,WACV,OAAOlB,EAAcI,yBACtB,WACCV,EAAOkB,aAAe,GACtBlB,EAAOyB,YACPzB,EAAO0B,aAAc,EACrBvB,GAAS,WACLH,EAAO2B,eAAe,MACvB,QAGP3B,EAAO4B,QAAU,SAAUC,GACvB,MAAe,8DAARA,GAIX7B,EAAOyB,UAAY,WACXzB,EAAOU,uBACPV,EAAO8B,QAAS,EAChBtB,EAA6BiB,UAAUzB,EAAOU,uBAAuBqB,SAAQ,SAAUC,GACnFA,EAAKC,QAAQC,SAASC,QAAQ,CAC1BC,UAAW,CACP9G,KAAM,UACNqE,MAAO,uBAGfK,EAAOqC,cAAgB,GACvBC,OAAOC,KAAKP,EAAKC,QAAQC,UAAU3D,SAAQ,SAAUiE,GACjD,MAAMC,EAAUT,EAAKC,QAAQC,SAASM,GACP,UAA3BC,EAAQL,UAAU9G,KAClBmH,EAAQL,UAAUzC,MAAQ,KAAO8C,EAAQL,UAAUzC,MACjB,YAA3B8C,EAAQL,UAAU9G,MACzBmH,EAAQL,UAAUM,IAAMC,mBAAmB,4CAC3CF,EAAQL,UAAUQ,SAAW,UAC7BH,EAAQL,UAAUS,UAAY,OAC9BJ,EAAQL,UAAUU,SAAW,kBAE7BL,EAAQL,UAAUM,IAAMC,mBAAmBF,EAAQL,UAAUzC,OAC7D8C,EAAQL,UAAUQ,SAAW,UAAYH,EAAQL,UAAUzC,MAAQ,IACnE8C,EAAQL,UAAUS,UAAYF,mBAAmB,IAAMF,EAAQL,UAAUzC,MAAQ,KACjF8C,EAAQL,UAAUU,SAAW,eAAiBL,EAAQL,UAAUzC,OAEpEK,EAAOqC,cAAcI,EAAQL,UAAUzC,OAAS8C,EAAQL,aAE5DpC,EAAO+C,OAASf,EAAKC,QAAQC,SAC7BlC,EAAOgD,eAAiBtD,QAAQuD,KAAKjD,EAAO+C,QAC5C/C,EAAOiB,cAAgBjB,EAAOgD,eAAepH,MAAMoE,EAAOe,UAAYf,EAAOc,KAAO,GAAId,EAAOe,SAAWf,EAAOc,MACjHd,EAAO8B,QAAS,EAChB9B,EAAOsB,eAAeC,aAAe,GACrCvB,EAAOkD,gBAAkBlD,EAAO+C,UACjC3E,OAAM,SAAU4D,EAAMmB,GACrB,MAAMC,EAAMC,SAASrB,EAAMmB,GACf,iCAARC,IACA9C,EAAcgD,cAAc,IAC5B/C,EAAOnC,MAAMgF,EAAK,UAEtBpD,EAAO8B,QAAS,MAGpB9B,EAAO8B,QAAS,GAIxB9B,EAAOuD,cAAgB,WACnBvD,EAAOkD,gBAAkB,GACzBlD,EAAOwD,cACPxD,EAAOyD,iBAGXzD,EAAOyD,cAAgB,WACnB/D,QAAQnB,QAAQyB,EAAO+C,QAAQ,SAAUW,IACsB,IAAvDA,EAAKtB,UAAUzC,MAAMgE,QAAQ3D,EAAOkB,eACpClB,EAAOkD,gBAAgBU,KAAKF,OAKxC1D,EAAO6D,eAAiB,SAAUC,EAAaC,GAC3C,IAAIC,EAAMF,EAAc,WAAanB,mBAAmBoB,EAAOzI,MAC/D,MAAM2I,EAAOC,aAAaC,QAAQ,6BAC9BF,IACAD,EAAMA,EAAM,cAAgBrB,mBAAmBsB,IAEnD7E,OAAO9C,KAAK0H,IAIhBhE,EAAOoE,oBAAsB,WACrBpE,EAAOa,sBACPV,GAAS,WACLkE,EAAE,kBAAkBC,QAAQ,yBAC7B,GACHnE,GAAS,WACLkE,EAAE,kBAAkBC,QAAQ,yBAC7B,KAGHtE,EAAOa,qBAAsB,IAMrCb,EAAOuE,WAAa,SAAUR,EAAQ3B,GACd,wBAAhB2B,EAAOzI,MAAkD,eAAhByI,EAAOzI,MAAyC,gBAAhByI,EAAOzI,MAA0C,6BAAhByI,EAAOzI,MAAuD,gBAAhByI,EAAOzI,KAC/J8E,EAAaoE,gBAAgB,CACzBC,MAAO,UACPC,QAAS,iGACTC,SAAS,IACVC,OACEC,MAAK,WACF7E,EAAO8E,cAAcf,EAAQ3B,MAGrCpC,EAAO8E,cAAcf,EAAQ3B,IAIrCpC,EAAO8E,cAAgB,SAAUf,EAAQ3B,GAErC,IAAI0B,EAEAA,EADA1B,EACc,gBAAkBpC,EAAOU,sBAAwB,mCAAqCV,EAAOqC,cAAcD,EAAUzC,OAAOkD,UAE5H,gBAAkB7C,EAAOU,sBAAwB,0BAEnEV,EAAO6D,eAAeC,EAAaC,IAGvC/D,EAAO+E,oBAAsB,WACzB,GAAIC,EAAEC,QAAQjF,EAAOsB,eAAeC,cAChC,OAAQyD,EAAEC,QAAQjF,EAAOsB,eAAeC,cAExC,IAAK,MAAM2D,KAASlF,EAAOsB,eAAeC,aACtC,IAAkD,IAA9CvB,EAAOsB,eAAeC,aAAa2D,GACnC,OAAO,EAGf,OAAO,GAIflF,EAAOmF,qBAAuB,SAAUpB,GACpC,IAAIqB,EAAa,GACjB,IAAK,MAAMF,KAASlF,EAAOsB,eAAeC,aAClCvB,EAAOsB,eAAeC,aAAa2D,KACnCE,GAAc,WAAapF,EAAOqC,cAAc6C,GAAOrC,UAAY,KAI3E,GAAIuC,EAAY,CACZ,MAAMN,EAAgB,WAClBM,EAAaA,EAAWC,UAAU,EAAGD,EAAWnK,OAAS,GACzD,MAAM6I,EAAc,gBAAkB9D,EAAOU,sBAAwB,2BAA6B0E,EAClGpF,EAAO6D,eAAeC,EAAaC,IAGnB,wBAAhBA,EAAOzI,MAAkD,eAAhByI,EAAOzI,MAAyC,gBAAhByI,EAAOzI,MAA0C,6BAAhByI,EAAOzI,MAAuD,gBAAhByI,EAAOzI,KAC/J8E,EAAaoE,gBAAgB,CACzBC,MAAO,UACPC,QAAS,iGACTC,SAAS,IACVC,OACEC,MAAK,WACFC,OAGRA,SAGJ1E,EAAaoE,gBAAgB,CACzBC,MAAO,wBACPC,QAAS,yCACTC,SAAS,KAKrB3E,EAAOwB,OAAO,gBAAgB,WAE1B,GADAxB,EAAOgD,eAAiB3C,EAAaL,EAAO+C,OAAQ/C,EAAOkB,cACvDlB,EAAOU,uBAAyBhB,QAAQ4F,QAAQjM,UAAUkM,KAAK,kDAAkDtK,OAAQ,CACzH,MAAMuK,EAA8B9F,QAAQ4F,QAAQjM,UAAUkM,KAAK,kDAAkD,GAAGE,UAAUC,OAClI,IAAIC,EACgC,QAAhCH,IACAG,EAAwB3F,EAAOgD,eAAe/H,QAE9C+E,EAAOgD,gBAAkBhD,EAAOgD,eAAe/H,OAAS+E,EAAOe,UAA4C,QAAhCyE,IAC3EG,EAAwB3F,EAAOe,UAEnCf,EAAO2B,eAAegE,GACtB3F,EAAO4F,uBAIf5F,EAAO4F,iBAAmB,WACtB5F,EAAO0B,aAAc,EACjBhC,QAAQmG,UAAU7F,EAAOgD,kBACzBhD,EAAOiB,cAAgBjB,EAAOgD,eAAepH,MAAMoE,EAAOe,UAAYf,EAAOc,KAAO,GAAId,EAAOe,SAAWf,EAAOc,QAIzHd,EAAO2B,eAAiB,SAAUpE,GAC9B8G,EAAE,uBAAuByB,YAAY,UACrC9F,EAAOc,KAAO,EACVvD,IACAyC,EAAOe,SAAWxD,EAClByC,EAAO4F,oBAEP5F,EAAOgD,gBAA0C,KAAxBhD,EAAOkB,eAChClB,EAAOiB,cAAgBjB,EAAOgD,iBAItChD,EAAO+F,SAAW,WACd/F,EAAO0B,YAAc1B,EAAO0B,cAAe,EAE3ChC,QAAQnB,QAAQyB,EAAOiB,eAAe,SAAUyC,GACxCA,EAAKtB,UAAUM,MACf1C,EAAOsB,eAAeC,aAAamC,EAAKtB,UAAUzC,OAASK,EAAO0B,iBAK9E1B,EAAOwD,YAAc,WACjBxD,EAAO0B,aAAc,EACrBhC,QAAQnB,QAAQyB,EAAOiB,eAAe,SAAUyC,GACxCA,EAAKtB,UAAUM,MACf1C,EAAOsB,eAAeC,aAAamC,EAAKtB,UAAUzC,QAAS,OAKvEK,EAAOgG,eAAiB,WACfhG,EAAOiG,uBAGZjG,EAAOY,SAAS,MAAO,EAEvBR,EAAaoE,gBAAgB,CACzBC,MAAO,2BACPC,QAAS,6CAA+CpE,EAAcI,sBAAwB,IAC9FiE,SAAS,IACVC,OACEC,MAAK,WACF1E,GAAS,WACLK,EAA6B0F,cAAc5F,EAAcI,sBAAuB,oBAC3EmE,MAAK,WACF7E,EAAOY,SAAS,MAAO,EACvBL,EAAOwB,QAAQ,sBAAwBzB,EAAcI,uBACrDV,EAAOyB,eACR,SAAU0E,GACTnG,EAAOY,SAAS,MAAO,EACvBL,EAAOnC,MAAM,8BAAgCkC,EAAcI,sBAAuByF,QAE3F,UAkFfnG,EAAOoG,YAAc,SAAUC,GACtBrG,EAAOiG,uBAGRvG,QAAQmG,UAAUQ,GAlF1B,SAAmBA,GACf,MAAMvD,EAAWuD,EAAIjE,UAAUU,SAC/B9C,EAAOY,SAASyF,IAAO,EACvBjG,EAAaoE,gBAAgB,CACzBC,MAAO,sBACPC,QAAS,sCAAwC5B,EAAW,IAC5D6B,SAAS,IACVC,OACEC,MAAK,WACF1E,GAAS,WACL,MAAM6B,EAAO,gBAAgBqE,EAAIjE,UAAUQ,WAC3CpC,EAA6B0F,cAAc5F,EAAcI,sBAAuBsB,GAC3E6C,MAAK,WACF7E,EAAOY,SAASyF,IAAO,EACvB9F,EAAOwB,QAAQ,eAAiBe,GAChC9C,EAAOyB,YACPzB,EAAOkB,aAAe,GACtBlB,EAAOgD,eAAe/H,OAAS,EAC/B+E,EAAOsG,gBACPtG,EAAO2B,eAAe3B,EAAOe,aAC9B,SAAUoF,GACTnG,EAAOY,SAASyF,IAAO,EACvB9F,EAAOnC,MAAM,uBAAyB0E,EAAUO,SAAS8C,EAAKA,EAAIhD,cAE3E,QACJ,WACCnD,EAAOY,SAASyF,IAAO,KAyD3BE,CAAUF,GArDlB,SAA4BA,GACxB,MAAMG,EAA0B,GAChC9G,QAAQnB,QAAQyB,EAAOsB,eAAeC,cAAc,SAAU5B,EAAO6C,GAC7D7C,GACA6G,EAAwB5C,KAAKpB,MAIjCgE,EAAwBvL,OAAS,IACjC+E,EAAOY,SAASyF,IAAO,EACvBjG,EAAaoE,gBAAgB,CACzBC,MAAO,uBACPC,QAAS,sDACTC,SAAS,IACVC,OAAOC,MAAK,WACX1E,GAAS,WACL,IAAIsG,EAAyB,EAC7B/G,QAAQnB,QAAQiI,GAAyB,SAAUpE,GAC/C,MAAMJ,EAAO,gBAAgBhC,EAAOqC,cAAcD,GAAWQ,WAC7DpC,EAA6B0F,cAAc5F,EAAcI,sBAAuBsB,GAC3E6C,MAAK,WACF7E,EAAO8B,QAAS,EAChB9B,EAAOsB,eAAeC,aAAaa,IAAa,SACzCpC,EAAOsB,eAAeC,aAAaa,GAC1CqE,IACID,EAAwBvL,SAAWwL,IACnCzG,EAAO0B,aAAc,EACrB1B,EAAOkB,aAAe,GACtBlB,EAAOgD,eAAe/H,OAAS,EAC/B+E,EAAOyB,YACPzB,EAAOsG,gBACPtG,EAAO2B,eAAe3B,EAAOe,UAC7BR,EAAOwB,QAAQ,+BACf/B,EAAO8B,QAAS,MAErB,SAAUqE,GACT,MAAMrD,EAAW9C,EAAOqC,cAAcD,GAAWU,SACjDvC,EAAOnC,MAAM,uBAAyB0E,EAAUO,SAAS8C,EAAKA,EAAIhD,SAClEnD,EAAO0B,aAAc,UAGlC,QACJ,WACC1B,EAAOY,SAASyF,IAAO,MAY3BK,CAAmBL,S,gCClYvC,yCAkBkB3G,QAAQJ,OAAO,iCAXjB,CACZ,eACA,SACA,UACA,YACA,6CACA,gDACA,+CACA,sCAKMqH,OAAO,CAAC,mBAAoB,SAAUC,GAE5CA,EAAiBC,YAAY,CAAC,oBAAuB","file":"18.e045a7a0f1de6ae60c0b.bundle.js","sourcesContent":["/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 2015-05-07.2\n *\n * By Eli Grey, http://eligrey.com\n * License: X11/MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, webkit_req_fs = view.webkitRequestFileSystem\n\t\t, req_fs = view.requestFileSystem || webkit_req_fs || view.mozRequestFileSystem\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t, fs_min_size = 0\n\t\t// See https://code.google.com/p/chromium/issues/detail?id=375297#c7 and\n\t\t// https://github.com/eligrey/FileSaver.js/commit/485930a#commitcomment-8768047\n\t\t// for the reasoning behind the timeout and revocation flow\n\t\t, arbitrary_revoke_timeout = 500 // in ms\n\t\t, revoke = function(file) {\n\t\t\tvar revoker = function() {\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (view.chrome) {\n\t\t\t\trevoker();\n\t\t\t} else {\n\t\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t\t}\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, auto_bom = function(blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\treturn new Blob([\"\\ufeff\", blob], {type: blob.type});\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t\t, FileSaver = function(blob, name) {\n\t\t\tblob = auto_bom(blob);\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, blob_changed = false\n\t\t\t\t, object_url\n\t\t\t\t, target_view\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (blob_changed || !object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (target_view) {\n\t\t\t\t\t\ttarget_view.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar new_tab = view.open(object_url, \"_blank\");\n\t\t\t\t\t\tif (new_tab == undefined && typeof safari !== \"undefined\") {\n\t\t\t\t\t\t\t//Apple do not allow window.open, see http://bit.ly/1kZffRI\n\t\t\t\t\t\t\tview.location.href = object_url\n\t\t\t\t\t\t} \n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t}\n\t\t\t\t, abortable = function(func) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif (filesaver.readyState !== filesaver.DONE) {\n\t\t\t\t\t\t\treturn func.apply(this, arguments);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t, create_if_not_found = {create: true, exclusive: false}\n\t\t\t\t, slice\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\tif (!name) {\n\t\t\t\tname = \"download\";\n\t\t\t}\n\t\t\tif (save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t//window.open('data:attachment/csv;charset=utf-8,' + object_url);\n\t\t\t\tsave_link.href = object_url;\n\t\t\t\tsave_link.download = name;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Object and web filesystem URLs have a problem saving in Google Chrome when\n\t\t\t// viewed in a tab, so I force save with application/octet-stream\n\t\t\t// http://code.google.com/p/chromium/issues/detail?id=91158\n\t\t\t// Update: Google errantly closed 91158, I submitted it again:\n\t\t\t// https://code.google.com/p/chromium/issues/detail?id=389642\n\t\t\tif (view.chrome && type && type !== force_saveable_type) {\n\t\t\t\tslice = blob.slice || blob.webkitSlice;\n\t\t\t\tblob = slice.call(blob, 0, blob.size, force_saveable_type);\n\t\t\t\tblob_changed = true;\n\t\t\t}\n\t\t\t// Since I can't be sure that the guessed media type will trigger a download\n\t\t\t// in WebKit, I append .download to the filename.\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=65440\n\t\t\tif (webkit_req_fs && name !== \"download\") {\n\t\t\t\tname += \".download\";\n\t\t\t}\n\t\t\tif (type === force_saveable_type || webkit_req_fs) {\n\t\t\t\ttarget_view = view;\n\t\t\t}\n\t\t\tif (!req_fs) {\n\t\t\t\tfs_error();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfs_min_size += blob.size;\n\t\t\treq_fs(view.TEMPORARY, fs_min_size, abortable(function(fs) {\n\t\t\t\tfs.root.getDirectory(\"saved\", create_if_not_found, abortable(function(dir) {\n\t\t\t\t\tvar save = function() {\n\t\t\t\t\t\tdir.getFile(name, create_if_not_found, abortable(function(file) {\n\t\t\t\t\t\t\tfile.createWriter(abortable(function(writer) {\n\t\t\t\t\t\t\t\twriter.onwriteend = function(event) {\n\t\t\t\t\t\t\t\t\ttarget_view.location.href = file.toURL();\n\t\t\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\t\t\tdispatch(filesaver, \"writeend\", event);\n\t\t\t\t\t\t\t\t\trevoke(file);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\twriter.onerror = function() {\n\t\t\t\t\t\t\t\t\tvar error = writer.error;\n\t\t\t\t\t\t\t\t\tif (error.code !== error.ABORT_ERR) {\n\t\t\t\t\t\t\t\t\t\tfs_error();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\"writestart progress write abort\".split(\" \").forEach(function(event) {\n\t\t\t\t\t\t\t\t\twriter[\"on\" + event] = filesaver[\"on\" + event];\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\twriter.write(blob);\n\t\t\t\t\t\t\t\tfilesaver.abort = function() {\n\t\t\t\t\t\t\t\t\twriter.abort();\n\t\t\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tfilesaver.readyState = filesaver.WRITING;\n\t\t\t\t\t\t\t}), fs_error);\n\t\t\t\t\t\t}), fs_error);\n\t\t\t\t\t};\n\t\t\t\t\tdir.getFile(name, {create: false}, abortable(function(file) {\n\t\t\t\t\t\t// delete file if it already exists\n\t\t\t\t\t\tfile.remove();\n\t\t\t\t\t\tsave();\n\t\t\t\t\t}), abortable(function(ex) {\n\t\t\t\t\t\tif (ex.code === ex.NOT_FOUND_ERR) {\n\t\t\t\t\t\t\tsave();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfs_error();\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t}), fs_error);\n\t\t\t}), fs_error);\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name) {\n\t\t\treturn new FileSaver(blob, name);\n\t\t}\n\t;\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\treturn function(blob, name) {\n\t\t\treturn navigator.msSaveOrOpenBlob(auto_bom(blob), name);\n\t\t};\n\t}\n\n\tFS_proto.abort = function() {\n\t\tvar filesaver = this;\n\t\tfilesaver.readyState = filesaver.DONE;\n\t\tdispatch(filesaver, \"abort\");\n\t};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports.saveAs = saveAs;\n} else if ((typeof define !== \"undefined\" && define !== null) && (define.amd != null)) {\n  define([], function() {\n    return saveAs;\n  });\n}","module.exports = function() {\n\tthrow new Error(\"define cannot be used indirect\");\n};\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","angular.module('graphdb.workbench.utils.filetypes', [])\n    .value('FileTypes', [\n        {name: 'JSON', type: 'application/rdf+json', extension: '.json'},\n        {name: 'JSON-LD', type: 'application/ld+json', extension: '.jsonld'},\n        {name: 'RDF-XML', type: 'application/rdf+xml', extension: '.rdf'},\n        {name: 'N3', type: 'text/rdf+n3', extension: '.n3'},\n        {name: 'N-Triples', type: 'text/plain', extension: '.nt'},\n        {name: 'N-Quads', type: 'text/x-nquads', extension: '.nq'},\n        {name: 'Turtle', type: 'text/turtle', extension: '.ttl'},\n        {name: 'Turtle*', type: 'application/x-turtlestar', extension: '.ttls'},\n        {name: 'TriX', type: 'application/trix', extension: '.trix'},\n        {name: 'TriG', type: 'application/x-trig', extension: '.trig'},\n        {name: 'TriG*', type: 'application/x-trigstar', extension: '.trigs'},\n        {name: 'Binary RDF', type: 'application/x-binary-rdf', extension: '.brf'}\n    ]);\n","angular.module('graphdb.framework.core.directives.paginations', [])\n    .directive('paginations', function () {\n        return {\n            template: '<pagination class=\"nav navbar-right\" total-items=\"matchedElements.length\" items-per-page=\"pageSize\" ng-model=\"page\" ng-change=\"changePagination()\" direction-links=\"false\" boundary-links=\"true\" max-size=\"5\" rotate=\"true\"></pagination>',\n        };\n    });\n","import 'angular/core/services';\nimport 'angular/core/services/repositories.service';\nimport 'angular/core/services/jwt-auth.service';\nimport 'angular/utils/file-types';\n\nconst modules = [\n    'ngCookies',\n    'ui.bootstrap',\n    'toastr',\n    'graphdb.framework.core.services.repositories',\n    'graphdb.framework.core.services.jwtauth',\n    'graphdb.workbench.utils.filetypes'\n];\n\nconst exportCtrl = angular.module('graphdb.framework.impex.export.controllers', modules);\n\nexportCtrl.controller('ExportCtrl',\n    ['$scope', '$http', '$location', '$timeout', 'ModalService', 'filterFilter', '$repositories', 'toastr', 'RDF4JRepositoriesRestService', 'FileTypes',\n        function ($scope, $http, $location, $timeout, ModalService, filterFilter, $repositories, toastr, RDF4JRepositoriesRestService, FileTypes) {\n\n            $scope.getActiveRepository = function () {\n                return $repositories.getActiveRepository();\n            };\n\n            $scope.exportFormats = FileTypes;\n            $scope.deleting = {};\n            $scope.showExportDDTooltip = true;\n            $scope.page = 1;\n            $scope.pageSize = 10;\n            $scope.pageSizeOptions = [10, 20, 50, 100];\n            $scope.displayGraphs = [];\n            $scope.exportFilter = '';\n            $scope.export = true;\n            $scope.exportMultipleGraphs = false;\n            $scope.repoExportFormat = {\n                name: 'TriG',\n                type: 'application/x-trig',\n                extension: '.trig'\n            };\n            $scope.selectedGraphs = {\n                exportGraphs: {}\n            };\n\n            $scope.$watch(function () {\n                return $repositories.getActiveRepository();\n            }, function () {\n                $scope.exportFilter = '';\n                $scope.getGraphs();\n                $scope.selectedAll = false;\n                $timeout(function () {\n                    $scope.changePageSize(10);\n                }, 100);\n            });\n\n            $scope.isShacl = function (iri) {\n                return iri === \"http%3A%2F%2Frdf4j.org%2Fschema%2Frdf4j%23SHACLShapeGraph\";\n            };\n\n            /// <summary>Get Graphs that are part of the Active Repository.</summary>\n            $scope.getGraphs = function () {\n                if ($scope.getActiveRepository()) {\n                    $scope.loader = true;\n                    RDF4JRepositoriesRestService.getGraphs($scope.getActiveRepository()).success(function (data) {\n                        data.results.bindings.unshift({\n                            contextID: {\n                                type: 'default',\n                                value: 'The default graph'\n                            }\n                        });\n                        $scope.graphsByValue = {};\n                        Object.keys(data.results.bindings).forEach(function (key) {\n                            const binding = data.results.bindings[key];\n                            if (binding.contextID.type === 'bnode') {\n                                binding.contextID.value = '_:' + binding.contextID.value;\n                            } else if (binding.contextID.type === 'default') {\n                                binding.contextID.uri = encodeURIComponent('http://www.openrdf.org/schema/sesame#nil');\n                                binding.contextID.clearUri = 'DEFAULT';\n                                binding.contextID.exportUri = 'null';\n                                binding.contextID.longName = 'default graph';\n                            } else {\n                                binding.contextID.uri = encodeURIComponent(binding.contextID.value);\n                                binding.contextID.clearUri = 'GRAPH <' + binding.contextID.value + '>';\n                                binding.contextID.exportUri = encodeURIComponent('<' + binding.contextID.value + '>');\n                                binding.contextID.longName = 'named graph ' + binding.contextID.value;\n                            }\n                            $scope.graphsByValue[binding.contextID.value] = binding.contextID;\n                        });\n                        $scope.graphs = data.results.bindings;\n                        $scope.filteredGraphs = angular.copy($scope.graphs);\n                        $scope.displayGraphs = $scope.filteredGraphs.slice($scope.pageSize * ($scope.page - 1), $scope.pageSize * $scope.page);\n                        $scope.loader = false;\n                        $scope.selectedGraphs.exportGraphs = {};\n                        $scope.matchedElements = $scope.graphs;\n                    }).error(function (data, status) {\n                        const msg = getError(data, status);\n                        if (msg === 'There is no active location!') {\n                            $repositories.setRepository('');\n                            toastr.error(msg, 'Error');\n                        }\n                        $scope.loader = false;\n                    });\n                } else {\n                    $scope.loader = false;\n                }\n            };\n\n            $scope.onGraphSearch = function() {\n                $scope.matchedElements = [];\n                $scope.deselectAll();\n                $scope.filterResults();\n            };\n\n            $scope.filterResults = function() {\n                angular.forEach($scope.graphs, function (item) {\n                    if (item.contextID.value.indexOf($scope.exportFilter) !== -1) {\n                        $scope.matchedElements.push(item);\n                    }\n                });\n            };\n\n            $scope.downloadExport = function (downloadUrl, format) {\n                let url = downloadUrl + '&Accept=' + encodeURIComponent(format.type);\n                const auth = localStorage.getItem('com.ontotext.graphdb.auth');\n                if (auth) {\n                    url = url + '&authToken=' + encodeURIComponent(auth);\n                }\n                window.open(url);\n            };\n\n            /// <summary>Trigger the custom event for DD tooltip.</summary>\n            $scope.openExportDDTooltip = function () {\n                if ($scope.showExportDDTooltip) {\n                    $timeout(function () {\n                        $('#tooltipTarget').trigger('showExportDDTooltip');\n                    }, 0);\n                    $timeout(function () {\n                        $('#tooltipTarget').trigger('showExportDDTooltip');\n                    }, 3000);\n\n                    //Set to false so the tooltip shows only once\n                    $scope.showExportDDTooltip = false;\n\n                }\n            };\n\n            /// <summary>Fill the hidden form and submit it to start download document.</summary>\n            $scope.exportRepo = function (format, contextID) {\n                if (format.type === 'application/rdf+xml' || format.type === 'text/plain' || format.type === 'text/turtle' || format.type === 'application/x-turtlestar' || format.type === 'text/rdf+n3') {\n                    ModalService.openSimpleModal({\n                        title: 'Warning',\n                        message: 'This format does not support graphs.<br>Graph information will not be available in the export.',\n                        warning: true\n                    }).result\n                        .then(function () {\n                            $scope.startDownload(format, contextID);\n                        });\n                } else {\n                    $scope.startDownload(format, contextID);\n                }\n            };\n\n            $scope.startDownload = function (format, contextID) {\n                //If it's graph set the url for ?context=\n                let downloadUrl;\n                if (contextID) {\n                    downloadUrl = 'repositories/' + $scope.getActiveRepository() + '/statements?infer=false&context=' + $scope.graphsByValue[contextID.value].exportUri;\n                } else {\n                    downloadUrl = 'repositories/' + $scope.getActiveRepository() + '/statements?infer=false';\n                }\n                $scope.downloadExport(downloadUrl, format);\n            };\n\n            $scope.hasMultipleSelected = function () {\n                if (_.isEmpty($scope.selectedGraphs.exportGraphs)) {\n                    return !_.isEmpty($scope.selectedGraphs.exportGraphs);\n                } else {\n                    for (const index in $scope.selectedGraphs.exportGraphs) {\n                        if ($scope.selectedGraphs.exportGraphs[index] === true) {\n                            return true;\n                        }\n                    }\n                    return false;\n                }\n            };\n\n            $scope.exportSelectedGraphs = function (format) {\n                let contextStr = '';\n                for (const index in $scope.selectedGraphs.exportGraphs) {\n                    if ($scope.selectedGraphs.exportGraphs[index]) {\n                        contextStr += 'context=' + $scope.graphsByValue[index].exportUri + '&';\n                    }\n                }\n\n                if (contextStr) {\n                    const startDownload = function () {\n                        contextStr = contextStr.substring(0, contextStr.length - 1);\n                        const downloadUrl = 'repositories/' + $scope.getActiveRepository() + '/statements?infer=false&' + contextStr;\n                        $scope.downloadExport(downloadUrl, format);\n                    };\n\n                    if (format.type === 'application/rdf+xml' || format.type === 'text/plain' || format.type === 'text/turtle' || format.type === 'application/x-turtlestar' || format.type === 'text/rdf+n3') {\n                        ModalService.openSimpleModal({\n                            title: 'Warning',\n                            message: 'This format does not support graphs.<br>Graph information will not be available in the export.',\n                            warning: true\n                        }).result\n                            .then(function () {\n                                startDownload();\n                            });\n                    } else {\n                        startDownload();\n                    }\n                } else {\n                    ModalService.openSimpleModal({\n                        title: 'Multiple graph export',\n                        message: 'Check graphs you want to export first.',\n                        warning: true\n                    });\n                }\n            };\n\n            $scope.$watch('exportFilter', function () {\n                $scope.filteredGraphs = filterFilter($scope.graphs, $scope.exportFilter);\n                if ($scope.getActiveRepository() && angular.element(document).find('.btn.btn-secondary.btn-sm.dropdown-toggle span').length) {\n                    const valueOfFilteredGraphsButton = angular.element(document).find('.btn.btn-secondary.btn-sm.dropdown-toggle span')[0].innerHTML.trim();\n                    let valueOfFilteredGraphs;\n                    if (valueOfFilteredGraphsButton === 'All') {\n                        valueOfFilteredGraphs = $scope.filteredGraphs.length;\n                    }\n                    if ($scope.filteredGraphs && $scope.filteredGraphs.length > $scope.pageSize && valueOfFilteredGraphsButton !== 'All') {\n                        valueOfFilteredGraphs = $scope.pageSize;\n                    }\n                    $scope.changePageSize(valueOfFilteredGraphs);\n                    $scope.changePagination();\n                }\n            });\n\n            $scope.changePagination = function () {\n                $scope.selectedAll = false;\n                if (angular.isDefined($scope.filteredGraphs)) {\n                    $scope.displayGraphs = $scope.filteredGraphs.slice($scope.pageSize * ($scope.page - 1), $scope.pageSize * $scope.page);\n                }\n            };\n\n            $scope.changePageSize = function (size) {\n                $('.ot-graph-page-size').removeClass('active');\n                $scope.page = 1;\n                if (size) {\n                    $scope.pageSize = size;\n                    $scope.changePagination();\n                }\n                if ($scope.filteredGraphs && $scope.exportFilter !== '') {\n                    $scope.displayGraphs = $scope.filteredGraphs;\n                }\n            };\n\n            $scope.checkAll = function () {\n                $scope.selectedAll = $scope.selectedAll || false;\n\n                angular.forEach($scope.displayGraphs, function (item) {\n                    if (item.contextID.uri) {\n                        $scope.selectedGraphs.exportGraphs[item.contextID.value] = $scope.selectedAll;\n                    }\n                });\n            };\n\n            $scope.deselectAll = function () {\n                $scope.selectedAll = false;\n                angular.forEach($scope.displayGraphs, function (item) {\n                    if (item.contextID.uri) {\n                        $scope.selectedGraphs.exportGraphs[item.contextID.value] = false;\n                    }\n                });\n            };\n\n            $scope.dropRepository = function () {\n                if (!$scope.canWriteActiveRepo()) {\n                    return;\n                }\n                $scope.deleting['*'] = true;\n\n                ModalService.openSimpleModal({\n                    title: 'Confirm clear repository',\n                    message: 'Are you sure you want to clear repository ' + $repositories.getActiveRepository() + '?',\n                    warning: true\n                }).result\n                    .then(function () {\n                        $timeout(function () {\n                            RDF4JRepositoriesRestService.addStatements($repositories.getActiveRepository(), 'update=CLEAR ALL')\n                                .then(function () {\n                                    $scope.deleting['*'] = false;\n                                    toastr.success('Cleared repository ' + $repositories.getActiveRepository());\n                                    $scope.getGraphs();\n                                }, function (err) {\n                                    $scope.deleting['*'] = false;\n                                    toastr.error('Failed to clear repository ' + $repositories.getActiveRepository(), err);\n                                });\n                        }, 100);\n                    });\n            };\n\n            function dropGraph(ctx) {\n                const longName = ctx.contextID.longName;\n                $scope.deleting[ctx] = true;\n                ModalService.openSimpleModal({\n                    title: 'Confirm clear graph',\n                    message: 'Are you sure you want to clear the ' + longName + '?',\n                    warning: true\n                }).result\n                    .then(function () {\n                        $timeout(function () {\n                            const data = `update=CLEAR ${ctx.contextID.clearUri}`;\n                            RDF4JRepositoriesRestService.addStatements($repositories.getActiveRepository(), data)\n                                .then(function () {\n                                    $scope.deleting[ctx] = false;\n                                    toastr.success('Cleared the ' + longName);\n                                    $scope.getGraphs();\n                                    $scope.exportFilter = '';\n                                    $scope.filteredGraphs.length = 0;\n                                    $scope.updateResults();\n                                    $scope.changePageSize($scope.pageSize);\n                                }, function (err) {\n                                    $scope.deleting[ctx] = false;\n                                    toastr.error('Failed to clear the ' + longName, getError(err, err.status));\n                                });\n                        }, 100);\n                    }, function () {\n                        $scope.deleting[ctx] = false;\n                    });\n            }\n\n            function dropSelectedGraphs(ctx) {\n                const selectedGraphsForDelete = [];\n                angular.forEach($scope.selectedGraphs.exportGraphs, function (value, key) {\n                    if (value) {\n                        selectedGraphsForDelete.push(key);\n                    }\n                });\n\n                if (selectedGraphsForDelete.length > 0) {\n                    $scope.deleting[ctx] = true;\n                    ModalService.openSimpleModal({\n                        title: 'Confirm clear graphs',\n                        message: 'Are you sure you want to clear the selected graphs?',\n                        warning: true\n                    }).result.then(function () {\n                        $timeout(function () {\n                            let counterOfClearedGraphs = 0;\n                            angular.forEach(selectedGraphsForDelete, function (contextID) {\n                                const data = `update=CLEAR ${$scope.graphsByValue[contextID].clearUri}`;\n                                RDF4JRepositoriesRestService.addStatements($repositories.getActiveRepository(), data)\n                                    .then(function () {\n                                        $scope.loader = true;\n                                        $scope.selectedGraphs.exportGraphs[contextID] = false;\n                                        delete $scope.selectedGraphs.exportGraphs[contextID];\n                                        counterOfClearedGraphs++;\n                                        if (selectedGraphsForDelete.length === counterOfClearedGraphs) {\n                                            $scope.selectedAll = false;\n                                            $scope.exportFilter = '';\n                                            $scope.filteredGraphs.length = 0;\n                                            $scope.getGraphs();\n                                            $scope.updateResults();\n                                            $scope.changePageSize($scope.pageSize);\n                                            toastr.success('Cleared the selected graphs');\n                                            $scope.loader = false;\n                                        }\n                                    }, function (err) {\n                                        const longName = $scope.graphsByValue[contextID].longName;\n                                        toastr.error('Failed to clear the ' + longName, getError(err, err.status));\n                                        $scope.selectedAll = false;\n                                    });\n                            });\n                        }, 100);\n                    }, function () {\n                        $scope.deleting[ctx] = false;\n                    });\n                }\n            }\n\n            $scope.dropContext = function (ctx) {\n                if (!$scope.canWriteActiveRepo()) {\n                    return;\n                }\n                if (angular.isDefined(ctx)) {\n                    dropGraph(ctx);\n                } else {\n                    dropSelectedGraphs(ctx);\n                }\n            };\n        }]);\n","import 'angular/core/services';\nimport 'angular/core/directives';\nimport 'angular/export/controllers';\nimport 'angular/core/directives/paginations';\nimport 'angular/core/services/repositories.service';\nimport 'lib/FileSaver-patch';\n\nconst modules = [\n    'ui.bootstrap',\n    'toastr',\n    'ngRoute',\n    'ngCookies',\n    'graphdb.framework.impex.export.controllers',\n    'graphdb.framework.core.directives.paginations',\n    'graphdb.framework.core.services.repositories',\n    'graphdb.framework.core.directives'\n];\n\nconst exportApp = angular.module('graphdb.framework.impex.export', modules);\n\nexportApp.config(['$tooltipProvider', function ($tooltipProvider) {\n    //Add custom event for Export repository DD tooltip\n    $tooltipProvider.setTriggers({'showExportDDTooltip': 'showExportDDTooltip'});\n}]);\n"],"sourceRoot":""}