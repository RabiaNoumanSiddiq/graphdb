{"version":3,"sources":["webpack:///./src/js/lib/FileSaver-patch.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./src/js/angular/utils/file-types.js","webpack:///./src/js/angular/explore/controllers.js"],"names":["saveAs","view","navigator","test","userAgent","doc","document","get_URL","URL","webkitURL","save_link","createElementNS","webkit_req_fs","webkitRequestFileSystem","req_fs","requestFileSystem","mozRequestFileSystem","throw_outside","ex","setImmediate","setTimeout","fs_min_size","revoke","file","revoker","revokeObjectURL","remove","chrome","dispatch","filesaver","event_types","event","i","concat","length","listener","call","auto_bom","blob","type","Blob","FileSaver","name","object_url","target_view","slice","this","blob_changed","dispatch_all","split","fs_error","createObjectURL","location","href","undefined","open","safari","readyState","DONE","abortable","func","apply","arguments","create_if_not_found","create","exclusive","INIT","download","node","MouseEvent","dispatchEvent","webkitSlice","size","TEMPORARY","fs","root","getDirectory","dir","save","getFile","createWriter","writer","onwriteend","toURL","onerror","error","code","ABORT_ERR","forEach","write","abort","WRITING","NOT_FOUND_ERR","FS_proto","prototype","msSaveOrOpenBlob","onwritestart","onprogress","onwrite","onabort","self","window","content","module","exports","Error","__webpack_amd_options__","angular","value","extension","ExploreCtrl","$scope","$http","$location","toastr","$routeParams","$repositories","ClassInstanceDetailsService","ModalService","RDF4JRepositoriesRestService","FileTypes","yasr","loading","getActiveRepository","isTripleResource","tripleParam","encodeURIComponent","param","getRdfStarLocalNames","triple","localNames","replace","uri","getLocalName","role","search","inference","inferenceNamed","inferences","id","title","context","blanks","sameAs","formats","editor","getQueryType","$watch","usedPrefixes","loadResource","getNamespaces","success","data","results","bindings","e","prefix","namespace","getElementById","getUsedPrefixes","persistency","hideHeader","getError","localName","uriParam","hash","absUrl","url","method","params","headers","details","encodeURI","exploreResource","isContextAvailable","goToGraphsViz","path","toggleOntoLoader","showLoader","yasrInnerContainer","element","resultsLoader","addClass","removeClass","$","ajax","bnodes","Accept","done","textStatus","jqXhr","setResponse","fail","downloadExport","format","encodedURI","response","indexOf","JSON","stringify","ua","toLowerCase","msg","changeRole","roleVar","changeInference","copyToClipboardResult","openCopyToClipboardModal","FindResourceCtrl","$q","$timeout","AutocompleteRestService","checkAutocompleteStatus","warning","allowHtml","autocompleteEnabled","getAllNamespacesForActiveRepository","namespaces","map","loader","validateRdfUri","hasAngleBrackets","lastIndexOf","noAngleBrackets","validProtocol","validPath","schemaSlashesIdx","substring","expandedUri","submit","setFormInvalid","isDirty","form","$dirty","getAutocompleteSuggestions","str","newExpandedUri","getNamespaceUriForPrefix","val","promise","query","when","inputChangedFn","selectedUriCallback","selected","selectedUri","isDefined","click","$on","EditResourceCtrl","$modal","StatementsService","newRow","subject","object","datatype","newResource","datatypeOptions","getDatatypeOptions","activeRepository","getClassInstancesDetails","getDetails","getGraph","then","res","statements","buildStatements","addStatement","newRowPredicate","$setSubmitted","newRowObject","newRowContext","$valid","push","copy","$setPristine","$setUntouched","removeStatement","idx","splice","checkValid","isUndefined","validEditRow","rowform","viewTrig","templateUrl","controller","resolve","transformToTrig","timer","cancel","validateUri","check","text","count","match","trim","ViewTrigCtrl","$modalInstance","trig","dismiss","$inject"],"mappings":"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","file":"9.e7b41c51737de1ed3500.bundle.js","sourcesContent":["/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 2015-05-07.2\n *\n * By Eli Grey, http://eligrey.com\n * License: X11/MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, webkit_req_fs = view.webkitRequestFileSystem\n\t\t, req_fs = view.requestFileSystem || webkit_req_fs || view.mozRequestFileSystem\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t, fs_min_size = 0\n\t\t// See https://code.google.com/p/chromium/issues/detail?id=375297#c7 and\n\t\t// https://github.com/eligrey/FileSaver.js/commit/485930a#commitcomment-8768047\n\t\t// for the reasoning behind the timeout and revocation flow\n\t\t, arbitrary_revoke_timeout = 500 // in ms\n\t\t, revoke = function(file) {\n\t\t\tvar revoker = function() {\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (view.chrome) {\n\t\t\t\trevoker();\n\t\t\t} else {\n\t\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t\t}\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, auto_bom = function(blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\treturn new Blob([\"\\ufeff\", blob], {type: blob.type});\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t\t, FileSaver = function(blob, name) {\n\t\t\tblob = auto_bom(blob);\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, blob_changed = false\n\t\t\t\t, object_url\n\t\t\t\t, target_view\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (blob_changed || !object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (target_view) {\n\t\t\t\t\t\ttarget_view.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar new_tab = view.open(object_url, \"_blank\");\n\t\t\t\t\t\tif (new_tab == undefined && typeof safari !== \"undefined\") {\n\t\t\t\t\t\t\t//Apple do not allow window.open, see http://bit.ly/1kZffRI\n\t\t\t\t\t\t\tview.location.href = object_url\n\t\t\t\t\t\t} \n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t}\n\t\t\t\t, abortable = function(func) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif (filesaver.readyState !== filesaver.DONE) {\n\t\t\t\t\t\t\treturn func.apply(this, arguments);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t, create_if_not_found = {create: true, exclusive: false}\n\t\t\t\t, slice\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\tif (!name) {\n\t\t\t\tname = \"download\";\n\t\t\t}\n\t\t\tif (save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t//window.open('data:attachment/csv;charset=utf-8,' + object_url);\n\t\t\t\tsave_link.href = object_url;\n\t\t\t\tsave_link.download = name;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Object and web filesystem URLs have a problem saving in Google Chrome when\n\t\t\t// viewed in a tab, so I force save with application/octet-stream\n\t\t\t// http://code.google.com/p/chromium/issues/detail?id=91158\n\t\t\t// Update: Google errantly closed 91158, I submitted it again:\n\t\t\t// https://code.google.com/p/chromium/issues/detail?id=389642\n\t\t\tif (view.chrome && type && type !== force_saveable_type) {\n\t\t\t\tslice = blob.slice || blob.webkitSlice;\n\t\t\t\tblob = slice.call(blob, 0, blob.size, force_saveable_type);\n\t\t\t\tblob_changed = true;\n\t\t\t}\n\t\t\t// Since I can't be sure that the guessed media type will trigger a download\n\t\t\t// in WebKit, I append .download to the filename.\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=65440\n\t\t\tif (webkit_req_fs && name !== \"download\") {\n\t\t\t\tname += \".download\";\n\t\t\t}\n\t\t\tif (type === force_saveable_type || webkit_req_fs) {\n\t\t\t\ttarget_view = view;\n\t\t\t}\n\t\t\tif (!req_fs) {\n\t\t\t\tfs_error();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfs_min_size += blob.size;\n\t\t\treq_fs(view.TEMPORARY, fs_min_size, abortable(function(fs) {\n\t\t\t\tfs.root.getDirectory(\"saved\", create_if_not_found, abortable(function(dir) {\n\t\t\t\t\tvar save = function() {\n\t\t\t\t\t\tdir.getFile(name, create_if_not_found, abortable(function(file) {\n\t\t\t\t\t\t\tfile.createWriter(abortable(function(writer) {\n\t\t\t\t\t\t\t\twriter.onwriteend = function(event) {\n\t\t\t\t\t\t\t\t\ttarget_view.location.href = file.toURL();\n\t\t\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\t\t\tdispatch(filesaver, \"writeend\", event);\n\t\t\t\t\t\t\t\t\trevoke(file);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\twriter.onerror = function() {\n\t\t\t\t\t\t\t\t\tvar error = writer.error;\n\t\t\t\t\t\t\t\t\tif (error.code !== error.ABORT_ERR) {\n\t\t\t\t\t\t\t\t\t\tfs_error();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\"writestart progress write abort\".split(\" \").forEach(function(event) {\n\t\t\t\t\t\t\t\t\twriter[\"on\" + event] = filesaver[\"on\" + event];\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\twriter.write(blob);\n\t\t\t\t\t\t\t\tfilesaver.abort = function() {\n\t\t\t\t\t\t\t\t\twriter.abort();\n\t\t\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tfilesaver.readyState = filesaver.WRITING;\n\t\t\t\t\t\t\t}), fs_error);\n\t\t\t\t\t\t}), fs_error);\n\t\t\t\t\t};\n\t\t\t\t\tdir.getFile(name, {create: false}, abortable(function(file) {\n\t\t\t\t\t\t// delete file if it already exists\n\t\t\t\t\t\tfile.remove();\n\t\t\t\t\t\tsave();\n\t\t\t\t\t}), abortable(function(ex) {\n\t\t\t\t\t\tif (ex.code === ex.NOT_FOUND_ERR) {\n\t\t\t\t\t\t\tsave();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfs_error();\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t}), fs_error);\n\t\t\t}), fs_error);\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name) {\n\t\t\treturn new FileSaver(blob, name);\n\t\t}\n\t;\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\treturn function(blob, name) {\n\t\t\treturn navigator.msSaveOrOpenBlob(auto_bom(blob), name);\n\t\t};\n\t}\n\n\tFS_proto.abort = function() {\n\t\tvar filesaver = this;\n\t\tfilesaver.readyState = filesaver.DONE;\n\t\tdispatch(filesaver, \"abort\");\n\t};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports.saveAs = saveAs;\n} else if ((typeof define !== \"undefined\" && define !== null) && (define.amd != null)) {\n  define([], function() {\n    return saveAs;\n  });\n}","module.exports = function() {\n\tthrow new Error(\"define cannot be used indirect\");\n};\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","angular.module('graphdb.workbench.utils.filetypes', [])\n    .value('FileTypes', [\n        {name: 'JSON', type: 'application/rdf+json', extension: '.json'},\n        {name: 'JSON-LD', type: 'application/ld+json', extension: '.jsonld'},\n        {name: 'RDF-XML', type: 'application/rdf+xml', extension: '.rdf'},\n        {name: 'N3', type: 'text/rdf+n3', extension: '.n3'},\n        {name: 'N-Triples', type: 'text/plain', extension: '.nt'},\n        {name: 'N-Quads', type: 'text/x-nquads', extension: '.nq'},\n        {name: 'Turtle', type: 'text/turtle', extension: '.ttl'},\n        {name: 'Turtle*', type: 'application/x-turtlestar', extension: '.ttls'},\n        {name: 'TriX', type: 'application/trix', extension: '.trix'},\n        {name: 'TriG', type: 'application/x-trig', extension: '.trig'},\n        {name: 'TriG*', type: 'application/x-trigstar', extension: '.trigs'},\n        {name: 'Binary RDF', type: 'application/x-binary-rdf', extension: '.brf'}\n    ]);\n","import 'angular/utils/file-types';\nimport YASR from 'lib/yasr.bundled';\nimport {saveAs} from 'lib/FileSaver-patch';\n\nconst modules = [\n    'ngCookies',\n    'ngRoute',\n    'ui.bootstrap',\n    'toastr',\n    'graphdb.framework.core',\n    'graphdb.framework.core.services.repositories',\n    'graphdb.framework.explore.services',\n    'graphdb.workbench.utils.filetypes'\n];\n\nangular\n    .module('graphdb.framework.explore.controllers', modules)\n    .controller('FindResourceCtrl', FindResourceCtrl)\n    .controller('ExploreCtrl', ExploreCtrl)\n    .controller('EditResourceCtrl', EditResourceCtrl)\n    .controller('ViewTrigCtrl', ViewTrigCtrl);\n\nExploreCtrl.$inject = ['$scope', '$http', '$location', 'toastr', '$routeParams', '$repositories', 'ClassInstanceDetailsService', 'ModalService', 'RDF4JRepositoriesRestService', 'FileTypes'];\n\nfunction ExploreCtrl($scope, $http, $location, toastr, $routeParams, $repositories, ClassInstanceDetailsService, ModalService, RDF4JRepositoriesRestService, FileTypes) {\n\n    $scope.loading = false;\n\n    $scope.getActiveRepository = function () {\n        return $repositories.getActiveRepository();\n    };\n\n    $scope.isTripleResource = function () {\n        return !!$scope.tripleParam;\n    };\n\n    // TODO move this to core\n    $scope.encodeURIComponent = function (param) {\n        return encodeURIComponent(param);\n    };\n\n    $scope.getRdfStarLocalNames = function(triple) {\n        let localNames = triple.slice();\n        const trimmed =  triple.replace(/[<>]+/g, '');\n        trimmed.split(' ').forEach(uri => {\n            localNames = localNames.replace(uri, ClassInstanceDetailsService.getLocalName(uri));\n        });\n        return localNames;\n    };\n\n    // Defaults\n    $scope.role = $location.search().role ? $location.search().role : 'subject';\n    $scope.inference = 'explicit';\n    // Fixed inference when we're showing the context tab and a named graph\n    $scope.inferenceNamed = 'explicit';\n    $scope.inferences = [\n        {id: 'all', title: 'Explicit and Implicit'},\n        {id: 'explicit', title: 'Explicit only'},\n        {id: 'implicit', title: 'Implicit only'}\n    ];\n    $scope.context = '';\n\n    $scope.getLocalName = function (uri) {\n        return ClassInstanceDetailsService.getLocalName(uri);\n    };\n\n    $scope.blanks = true;\n    $scope.sameAs = true;\n\n    $scope.formats = FileTypes;\n\n    let yasr;\n\n    window.editor = {};\n    window.editor.getQueryType = function () {\n        return 'RESOURCE';\n    };\n\n    $scope.$watch(function () {\n        return $repositories.getActiveRepository();\n    }, function () {\n        if ($scope.getActiveRepository()) {\n            if ($scope.usedPrefixes) {\n                $scope.loadResource();\n            } else {\n                RDF4JRepositoriesRestService.getNamespaces($scope.getActiveRepository())\n                    .success(function (data) {\n                        $scope.usedPrefixes = {};\n                        data.results.bindings.forEach(function (e) {\n                            $scope.usedPrefixes[e.prefix.value] = e.namespace.value;\n                        });\n                        yasr = YASR(document.getElementById('yasr'), { // eslint-disable-line new-cap\n                            //this way, the URLs in the results are prettified using the defined prefixes\n                            getUsedPrefixes: $scope.usedPrefixes,\n                            persistency: false,\n                            hideHeader: true\n                        });\n                        $scope.loadResource();\n                    }).error(function (data) {\n                        toastr.error('Cannot get namespaces for repository. View will not work properly; ' + getError(data));\n                    });\n            }\n        }\n    });\n\n    $scope.loadResource = function () {\n        if ($routeParams.prefix && $routeParams.localName && $scope.usedPrefixes[$routeParams.prefix]) {\n            // /resource/PREFIX/LOCAL -> URI = expanded PREFIX + LOCAL\n            $scope.uriParam = $scope.usedPrefixes[$routeParams.prefix] + $routeParams.localName;\n        } else if ($location.search().uri) {\n            // uri parameter -> URI\n            $scope.uriParam = $location.search().uri + ($location.hash() ? '#' + $location.hash() : '');\n        } else if ($location.search().triple) {\n            // uri parameter -> URI\n            $scope.tripleParam = $location.search().triple + ($location.hash() ? '#' + $location.hash() : '');\n        } else {\n            // absolute URI -> URI\n            $scope.uriParam = $location.absUrl();\n        }\n        if ($routeParams.context != null) {\n            $scope.context = $routeParams.context;\n        }\n        // remove angle brackets which were allowed when filling out the search input field\n        // but are forbidden when passing the uri as a query parameter\n        $scope.uriParam = $scope.uriParam && $scope.uriParam.replace(/<|>/g, \"\");\n\n        // Get resource details\n        $http({\n            url: 'rest/explore/details',\n            method: 'GET',\n            params: {\n                uri: $scope.uriParam,\n                triple: $scope.tripleParam,\n                context: $scope.context\n            },\n            headers: {\n                'Accept': 'application/json'\n            }\n        }).success(function (data) {\n            $scope.details = data;\n            $scope.context = $scope.details.context;\n            if ($scope.details.uri !== 'object') {\n                $scope.details.encodeURI = encodeURIComponent($scope.details.uri);\n            }\n        }).error(function (data) {\n            toastr.error('Cannot get resource details; ' + getError(data));\n        });\n\n        $scope.exploreResource();\n    };\n\n    $scope.isContextAvailable = function () {\n        return $scope.context !== null && $scope.context === \"http://rdf4j.org/schema/rdf4j#SHACLShapeGraph\";\n    };\n\n    $scope.goToGraphsViz = function () {\n        $location.path('graphs-visualizations').search('uri', $scope.uriParam);\n    };\n\n    const toggleOntoLoader = function (showLoader) {\n        const yasrInnerContainer = angular.element(document.getElementById('yasr-inner'));\n        const resultsLoader = angular.element(document.getElementById('results-loader'));\n        const opacityHideClass = 'opacity-hide';\n        /* Angular b**it. For some reason the loader behaved strangely with ng-show not always showing */\n        if (showLoader) {\n            $scope.loading = true;\n            yasrInnerContainer.addClass(opacityHideClass);\n            resultsLoader.removeClass(opacityHideClass);\n        } else {\n            $scope.loading = false;\n            yasrInnerContainer.removeClass(opacityHideClass);\n            resultsLoader.addClass(opacityHideClass);\n        }\n    };\n\n    // Get resource table\n    $scope.exploreResource = function () {\n        toggleOntoLoader(true);\n        if ($routeParams.context != null) {\n            $scope.context = $routeParams.context;\n        }\n        const headers = {Accept: 'application/x-graphdb-table-results+json'};\n        $.ajax({\n            method: 'GET',\n            url: 'rest/explore/graph',\n            data: {\n                uri: $scope.uriParam,\n                triple: $scope.tripleParam,\n                inference: $scope.inference,\n                role: $scope.role,\n                bnodes: $scope.blanks,\n                sameAs: $scope.sameAs,\n                context: $scope.context\n            },\n            headers: headers\n        }).done(function (data, textStatus, jqXhr) {\n            toggleOntoLoader(false);\n            // Pass the xhr argument first as the yasr expects it that way. See https://ontotext.atlassian.net/browse/GDB-3939\n            yasr.setResponse(jqXhr, textStatus);\n        }).fail(function (data) {\n            toastr.error('Could not get resource; ' + getError(data));\n            toggleOntoLoader(false);\n        });\n    };\n\n    $scope.downloadExport = function (format) {\n        let param;\n        let encodedURI;\n        if ($scope.uriParam) {\n            param = 'uri=';\n            encodedURI = encodeURIComponent($scope.uriParam);\n        } else {\n            param = 'triple=';\n            encodedURI = encodeURIComponent($scope.tripleParam);\n        }\n\n        $http({\n            method: 'GET',\n            url: 'rest/explore/graph?' + param + encodedURI +\n                \"&role=\" + $scope.role +\n                \"&inference=\" + $scope.inference +\n                \"&bnodes=\" + $scope.blanks +\n                \"&sameAs=\" + $scope.sameAs +\n                ($scope.context ? \"&context=\" + encodeURIComponent($scope.context) : \"\"),\n            headers: {\n                'Accept': format.type\n            }\n        }).success(function (response) {\n            let data = response;\n            if (format.type.indexOf('json') > -1) {\n                data = JSON.stringify(data);\n            }\n            // TODO: Use bowser library to get the browser type\n            const ua = navigator.userAgent.toLowerCase();\n            if (ua.indexOf('safari') !== -1 && ua.indexOf('chrome') === -1) {\n                window.open('data:attachment/csv;filename=\"statements.' + format.extension + '\",' + encodeURIComponent(data), 'statements.' + format.extension);\n            } else {\n                const file = new Blob([data], {type: format.type});\n                saveAs(file, 'statements' + format.extension);\n            }\n        }).error(function (data) {\n            const msg = getError(data);\n            toastr.error(msg, 'Error');\n        });\n    };\n\n    $scope.changeRole = function (roleVar) {\n        $scope.role = roleVar;\n        $scope.exploreResource();\n    };\n\n    $scope.changeInference = function (inference) {\n        $scope.inference = inference;\n        $scope.exploreResource();\n    };\n\n    $scope.copyToClipboardResult = function (uri) {\n        ModalService.openCopyToClipboardModal(uri);\n    };\n}\n\nFindResourceCtrl.$inject = ['$scope', '$http', '$location', '$repositories', '$q', '$timeout', 'toastr', 'AutocompleteRestService', 'ClassInstanceDetailsService', '$routeParams', 'RDF4JRepositoriesRestService'];\n\nfunction FindResourceCtrl($scope, $http, $location, $repositories, $q, $timeout, toastr, AutocompleteRestService, ClassInstanceDetailsService, $routeParams, RDF4JRepositoriesRestService) {\n    $scope.submit = submit;\n    $scope.getAutocompleteSuggestions = getAutocompleteSuggestions;\n    $scope.inputChangedFn = inputChangedFn;\n    $scope.selectedUriCallback = selectedUriCallback;\n\n    $scope.selectedUri = {name: \"\"};\n\n    $scope.autocompleteEnabled = false;\n\n    if (angular.isDefined($routeParams.search)) {\n        $timeout(function () {\n            $('#resources_finder_value').val($routeParams.search);\n            $('.search-button').click();\n        }, 500);\n    }\n\n    function checkAutocompleteStatus() {\n        AutocompleteRestService.checkAutocompleteStatus()\n            .success(function (response) {\n                if (!response) {\n                    toastr.warning('', '<div class=\"autocomplete-toast\"><a href=\"autocomplete\">Autocomplete is OFF<br>Go to Setup -> Autocomplete</a></div>',\n                        {allowHtml: true});\n                }\n                $scope.autocompleteEnabled = response;\n            })\n            .error(function () {\n                toastr.error(\"Error attempting to check autocomplete capability!\");\n            });\n    }\n\n    function getAllNamespacesForActiveRepository() {\n        RDF4JRepositoriesRestService.getNamespaces($repositories.getActiveRepository())\n            .success(function (data) {\n                $scope.namespaces = data.results.bindings.map(function (e) {\n                    return {\n                        prefix: e.prefix.value,\n                        uri: e.namespace.value\n                    };\n                });\n                $scope.loader = false;\n            }).error(function (data) {\n            const msg = getError(data);\n            toastr.error(msg, 'Error');\n            $scope.loader = false;\n        });\n    }\n\n    function validateRdfUri(value) {\n        // has a pair of angle brackets and the closing one is the last char of the string\n        const hasAngleBrackets = value.indexOf(\"<\") >= 0 && value.lastIndexOf(\">\") === value.length - 1;\n\n        // does not have a pair of angle bracket - if only one of the is available that is incorrect\n        const noAngleBrackets = value.indexOf(\"<\") === -1 && value.lastIndexOf(\">\") === -1;\n\n        const validProtocol = /^<?[http|urn].*>?$/.test(value) && (hasAngleBrackets || noAngleBrackets);\n        let validPath = false;\n        if (validProtocol) {\n            if (value.indexOf(\"http\") >= 0) {\n                const schemaSlashesIdx = value.indexOf('//');\n                validPath = schemaSlashesIdx > 4\n                    && value.substring(schemaSlashesIdx + 2).length > 0;\n            } else if (value.indexOf(\"urn\") >= 0) {\n                validPath = value.substring(4).length > 0;\n            }\n        }\n        return validProtocol && validPath;\n    }\n\n    let uri;\n\n    function submit(uri) {\n        function setFormInvalid(isDirty) {\n            // does not work yet\n            $timeout(function () {\n                if ($scope.form) {\n                    $scope.form.$dirty = isDirty;\n                }\n            });\n        }\n\n        if (!uri) {\n            uri = document.getElementById(\"resources_finder_value\").value;\n        }\n        if (uri && validateRdfUri(uri)) {\n            setFormInvalid(false);\n            $location\n                .path('resource')\n                .search('uri', uri);\n        } else {\n            setFormInvalid(true);\n            if (uri) {\n                toastr.error(\"Invalid input!\");\n            }\n        }\n    }\n\n    if ($scope.getActiveRepository()) {\n        checkAutocompleteStatus();\n        getAllNamespacesForActiveRepository();\n    }\n\n    // use a global var to keep old uri in order to change it when a new one appears\n    let expandedUri;\n\n    function getAutocompleteSuggestions(str) {\n        // expand prefix to uri only if the last character of the input is a colon and\n        // there are no angle brackets because they are allowed only for absolute uris\n        const ANGLE_BRACKETS_REGEX = /<|>/;\n        if (!ANGLE_BRACKETS_REGEX.test(str) && str.slice(-1) === ':') {\n            const newExpandedUri = ClassInstanceDetailsService.getNamespaceUriForPrefix($scope.namespaces, str.slice(0, -1));\n            expandedUri = (newExpandedUri !== expandedUri) ? newExpandedUri : expandedUri;\n            if (expandedUri) {\n                $(\"#resources_finder_value\").val(expandedUri);\n            }\n        }\n\n        let promise;\n        if ($scope.autocompleteEnabled) {\n            // add semicolon after the expanded uri in order to filter only by local names for this uri\n            const query = str.replace(expandedUri, expandedUri + ';');\n            promise = AutocompleteRestService.getAutocompleteSuggestions(query);\n        } else {\n            // return empty promise\n            promise = $q.when($scope.autocompleteEnabled);\n        }\n        return promise;\n    }\n\n    $scope.$on('repositoryIsSet', function () {\n        checkAutocompleteStatus();\n        getAllNamespacesForActiveRepository();\n    });\n\n    function inputChangedFn() {\n        uri = document.getElementById(\"resources_finder_value\").value;\n        $scope.form.$dirty = !(uri && validateRdfUri(uri));\n    }\n\n    function selectedUriCallback(selected) {\n        $scope.selectedUri = {name: selected.title};\n        submit($scope.selectedUri.name);\n    }\n}\n\nEditResourceCtrl.$inject = ['$scope', '$http', '$location', 'toastr', '$repositories', '$modal', '$timeout', 'ClassInstanceDetailsService', 'StatementsService', 'RDF4JRepositoriesRestService'];\n\nfunction EditResourceCtrl($scope, $http, $location, toastr, $repositories, $modal, $timeout, ClassInstanceDetailsService, StatementsService, RDF4JRepositoriesRestService) {\n    $scope.uriParam = $location.search().uri;\n    $scope.newRow = {\n        subject: $scope.uriParam,\n        object: {\n            type: 'uri',\n            datatype: ''\n        }\n    };\n    $scope.newResource = false;\n    $scope.datatypeOptions = StatementsService.getDatatypeOptions();\n\n    $scope.activeRepository = function () {\n        return $repositories.getActiveRepository();\n    };\n\n    $scope.getClassInstancesDetails = getClassInstancesDetails;\n    $scope.addStatement = addStatement;\n    $scope.removeStatement = removeStatement;\n    $scope.getLocalName = getLocalName;\n    $scope.checkValid = checkValid;\n    $scope.validEditRow = validEditRow;\n    $scope.viewTrig = viewTrig;\n    $scope.save = save;\n\n    function getClassInstancesDetails() {\n        RDF4JRepositoriesRestService.getNamespaces($scope.activeRepository())\n            .success(function (data) {\n                $scope.namespaces = data.results.bindings.map(function (e) {\n                    return {\n                        prefix: e.prefix.value,\n                        uri: e.namespace.value\n                    };\n                });\n                $scope.loader = false;\n            }).error(function (data) {\n                const msg = getError(data);\n                toastr.error(msg, 'Error');\n                $scope.loader = false;\n            });\n\n        ClassInstanceDetailsService.getDetails($scope.uriParam)\n            .success(function (data) {\n                $scope.details = data;\n                $scope.details.encodeURI = encodeURIComponent($scope.details.uri);\n            }).error(function (data) {\n                toastr.error('Cannot get resource details; ' + getError(data));\n            });\n\n        ClassInstanceDetailsService.getGraph($scope.uriParam)\n            .then(function (res) {\n                const statements = StatementsService.buildStatements(res, $scope.uriParam);\n                $scope.statements = statements;\n                $scope.newResource = !statements.length;\n            });\n    }\n\n    $scope.$watch(function () {\n        return $repositories.getActiveRepository();\n    }, function () {\n        if ($scope.activeRepository()) {\n            $scope.getClassInstancesDetails();\n        }\n    });\n\n    $scope.validateUri = function (val) {\n        let check = true;\n        const text = val ? val : '';\n\n        if (text.indexOf(':') === -1) {\n            check = false;\n        } else {\n            const prefix = text.substring(0, text.indexOf(':'));\n            const uriForPrefixNotAvailable = ClassInstanceDetailsService.getNamespaceUriForPrefix($scope.namespaces, prefix) === '';\n            if (uriForPrefixNotAvailable) {\n                // TODO: There's this reported useless escape character for this regex, but I'm not sure if and can I fix it.\n                if (/^(http:\\/\\/www\\.|https:\\/\\/www\\.|http:\\/\\/|https:\\/\\/)[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(\\/.*)?$/.test(text) === false) {\n                    check = false;\n                }\n\n                const count = text.match(/\\//g);\n\n                if (count === undefined || count.length < 3) {\n                    check = false;\n                }\n            } else {\n                const restText = text.substring(text.indexOf(':') + 1).trim();\n                if (restText.length < 1) {\n                    check = false;\n                }\n            }\n        }\n\n        return check;\n    };\n\n    function addStatement() {\n        $scope.newRowPredicate.$setSubmitted();\n        $scope.newRowObject.$setSubmitted();\n        $scope.newRowContext.$setSubmitted();\n        if ($scope.newRowPredicate.$valid && $scope.newRowObject.$valid && $scope.newRowContext.$valid) {\n            $scope.statements.push(angular.copy($scope.newRow));\n            $scope.newRow = {\n                subject: $scope.uriParam,\n                object: {\n                    type: 'uri',\n                    datatype: ''\n                }\n            };\n            $scope.newRowPredicate.$setPristine();\n            $scope.newRowPredicate.$setUntouched();\n            $scope.newRowObject.$setPristine();\n            $scope.newRowObject.$setUntouched();\n            $scope.newRowContext.$setPristine();\n            $scope.newRowContext.$setUntouched();\n        }\n    }\n\n    function checkValid(data) {\n        if (!angular.isUndefined(data)) {\n            return true;\n        }\n        return \"Please enter a valid value.\";\n    }\n\n    function validEditRow() {\n        return $scope.rowform.$valid;\n    }\n\n    function removeStatement(idx) {\n        $scope.statements.splice(idx, 1);\n    }\n\n    function getLocalName(uri) {\n        return ClassInstanceDetailsService.getLocalName(uri);\n    }\n\n    function viewTrig() {\n        $modal.open({\n            templateUrl: 'js/angular/explore/templates/viewTrig.html',\n            controller: 'ViewTrigCtrl',\n            size: 'lg',\n            resolve: {\n                data: function () {\n                    return StatementsService.transformToTrig($scope.statements);\n                }\n            }\n        });\n    }\n\n    function save() {\n        const method = $scope.newResource ? 'POST' : 'PUT';\n        $http({\n            method: method,\n            url: 'rest/resource?uri=' + encodeURIComponent($scope.uriParam),\n            headers: {\n                'Content-Type': 'application/x-trig'\n            },\n            data: StatementsService.transformToTrig($scope.statements)\n        }).success(function () {\n            toastr.success(\"Resource saved.\");\n            const timer = $timeout(function () {\n                $location.path('resource').search('uri', $scope.uriParam);\n            }, 500);\n            $scope.$on(\"$destroy\", function () {\n                $timeout.cancel(timer);\n            });\n        }).error(function (data) {\n            toastr.error(getError(data));\n        });\n    }\n}\n\nViewTrigCtrl.$inject = ['$scope', '$modalInstance', 'data'];\n\nfunction ViewTrigCtrl($scope, $modalInstance, data) {\n    $scope.trig = data;\n\n    $scope.cancel = function () {\n        $modalInstance.dismiss('cancel');\n    };\n}\n"],"sourceRoot":""}