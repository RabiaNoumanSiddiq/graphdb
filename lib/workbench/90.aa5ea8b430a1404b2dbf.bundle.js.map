{"version":3,"sources":["webpack:///./src/js/angular/rest/similarity.rest.service.js"],"names":["angular","module","factory","SimilarityRestService","$inject","SIMILARITY_ENDPOINT","$http","getIndexes","get","getSearchQueries","rebuildIndex","index","createIndex","name","options","selectQuery","searchQuery","analogicalQuery","stopList","infer","sameAs","type","deleteIndex","delete","getSamples","getQuery","data","params","indexName","indexOptions","indexStopList","query","queryInference","querySameAs","viewType","analyzer","indexAnalyzer","saveSearchQuery","method","url","noCancelOnRouteChange"],"mappings":"2EAAAA,QACKC,OAAO,4CAA6C,IACpDC,QAAQ,wBAAyBC,GAEtCA,EAAsBC,QAAU,CAAC,QAAS,iBAE1C,MAAMC,EAAsB,kBAE5B,SAASF,EAAsBG,GAE3B,MAAO,CACHC,WAUJ,WACI,OAAOD,EAAME,IAAIH,IAVjBI,iBAiBJ,WACI,OAAOH,EAAME,IAAI,GAAGH,aAjBpBK,aAyCJ,SAAsBC,GAClB,OAAOC,EAAY,MAAOD,EAAME,KAAMF,EAAMG,QAASH,EAAMI,YAAaJ,EAAMK,YAAaL,EAAMM,gBAAiBN,EAAMO,SAAUP,EAAMQ,MAAOR,EAAMS,OAAQT,EAAMU,OAzCnKC,YA4CJ,SAAqBX,GACjB,OAAOL,EAAMiB,OAAO,GAAGlB,UAA4BM,EAAME,SA5CzDD,cACAY,WASJ,WACI,OAAOlB,EAAME,IAAI,GAAGH,cATpBoB,SA6CJ,SAAkBC,GACd,OAAOpB,EAAME,IAAI,wBACb,CACImB,OAAQ,CACJd,KAAMa,EAAKE,UACXd,QAASY,EAAKG,aACdX,SAAUQ,EAAKI,cACff,YAAaW,EAAKK,MAClBZ,MAAOO,EAAKM,eACZZ,OAAQM,EAAKO,YACbZ,KAAMK,EAAKQ,SACXC,SAAUT,EAAKU,kBAvD3BC,gBA4DJ,SAAyBX,GACrB,OAAOpB,EAAM,CACTgC,OAAQ,MACRC,IAAK,+BACLb,WAjDR,SAASd,EAAY0B,EAAQzB,EAAMC,EAASC,EAAaC,EAAaC,EAAiBC,EAAUC,EAAOC,EAAQC,EAAMc,GAClH,OAAO7B,EAAM,CACLgC,SACAC,IAAK,GAAGlC,IACRmC,uBAAuB,EACvBd,KAAM,CACFb,OACAC,UACAC,cACAG,WACAC,QACAC,SACAC,OACAc,WACAnB,cACAC","file":"90.aa5ea8b430a1404b2dbf.bundle.js","sourcesContent":["angular\n    .module('graphdb.framework.rest.similarity.service', [])\n    .factory('SimilarityRestService', SimilarityRestService);\n\nSimilarityRestService.$inject = ['$http', '$repositories'];\n\nconst SIMILARITY_ENDPOINT = 'rest/similarity';\n\nfunction SimilarityRestService($http) {\n\n    return {\n        getIndexes,\n        getSearchQueries,\n        rebuildIndex,\n        deleteIndex,\n        createIndex,\n        getSamples,\n        getQuery,\n        saveSearchQuery\n    };\n\n    function getIndexes() {\n        return $http.get(SIMILARITY_ENDPOINT);\n    }\n\n    function getSamples() {\n        return $http.get(`${SIMILARITY_ENDPOINT}/samples`);\n    }\n\n    function getSearchQueries() {\n        return $http.get(`${SIMILARITY_ENDPOINT}/config`);\n    }\n\n    function createIndex(method, name, options, selectQuery, searchQuery, analogicalQuery, stopList, infer, sameAs, type, analyzer) {\n        return $http({\n                method,\n                url: `${SIMILARITY_ENDPOINT}`,\n                noCancelOnRouteChange: true,\n                data: {\n                    name,\n                    options,\n                    selectQuery,\n                    stopList,\n                    infer,\n                    sameAs,\n                    type,\n                    analyzer,\n                    searchQuery,\n                    analogicalQuery\n                }\n            }\n        );\n    }\n\n    function rebuildIndex(index) {\n        return createIndex('PUT', index.name, index.options, index.selectQuery, index.searchQuery, index.analogicalQuery, index.stopList, index.infer, index.sameAs, index.type);\n    }\n\n    function deleteIndex(index) {\n        return $http.delete(`${SIMILARITY_ENDPOINT}?name=${index.name}`);\n    }\n\n    function getQuery(data) {\n        return $http.get('rest/similarity/query',\n            {\n                params: {\n                    name: data.indexName,\n                    options: data.indexOptions,\n                    stopList: data.indexStopList,\n                    selectQuery: data.query,\n                    infer: data.queryInference,\n                    sameAs: data.querySameAs,\n                    type: data.viewType,\n                    analyzer: data.indexAnalyzer\n                }\n            });\n    }\n\n    function saveSearchQuery(data) {\n        return $http({\n            method: 'put',\n            url: 'rest/similarity/search-query',\n            data\n        });\n    }\n}\n"],"sourceRoot":""}